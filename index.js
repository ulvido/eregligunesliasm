var hc=Object.create;var Ka=Object.defineProperty;var pc=Object.getOwnPropertyDescriptor;var dc=Object.getOwnPropertyNames;var vc=Object.getPrototypeOf,mc=Object.prototype.hasOwnProperty;var _c=(i,r)=>()=>(r||i((r={exports:{}}).exports,r),r.exports);var gc=(i,r,t,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of dc(r))!mc.call(i,n)&&n!==t&&Ka(i,n,{get:()=>r[n],enumerable:!(e=pc(r,n))||e.enumerable});return i};var Xa=(i,r,t)=>(t=i!=null?hc(vc(i)):{},gc(r||!i||!i.__esModule?Ka(t,"default",{value:i,enumerable:!0}):t,i));var na=_c((ea,ra)=>{(function(i,r){typeof ea=="object"&&typeof ra<"u"?ra.exports=r():typeof define=="function"&&define.amd?define(r):(i=i||self).RBush=r()})(ea,function(){"use strict";function i(v,_,g,y,E){(function C(w,I,S,R,P){for(;R>S;){if(R-S>600){var L=R-S+1,F=I-S+1,k=Math.log(L),K=.5*Math.exp(2*k/3),D=.5*Math.sqrt(k*K*(L-K)/L)*(F-L/2<0?-1:1),G=Math.max(S,Math.floor(I-F*K/L+D)),b=Math.min(R,Math.floor(I+(L-F)*K/L+D));C(w,I,G,b,P)}var et=w[I],Q=S,X=R;for(r(w,S,I),P(w[R],et)>0&&r(w,S,R);Q<X;){for(r(w,Q,X),Q++,X--;P(w[Q],et)<0;)Q++;for(;P(w[X],et)>0;)X--}P(w[S],et)===0?r(w,S,X):r(w,++X,R),X<=I&&(S=X+1),I<=X&&(R=X-1)}})(v,_,g||0,y||v.length-1,E||t)}function r(v,_,g){var y=v[_];v[_]=v[g],v[g]=y}function t(v,_){return v<_?-1:v>_?1:0}var e=function(v){v===void 0&&(v=9),this._maxEntries=Math.max(4,v),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(v,_,g){if(!g)return _.indexOf(v);for(var y=0;y<_.length;y++)if(g(v,_[y]))return y;return-1}function o(v,_){a(v,0,v.children.length,_,v)}function a(v,_,g,y,E){E||(E=d(null)),E.minX=1/0,E.minY=1/0,E.maxX=-1/0,E.maxY=-1/0;for(var C=_;C<g;C++){var w=v.children[C];s(E,v.leaf?y(w):w)}return E}function s(v,_){return v.minX=Math.min(v.minX,_.minX),v.minY=Math.min(v.minY,_.minY),v.maxX=Math.max(v.maxX,_.maxX),v.maxY=Math.max(v.maxY,_.maxY),v}function l(v,_){return v.minX-_.minX}function u(v,_){return v.minY-_.minY}function f(v){return(v.maxX-v.minX)*(v.maxY-v.minY)}function h(v){return v.maxX-v.minX+(v.maxY-v.minY)}function c(v,_){return v.minX<=_.minX&&v.minY<=_.minY&&_.maxX<=v.maxX&&_.maxY<=v.maxY}function p(v,_){return _.minX<=v.maxX&&_.minY<=v.maxY&&_.maxX>=v.minX&&_.maxY>=v.minY}function d(v){return{children:v,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(v,_,g,y,E){for(var C=[_,g];C.length;)if(!((g=C.pop())-(_=C.pop())<=y)){var w=_+Math.ceil((g-_)/y/2)*y;i(v,w,_,g,E),C.push(_,w,w,g)}}return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(v){var _=this.data,g=[];if(!p(v,_))return g;for(var y=this.toBBox,E=[];_;){for(var C=0;C<_.children.length;C++){var w=_.children[C],I=_.leaf?y(w):w;p(v,I)&&(_.leaf?g.push(w):c(v,I)?this._all(w,g):E.push(w))}_=E.pop()}return g},e.prototype.collides=function(v){var _=this.data;if(!p(v,_))return!1;for(var g=[];_;){for(var y=0;y<_.children.length;y++){var E=_.children[y],C=_.leaf?this.toBBox(E):E;if(p(v,C)){if(_.leaf||c(v,C))return!0;g.push(E)}}_=g.pop()}return!1},e.prototype.load=function(v){if(!v||!v.length)return this;if(v.length<this._minEntries){for(var _=0;_<v.length;_++)this.insert(v[_]);return this}var g=this._build(v.slice(),0,v.length-1,0);if(this.data.children.length)if(this.data.height===g.height)this._splitRoot(this.data,g);else{if(this.data.height<g.height){var y=this.data;this.data=g,g=y}this._insert(g,this.data.height-g.height-1,!0)}else this.data=g;return this},e.prototype.insert=function(v){return v&&this._insert(v,this.data.height-1),this},e.prototype.clear=function(){return this.data=d([]),this},e.prototype.remove=function(v,_){if(!v)return this;for(var g,y,E,C=this.data,w=this.toBBox(v),I=[],S=[];C||I.length;){if(C||(C=I.pop(),y=I[I.length-1],g=S.pop(),E=!0),C.leaf){var R=n(v,C.children,_);if(R!==-1)return C.children.splice(R,1),I.push(C),this._condense(I),this}E||C.leaf||!c(C,w)?y?(g++,C=y.children[g],E=!1):C=null:(I.push(C),S.push(g),g=0,y=C,C=C.children[0])}return this},e.prototype.toBBox=function(v){return v},e.prototype.compareMinX=function(v,_){return v.minX-_.minX},e.prototype.compareMinY=function(v,_){return v.minY-_.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(v){return this.data=v,this},e.prototype._all=function(v,_){for(var g=[];v;)v.leaf?_.push.apply(_,v.children):g.push.apply(g,v.children),v=g.pop();return _},e.prototype._build=function(v,_,g,y){var E,C=g-_+1,w=this._maxEntries;if(C<=w)return o(E=d(v.slice(_,g+1)),this.toBBox),E;y||(y=Math.ceil(Math.log(C)/Math.log(w)),w=Math.ceil(C/Math.pow(w,y-1))),(E=d([])).leaf=!1,E.height=y;var I=Math.ceil(C/w),S=I*Math.ceil(Math.sqrt(w));x(v,_,g,S,this.compareMinX);for(var R=_;R<=g;R+=S){var P=Math.min(R+S-1,g);x(v,R,P,I,this.compareMinY);for(var L=R;L<=P;L+=I){var F=Math.min(L+I-1,P);E.children.push(this._build(v,L,F,y-1))}}return o(E,this.toBBox),E},e.prototype._chooseSubtree=function(v,_,g,y){for(;y.push(_),!_.leaf&&y.length-1!==g;){for(var E=1/0,C=1/0,w=void 0,I=0;I<_.children.length;I++){var S=_.children[I],R=f(S),P=(L=v,F=S,(Math.max(F.maxX,L.maxX)-Math.min(F.minX,L.minX))*(Math.max(F.maxY,L.maxY)-Math.min(F.minY,L.minY))-R);P<C?(C=P,E=R<E?R:E,w=S):P===C&&R<E&&(E=R,w=S)}_=w||_.children[0]}var L,F;return _},e.prototype._insert=function(v,_,g){var y=g?v:this.toBBox(v),E=[],C=this._chooseSubtree(y,this.data,_,E);for(C.children.push(v),s(C,y);_>=0&&E[_].children.length>this._maxEntries;)this._split(E,_),_--;this._adjustParentBBoxes(y,E,_)},e.prototype._split=function(v,_){var g=v[_],y=g.children.length,E=this._minEntries;this._chooseSplitAxis(g,E,y);var C=this._chooseSplitIndex(g,E,y),w=d(g.children.splice(C,g.children.length-C));w.height=g.height,w.leaf=g.leaf,o(g,this.toBBox),o(w,this.toBBox),_?v[_-1].children.push(w):this._splitRoot(g,w)},e.prototype._splitRoot=function(v,_){this.data=d([v,_]),this.data.height=v.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(v,_,g){for(var y,E,C,w,I,S,R,P=1/0,L=1/0,F=_;F<=g-_;F++){var k=a(v,0,F,this.toBBox),K=a(v,F,g,this.toBBox),D=(E=k,C=K,w=void 0,I=void 0,S=void 0,R=void 0,w=Math.max(E.minX,C.minX),I=Math.max(E.minY,C.minY),S=Math.min(E.maxX,C.maxX),R=Math.min(E.maxY,C.maxY),Math.max(0,S-w)*Math.max(0,R-I)),G=f(k)+f(K);D<P?(P=D,y=F,L=G<L?G:L):D===P&&G<L&&(L=G,y=F)}return y||g-_},e.prototype._chooseSplitAxis=function(v,_,g){var y=v.leaf?this.compareMinX:l,E=v.leaf?this.compareMinY:u;this._allDistMargin(v,_,g,y)<this._allDistMargin(v,_,g,E)&&v.children.sort(y)},e.prototype._allDistMargin=function(v,_,g,y){v.children.sort(y);for(var E=this.toBBox,C=a(v,0,_,E),w=a(v,g-_,g,E),I=h(C)+h(w),S=_;S<g-_;S++){var R=v.children[S];s(C,v.leaf?E(R):R),I+=h(C)}for(var P=g-_-1;P>=_;P--){var L=v.children[P];s(w,v.leaf?E(L):L),I+=h(w)}return I},e.prototype._adjustParentBBoxes=function(v,_,g){for(var y=g;y>=0;y--)s(_[y],v)},e.prototype._condense=function(v){for(var _=v.length-1,g=void 0;_>=0;_--)v[_].children.length===0?_>0?(g=v[_-1].children).splice(g.indexOf(v[_]),1):this.clear():o(v[_],this.toBBox)},e})});function j(){}function yc(i,r){for(let t in r)i[t]=r[t];return i}function yo(i){return i()}function za(){return Object.create(null)}function gr(i){i.forEach(yo)}function $a(i){return typeof i=="function"}function V(i,r){return i!=i?r==r:i!==r||i&&typeof i=="object"||typeof i=="function"}var fi;function vi(i,r){return fi||(fi=document.createElement("a")),fi.href=r,i===fi.href}function qa(i){return Object.keys(i).length===0}function Va(i,r,t,e){if(i){let n=Ha(i,r,t,e);return i[0](n)}}function Ha(i,r,t,e){return i[1]&&e?yc(t.ctx.slice(),i[1](e(r))):t.ctx}function Ja(i,r,t,e){if(i[2]&&e){let n=i[2](e(t));if(r.dirty===void 0)return n;if(typeof n=="object"){let o=[],a=Math.max(r.dirty.length,n.length);for(let s=0;s<a;s+=1)o[s]=r.dirty[s]|n[s];return o}return r.dirty|n}return r.dirty}function Qa(i,r,t,e,n,o){if(n){let a=Ha(r,t,e,o);i.p(a,n)}}function ts(i){if(i.ctx.length>32){let r=[],t=i.ctx.length/32;for(let e=0;e<t;e++)r[e]=-1;return r}return-1}var es=!1;function xc(){es=!0}function Ec(){es=!1}function T(i,r){i.appendChild(r)}function wt(i,r,t){let e=Tc(i);if(!e.getElementById(r)){let n=A("style");n.id=r,n.textContent=t,Cc(e,n)}}function Tc(i){if(!i)return document;let r=i.getRootNode?i.getRootNode():i.ownerDocument;return r&&r.host?r:i.ownerDocument}function Cc(i,r){T(i.head||i,r)}function H(i,r,t){i.insertBefore(r,t||null)}function W(i){i.parentNode.removeChild(i)}function A(i){return document.createElement(i)}function M(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function lt(i){return document.createTextNode(i)}function z(){return lt(" ")}function Zt(i,r,t,e){return i.addEventListener(r,t,e),()=>i.removeEventListener(r,t,e)}function m(i,r,t){t==null?i.removeAttribute(r):i.getAttribute(r)!==t&&i.setAttribute(r,t)}function wc(i){return Array.from(i.childNodes)}function ct(i,r){r=""+r,i.wholeText!==r&&(i.data=r)}function xo(i,r,t,e){t===null?i.style.removeProperty(r):i.style.setProperty(r,t,e?"important":"")}var ci;function Sc(){if(ci===void 0){ci=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ci=!0}}return ci}function rs(i,r){getComputedStyle(i).position==="static"&&(i.style.position="relative");let e=A("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;let n=Sc(),o;return n?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Zt(window,"message",a=>{a.source===e.contentWindow&&r()})):(e.src="about:blank",e.onload=()=>{o=Zt(e.contentWindow,"resize",r)}),T(i,e),()=>{(n||o&&e.contentWindow)&&o(),W(e)}}var Sn;function wn(i){Sn=i}function Ic(){if(!Sn)throw new Error("Function called outside component initialization");return Sn}function In(i){Ic().$$.on_mount.push(i)}var Cn=[];var Wa=[],pi=[],Za=[],Rc=Promise.resolve(),go=!1;function Oc(){go||(go=!0,Rc.then(ns))}function _r(i){pi.push(i)}var _o=new Set,hi=0;function ns(){let i=Sn;do{for(;hi<Cn.length;){let r=Cn[hi];hi++,wn(r),Lc(r.$$)}for(wn(null),Cn.length=0,hi=0;Wa.length;)Wa.pop()();for(let r=0;r<pi.length;r+=1){let t=pi[r];_o.has(t)||(_o.add(t),t())}pi.length=0}while(Cn.length);for(;Za.length;)Za.pop()();go=!1,_o.clear(),wn(i)}function Lc(i){if(i.fragment!==null){i.update(),gr(i.before_update);let r=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,r),i.after_update.forEach(_r)}}var di=new Set,Ac;function it(i,r){i&&i.i&&(di.delete(i),i.i(r))}function ot(i,r,t,e){if(i&&i.o){if(di.has(i))return;di.add(i),Ac.c.push(()=>{di.delete(i),e&&(t&&i.d(1),e())}),i.o(r)}}var zm=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ft(i){i&&i.c()}function ut(i,r,t,e){let{fragment:n,on_mount:o,on_destroy:a,after_update:s}=i.$$;n&&n.m(r,t),e||_r(()=>{let l=o.map(yo).filter($a);a?a.push(...l):gr(l),i.$$.on_mount=[]}),s.forEach(_r)}function at(i,r){let t=i.$$;t.fragment!==null&&(gr(t.on_destroy),t.fragment&&t.fragment.d(r),t.on_destroy=t.fragment=null,t.ctx=[])}function Pc(i,r){i.$$.dirty[0]===-1&&(Cn.push(i),Oc(),i.$$.dirty.fill(0)),i.$$.dirty[r/31|0]|=1<<r%31}function J(i,r,t,e,n,o,a,s=[-1]){let l=Sn;wn(i);let u=i.$$={fragment:null,ctx:null,props:o,update:j,not_equal:n,bound:za(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(l?l.$$.context:[])),callbacks:za(),dirty:s,skip_bound:!1,root:r.target||l.$$.root};a&&a(u.root);let f=!1;if(u.ctx=t?t(i,r.props||{},(h,c,...p)=>{let d=p.length?p[0]:c;return u.ctx&&n(u.ctx[h],u.ctx[h]=d)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](d),f&&Pc(i,h)),c}):[],u.update(),f=!0,gr(u.before_update),u.fragment=e?e(u.ctx):!1,r.target){if(r.hydrate){xc();let h=wc(r.target);u.fragment&&u.fragment.l(h),h.forEach(W)}else u.fragment&&u.fragment.c();r.intro&&it(i.$$.fragment),ut(i,r.target,r.anchor,r.customElement),Ec(),ns()}wn(l)}var Mc;typeof HTMLElement=="function"&&(Mc=class extends HTMLElement{constructor(){super();this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:i}=this.$$;this.$$.on_disconnect=i.map(yo).filter($a);for(let r in this.$$.slotted)this.appendChild(this.$$.slotted[r])}attributeChangedCallback(i,r,t){this[i]=t}disconnectedCallback(){gr(this.$$.on_disconnect)}$destroy(){at(this,1),this.$destroy=j}$on(i,r){let t=this.$$.callbacks[i]||(this.$$.callbacks[i]=[]);return t.push(r),()=>{let e=t.indexOf(r);e!==-1&&t.splice(e,1)}}$set(i){this.$$set&&!qa(i)&&(this.$$.skip_bound=!0,this.$$set(i),this.$$.skip_bound=!1)}});var $=class{$destroy(){at(this,1),this.$destroy=j}$on(r,t){let e=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return e.push(t),()=>{let n=e.indexOf(t);n!==-1&&e.splice(n,1)}}$set(r){this.$$set&&!qa(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}};function Fc(i){let r,t,e,n,o,a,s;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("line"),a=M("line"),s=M("line"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"x1","4"),m(o,"y1","6"),m(o,"x2","20"),m(o,"y2","6"),m(a,"x1","4"),m(a,"y1","12"),m(a,"x2","20"),m(a,"y2","12"),m(s,"x1","4"),m(s,"y1","18"),m(s,"x2","20"),m(s,"y2","18"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(l,u){H(l,r,u),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a),T(r,s)},p(l,[u]){u&1&&ct(e,l[0])},i:j,o:j,d(l){l&&W(r)}}}function Dc(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var is=class extends ${constructor(r){super();J(this,r,Dc,Fc,V,{tooltip:0})}},os=is;function kc(i){wt(i,"svelte-dn2vhu","nav.svelte-dn2vhu{grid-area:nav;width:100%;position:fixed;top:0;height:48px;display:flex;justify-content:center;align-items:center;color:lightgrey;background:rgb(0 0 0 / 80%);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);font-size:12px;z-index:9999}.menu.svelte-dn2vhu{width:48px;height:48px;position:fixed;left:0;padding:4px;cursor:pointer}.menu.svelte-dn2vhu,.asm.svelte-dn2vhu{display:none}.buttons.svelte-dn2vhu{display:flex;justify-content:center;gap:4px}.btn.svelte-dn2vhu{display:flex;align-items:center;border-radius:2px;padding:10px 20px;cursor:pointer}.btn.svelte-dn2vhu:hover{color:white;background:linear-gradient(356deg, #227e6a, #3ca18c)}.btn.svelte-dn2vhu:active{box-shadow:0 0 4px inset #000}@media(max-width: 600px){.menu.svelte-dn2vhu,.asm.svelte-dn2vhu{display:block}.buttons.svelte-dn2vhu{position:fixed;top:48px;left:0;flex-direction:column;background:rgb(64, 68, 87);font-size:18px}}")}function Nc(i){let r,t,e,n,o,a,s,l,u,f,h,c,p,d,x,v,_,g,y,E,C,w,I;return e=new os({props:{tooltip:"Men\xFC"}}),{c(){r=A("nav"),t=A("div"),ft(e.$$.fragment),n=z(),o=A("div"),a=lt(i[0]),s=lt(" ASM"),l=z(),u=A("div"),f=A("div"),f.textContent="ASM",h=z(),c=A("div"),c.textContent="Harita",p=z(),d=A("div"),d.textContent="\xC7al\u0131\u015Fma Saatleri",x=z(),v=A("div"),v.textContent="Ba\u011Fl\u0131 K\xF6yler",_=z(),g=A("div"),g.textContent="Gezici Sa\u011Fl\u0131k Hizmeti",m(t,"class","menu svelte-dn2vhu"),m(t,"tabindex","-1"),m(o,"class","asm svelte-dn2vhu"),m(f,"class","btn svelte-dn2vhu"),m(c,"class","btn svelte-dn2vhu"),m(d,"class","btn svelte-dn2vhu"),m(v,"class","btn svelte-dn2vhu"),m(g,"class","btn svelte-dn2vhu"),m(u,"class","buttons svelte-dn2vhu"),m(u,"style",y=`display:${i[2]>585||i[1]?"flex":"none"}`),m(r,"class","no-copy svelte-dn2vhu"),_r(()=>i[6].call(r))},m(S,R){H(S,r,R),T(r,t),ut(e,t,null),T(r,n),T(r,o),T(o,a),T(o,s),T(r,l),T(r,u),T(u,f),T(u,h),T(u,c),T(u,p),T(u,d),T(u,x),T(u,v),T(u,_),T(u,g),E=rs(r,i[6].bind(r)),C=!0,w||(I=[Zt(t,"click",i[4]),Zt(t,"focusout",i[5]),Zt(f,"mousedown",i[3]("asm")),Zt(c,"mousedown",i[3]("harita")),Zt(d,"mousedown",i[3]("calisma-saatleri")),Zt(v,"mousedown",i[3]("bagli-koyler")),Zt(g,"mousedown",i[3]("gezici-saglik-hizmeti"))],w=!0)},p(S,[R]){(!C||R&1)&&ct(a,S[0]),(!C||R&6&&y!==(y=`display:${S[2]>585||S[1]?"flex":"none"}`))&&m(u,"style",y)},i(S){C||(it(e.$$.fragment,S),C=!0)},o(S){ot(e.$$.fragment,S),C=!1},d(S){S&&W(r),at(e),E(),w=!1,gr(I)}}}function Gc(i,r,t){let{asm_name:e}=r,n=f=>()=>{document.getElementById(f).scrollIntoView({behavior:"smooth"})},o=!1,a,s=()=>t(1,o=!o),l=()=>t(1,o=!1);function u(){a=this.clientWidth,t(2,a)}return i.$$set=f=>{"asm_name"in f&&t(0,e=f.asm_name)},[e,o,a,n,s,l,u]}var as=class extends ${constructor(r){super();J(this,r,Gc,Nc,V,{asm_name:0},kc)}},ss=as;function bc(i){wt(i,"svelte-1s3ebqx",".wrapper.svelte-1s3ebqx{scroll-margin-top:100px}.title.svelte-1s3ebqx{text-align:center;font-size:64px;font-weight:300;color:#23485d;padding-bottom:20px;transition:font-size 200ms ease}@media(max-width: 600px){.title.svelte-1s3ebqx{font-size:44px}}")}function jc(i){let r,t,e,n,o,a=i[3].default,s=Va(a,i,i[2],null);return{c(){r=A("div"),t=A("div"),e=lt(i[1]),n=z(),s&&s.c(),m(t,"class","title svelte-1s3ebqx"),m(r,"class","wrapper svelte-1s3ebqx"),m(r,"id",i[0])},m(l,u){H(l,r,u),T(r,t),T(t,e),T(r,n),s&&s.m(r,null),o=!0},p(l,[u]){(!o||u&2)&&ct(e,l[1]),s&&s.p&&(!o||u&4)&&Qa(s,a,l,l[2],o?Ja(a,l[2],u,null):ts(l[2]),null),(!o||u&1)&&m(r,"id",l[0])},i(l){o||(it(s,l),o=!0)},o(l){ot(s,l),o=!1},d(l){l&&W(r),s&&s.d(l)}}}function Yc(i,r,t){let{$$slots:e={},$$scope:n}=r,{id:o}=r,{title:a}=r;return i.$$set=s=>{"id"in s&&t(0,o=s.id),"title"in s&&t(1,a=s.title),"$$scope"in s&&t(2,n=s.$$scope)},[o,a,n,e]}var ls=class extends ${constructor(r){super();J(this,r,Yc,jc,V,{id:0,title:1},bc)}},Nr=ls;function Uc(i){let r,t,e,n,o;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("path"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"d","M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(a,s){H(a,r,s),T(r,t),T(t,e),T(r,n),T(r,o)},p(a,[s]){s&1&&ct(e,a[0])},i:j,o:j,d(a){a&&W(r)}}}function Bc(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var us=class extends ${constructor(r){super();J(this,r,Bc,Uc,V,{tooltip:0})}},fs=us;function Kc(i){let r,t,e,n,o;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("path"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"d","M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(a,s){H(a,r,s),T(r,t),T(t,e),T(r,n),T(r,o)},p(a,[s]){s&1&&ct(e,a[0])},i:j,o:j,d(a){a&&W(r)}}}function Xc(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var cs=class extends ${constructor(r){super();J(this,r,Xc,Kc,V,{tooltip:0})}},hs=cs;function zc(i){let r,t,e,n,o;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("path"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"d","M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(a,s){H(a,r,s),T(r,t),T(t,e),T(r,n),T(r,o)},p(a,[s]){s&1&&ct(e,a[0])},i:j,o:j,d(a){a&&W(r)}}}function Wc(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var ps=class extends ${constructor(r){super();J(this,r,Wc,zc,V,{tooltip:0})}},ds=ps;function Zc(i){let r,t,e,n,o,a,s;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("rect"),a=M("circle"),s=M("line"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"x","4"),m(o,"y","4"),m(o,"width","16"),m(o,"height","16"),m(o,"rx","4"),m(a,"cx","12"),m(a,"cy","12"),m(a,"r","3"),m(s,"x1","16.5"),m(s,"y1","7.5"),m(s,"x2","16.5"),m(s,"y2","7.501"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(l,u){H(l,r,u),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a),T(r,s)},p(l,[u]){u&1&&ct(e,l[0])},i:j,o:j,d(l){l&&W(r)}}}function $c(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var vs=class extends ${constructor(r){super();J(this,r,$c,Zc,V,{tooltip:0})}},ms=vs;function qc(i){let r,t,e,n,o,a;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("rect"),a=M("path"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"x","3"),m(o,"y","5"),m(o,"width","18"),m(o,"height","14"),m(o,"rx","4"),m(a,"d","M10 9l5 3l-5 3z"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(s,l){H(s,r,l),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a)},p(s,[l]){l&1&&ct(e,s[0])},i:j,o:j,d(s){s&&W(r)}}}function Vc(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var _s=class extends ${constructor(r){super();J(this,r,Vc,qc,V,{tooltip:0})}},gs=_s;function Hc(i){wt(i,"svelte-yab7ne",".wrapper.svelte-yab7ne{grid-area:info;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 12px;gap:12px}.tel.svelte-yab7ne{font-size:40px;font-weight:700;display:flex;align-items:center;color:#252e3e;cursor:pointer;transition:font-size 200ms ease}.phone.svelte-yab7ne{width:60px;height:60px;padding:2px}@media(max-width: 600px){.phone.svelte-yab7ne{width:48px;height:48px}.tel.svelte-yab7ne{font-size:32px}}")}function Jc(i){let r,t,e,n,o,a,s,l,u;return n=new fs({}),{c(){r=A("div"),t=A("div"),e=A("div"),ft(n.$$.fragment),o=z(),a=lt(i[0]),m(e,"class","phone svelte-yab7ne"),m(t,"class","tel svelte-yab7ne"),m(r,"class","wrapper svelte-yab7ne")},m(f,h){H(f,r,h),T(r,t),T(t,e),ut(n,e,null),T(t,o),T(t,a),s=!0,l||(u=Zt(t,"click",i[1]),l=!0)},p(f,[h]){(!s||h&1)&&ct(a,f[0])},i(f){s||(it(n.$$.fragment,f),s=!0)},o(f){ot(n.$$.fragment,f),s=!1},d(f){f&&W(r),at(n),l=!1,u()}}}function Qc(i,r,t){let{tel:e}=r,n={twitter:hs,facebook:ds,instagram:ms,youtube:gs},o=()=>window.open("tel:+903723251393");return i.$$set=a=>{"tel"in a&&t(0,e=a.tel)},[e,o]}var ys=class extends ${constructor(r){super();J(this,r,Qc,Jc,V,{tel:0},Hc)}},xs=ys;function th(i){let r,t,e,n,o,a,s,l,u;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("path"),a=M("path"),s=M("path"),l=M("path"),u=M("circle"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"d","M6 4h-1a2 2 0 0 0 -2 2v3.5h0a5.5 5.5 0 0 0 11 0v-3.5a2 2 0 0 0 -2 -2h-1"),m(a,"d","M8 15a6 6 0 1 0 12 0v-3"),m(s,"d","M11 3v2"),m(l,"d","M6 3v2"),m(u,"cx","20"),m(u,"cy","10"),m(u,"r","2"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(f,h){H(f,r,h),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a),T(r,s),T(r,l),T(r,u)},p(f,[h]){h&1&&ct(e,f[0])},i:j,o:j,d(f){f&&W(r)}}}function eh(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var Es=class extends ${constructor(r){super();J(this,r,eh,th,V,{tooltip:0})}},Eo=Es;function rh(i){let r,t,e,n,o;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("path"),m(n,"d","m 12,6.0000097 c 2.941,0 5.685,0.847 8,2.31 L 18,18.00001 H 6 L 4,8.3090097 a 14.93,14.93 0 0 1 8,-2.309 z"),m(o,"d","M 13.537109,11.433594 A 1.6378168,1.6378168 0 0 1 12,12.517578 1.6378168,1.6378168 0 0 1 10.464844,11.439453 1.6378168,1.6378168 0 0 0 10.361328,12 1.6378168,1.6378168 0 0 0 12,13.638672 1.6378168,1.6378168 0 0 0 13.638672,12 1.6378168,1.6378168 0 0 0 13.537109,11.433594 Z"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(a,s){H(a,r,s),T(r,t),T(t,e),T(r,n),T(r,o)},p(a,[s]){s&1&&ct(e,a[0])},i:j,o:j,d(a){a&&W(r)}}}function nh(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var Ts=class extends ${constructor(r){super();J(this,r,nh,rh,V,{tooltip:0})}},To=Ts;function ih(i){let r,t,e,n,o,a;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("circle"),a=M("path"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"cx","12"),m(o,"cy","5"),m(o,"r","2"),m(a,"d","M10 22v-4h-2l2 -6a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1l2 6h-2v4"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(s,l){H(s,r,l),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a)},p(s,[l]){l&1&&ct(e,s[0])},i:j,o:j,d(s){s&&W(r)}}}function oh(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var Cs=class extends ${constructor(r){super();J(this,r,oh,ih,V,{tooltip:0})}},ws=Cs;function ah(i){wt(i,"svelte-v932is",".wrapper.svelte-v932is,.birim.svelte-v932is{display:flex;flex-direction:column;align-items:center;gap:20px}.title.svelte-v932is{font-size:36px}.birim-title.svelte-v932is{font-size:24px;color:#0e2523}.personel.svelte-v932is{width:320px;display:flex;align-items:center;border-radius:8px;border:2px solid #1b2f3a;color:white;background:linear-gradient(340deg, #1a203d, #3ca18c);box-shadow:0 0 10px gray}.icon.svelte-v932is{width:64px;height:64px;padding:4px}.name.svelte-v932is{font-size:20px;padding-left:10px}")}function sh(i){let r,t,e,n,o,a,s,l,u,f,h,c,p,d,x,v,_,g,y,E,C,w,I,S,R,P,L,F,k,K,D,G,b,et,Q,X,mt,O,Et,Z,xt;return u=new Eo({props:{tooltip:"Doktor"}}),x=new To({props:{tooltip:"Hem\u015Fire"}}),C=new To({props:{tooltip:"Paramedik"}}),L=new ws({props:{tooltip:"Personel"}}),O=new Eo({props:{tooltip:"Doktor"}}),{c(){r=A("div"),t=A("div"),t.textContent="B\u0130R\u0130MLER",e=z(),n=A("div"),o=A("div"),o.textContent="67.02.049 No.lu Birim",a=z(),s=A("div"),l=A("div"),ft(u.$$.fragment),f=z(),h=A("div"),h.textContent="Doktor Faruk Polat",c=z(),p=A("div"),d=A("div"),ft(x.$$.fragment),v=z(),_=A("div"),_.textContent="Hem\u015Fire Esra T\xFCrko\u011Flu",g=z(),y=A("div"),E=A("div"),ft(C.$$.fragment),w=z(),I=A("div"),I.textContent="Paramedik Elanur Y\u0131ld\u0131r\u0131m",S=z(),R=A("div"),P=A("div"),ft(L.$$.fragment),F=z(),k=A("div"),k.textContent="Personel Song\xFCl \xC7akar",K=z(),D=A("div"),G=A("div"),G.textContent="67.02.050 No.lu Birim",b=z(),et=A("div"),et.textContent="G\xD6REVLEND\u0130RME",Q=z(),X=A("div"),mt=A("div"),ft(O.$$.fragment),Et=z(),Z=A("div"),Z.textContent="Doktor Faruk Polat",m(t,"class","title svelte-v932is"),m(o,"class","birim-title svelte-v932is"),m(l,"class","icon svelte-v932is"),m(h,"class","name svelte-v932is"),m(s,"class","personel svelte-v932is"),m(d,"class","icon svelte-v932is"),m(_,"class","name svelte-v932is"),m(p,"class","personel svelte-v932is"),m(E,"class","icon svelte-v932is"),m(I,"class","name svelte-v932is"),m(y,"class","personel svelte-v932is"),m(P,"class","icon svelte-v932is"),m(k,"class","name svelte-v932is"),m(R,"class","personel svelte-v932is"),m(n,"class","birim svelte-v932is"),m(G,"class","birim-title svelte-v932is"),m(et,"class","duty"),m(mt,"class","icon svelte-v932is"),m(Z,"class","name svelte-v932is"),m(X,"class","personel svelte-v932is"),m(D,"class","birim svelte-v932is"),m(r,"class","wrapper svelte-v932is")},m(pt,Kt){H(pt,r,Kt),T(r,t),T(r,e),T(r,n),T(n,o),T(n,a),T(n,s),T(s,l),ut(u,l,null),T(s,f),T(s,h),T(n,c),T(n,p),T(p,d),ut(x,d,null),T(p,v),T(p,_),T(n,g),T(n,y),T(y,E),ut(C,E,null),T(y,w),T(y,I),T(n,S),T(n,R),T(R,P),ut(L,P,null),T(R,F),T(R,k),T(r,K),T(r,D),T(D,G),T(D,b),T(D,et),T(D,Q),T(D,X),T(X,mt),ut(O,mt,null),T(X,Et),T(X,Z),xt=!0},p:j,i(pt){xt||(it(u.$$.fragment,pt),it(x.$$.fragment,pt),it(C.$$.fragment,pt),it(L.$$.fragment,pt),it(O.$$.fragment,pt),xt=!0)},o(pt){ot(u.$$.fragment,pt),ot(x.$$.fragment,pt),ot(C.$$.fragment,pt),ot(L.$$.fragment,pt),ot(O.$$.fragment,pt),xt=!1},d(pt){pt&&W(r),at(u),at(x),at(C),at(L),at(O)}}}var Ss=class extends ${constructor(r){super();J(this,r,null,sh,V,{},ah)}},Is=Ss;function lh(i){wt(i,"svelte-15kyufr",".wrapper.svelte-15kyufr{grid-area:header;display:flex;flex-direction:column;gap:72px;justify-content:center;align-items:center}.text.svelte-15kyufr{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;font-size:24px;font-weight:300}.asm.svelte-15kyufr{font-size:88px;letter-spacing:6px;color:#23485d;transition:font-size 200ms ease}.line.svelte-15kyufr{color:crimson;transition:font-size 200ms ease}img.svelte-15kyufr{height:100%;max-height:100px}.tsm.svelte-15kyufr{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.tsm-title.svelte-15kyufr{font-size:24px;font-weight:700}.tsm-address.svelte-15kyufr{font-style:italic}@media(max-width: 600px){.asm.svelte-15kyufr{font-size:64px}.line.svelte-15kyufr{font-size:20px}}")}function uh(i){let r,t,e,n,o,a,s,l,u=i[0].asm_name.toLocaleUpperCase("TR")+"",f,h,c,p,d,x,v,_,g,y;return d=new xs({props:{tel:i[0].tel}}),v=new Is({}),{c(){r=A("div"),t=A("div"),e=A("img"),o=z(),a=A("div"),a.textContent="T.C SA\u011ELIK BAKANLI\u011EI",s=z(),l=A("div"),f=lt(u),h=z(),c=A("div"),c.textContent="A\u0130LE SA\u011ELI\u011EI MERKEZ\u0130",p=z(),ft(d.$$.fragment),x=z(),ft(v.$$.fragment),_=z(),g=A("div"),g.innerHTML=`<div class="tsm-title svelte-15kyufr">BA\u011ELI OLUNAN TSM</div> 
    <div class="tsm-name">Kdz. Ere\u011Fli \u0130l\xE7e Sa\u011Fl\u0131k M\xFCd\xFCrl\xFC\u011F\xFC</div> 
    <div class="tsm-address svelte-15kyufr">M\xFCft\xFC Mah. Yurt Cad. No:4 Kdz. Eregli Zonguldak</div>`,vi(e.src,n=fh)||m(e,"src",n),m(e,"alt","Sa\u011Fl\u0131k Bakanl\u0131\u011F\u0131 Logo"),m(e,"class","svelte-15kyufr"),m(a,"class","line svelte-15kyufr"),m(l,"class","asm svelte-15kyufr"),m(c,"class","line svelte-15kyufr"),m(t,"class","text svelte-15kyufr"),m(g,"class","tsm svelte-15kyufr"),m(r,"class","wrapper svelte-15kyufr"),m(r,"id","asm")},m(E,C){H(E,r,C),T(r,t),T(t,e),T(t,o),T(t,a),T(t,s),T(t,l),T(l,f),T(t,h),T(t,c),T(r,p),ut(d,r,null),T(r,x),ut(v,r,null),T(r,_),T(r,g),y=!0},p(E,[C]){(!y||C&1)&&u!==(u=E[0].asm_name.toLocaleUpperCase("TR")+"")&&ct(f,u);let w={};C&1&&(w.tel=E[0].tel),d.$set(w)},i(E){y||(it(d.$$.fragment,E),it(v.$$.fragment,E),y=!0)},o(E){ot(d.$$.fragment,E),ot(v.$$.fragment,E),y=!1},d(E){E&&W(r),at(d),at(v)}}}var fh="./assets/images/logox200.png";function ch(i,r,t){let{data:e}=r;return i.$$set=n=>{"data"in n&&t(0,e=n.data)},[e]}var Rs=class extends ${constructor(r){super();J(this,r,ch,uh,V,{data:0},lh)}},Os=Rs;function tt(){return function(){throw new Error("Unimplemented abstract method.")}()}var hh=0;function rt(i){return i.ol_uid||(i.ol_uid=String(++hh))}var mi="6.13.0";var ph=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dh=function(i){ph(r,i);function r(t){var e=this,n=mi==="latest"?mi:"v"+mi.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+n+"/doc/errors/#"+t+" for details.";return e=i.call(this,o)||this,e.code=t,e.name="AssertionError",e.message=o,e}return r}(Error),_i=dh;var vh=function(){function i(r){this.propagationStopped,this.defaultPrevented,this.type=r,this.target=null}return i.prototype.preventDefault=function(){this.defaultPrevented=!0},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i}();var Pt=vh;var fe={PROPERTYCHANGE:"propertychange"};var mh=function(){function i(){this.disposed=!1}return i.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){},i}(),Gr=mh;function xe(i,r){return i>r?1:i<r?-1:0}function br(i,r,t){var e=i.length;if(i[0]<=r)return 0;if(r<=i[e-1])return e-1;var n=void 0;if(t>0){for(n=1;n<e;++n)if(i[n]<r)return n-1}else if(t<0){for(n=1;n<e;++n)if(i[n]<=r)return n}else for(n=1;n<e;++n){if(i[n]==r)return n;if(i[n]<r)return typeof t=="function"?t(r,i[n-1],i[n])>0?n-1:n:i[n-1]-r<r-i[n]?n-1:n}return e-1}function Ls(i,r,t){for(;r<t;){var e=i[r];i[r]=i[t],i[t]=e,++r,--t}}function gi(i,r){for(var t=Array.isArray(r)?r:[r],e=t.length,n=0;n<e;n++)i[i.length]=t[n]}function $t(i,r){var t=i.length;if(t!==r.length)return!1;for(var e=0;e<t;e++)if(i[e]!==r[e])return!1;return!0}function As(i,r,t){var e=r||xe;return i.every(function(n,o){if(o===0)return!0;var a=e(i[o-1],n);return!(a>0||t&&a===0)})}function Ee(){return!0}function ke(){return!1}function te(){}function Ps(i){var r=!1,t,e,n;return function(){var o=Array.prototype.slice.call(arguments);return(!r||this!==n||!$t(o,e))&&(r=!0,n=this,e=o,t=i.apply(this,arguments)),t}}var yt=typeof Object.assign=="function"?Object.assign:function(i,r){if(i==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(i),e=1,n=arguments.length;e<n;++e){var o=arguments[e];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(t[a]=o[a])}return t};function Te(i){for(var r in i)delete i[r]}var yi=typeof Object.values=="function"?Object.values:function(i){var r=[];for(var t in i)r.push(i[t]);return r};function Ne(i){var r;for(r in i)return!1;return!r}var _h=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gh=function(i){_h(r,i);function r(t){var e=i.call(this)||this;return e.eventTarget_=t,e.pendingRemovals_=null,e.dispatching_=null,e.listeners_=null,e}return r.prototype.addEventListener=function(t,e){if(!(!t||!e)){var n=this.listeners_||(this.listeners_={}),o=n[t]||(n[t]=[]);o.indexOf(e)===-1&&o.push(e)}},r.prototype.dispatchEvent=function(t){var e=typeof t=="string",n=e?t:t.type,o=this.listeners_&&this.listeners_[n];if(!!o){var a=e?new Pt(t):t;a.target||(a.target=this.eventTarget_||this);var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});n in s||(s[n]=0,l[n]=0),++s[n];for(var u,f=0,h=o.length;f<h;++f)if("handleEvent"in o[f]?u=o[f].handleEvent(a):u=o[f].call(this,a),u===!1||a.propagationStopped){u=!1;break}if(--s[n]===0){var c=l[n];for(delete l[n];c--;)this.removeEventListener(n,te);delete s[n]}return u}},r.prototype.disposeInternal=function(){this.listeners_&&Te(this.listeners_)},r.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},r.prototype.hasListener=function(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1},r.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var o=n.indexOf(e);o!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[o]=te,++this.pendingRemovals_[t]):(n.splice(o,1),n.length===0&&delete this.listeners_[t]))}},r}(Gr),ie=gh;var N={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function nt(i,r,t,e,n){if(e&&e!==i&&(t=t.bind(e)),n){var o=t;t=function(){i.removeEventListener(r,t),o.apply(this,arguments)}}var a={target:i,type:r,listener:t};return i.addEventListener(r,t),a}function jr(i,r,t,e){return nt(i,r,t,e,!0)}function st(i){i&&i.target&&(i.target.removeEventListener(i.type,i.listener),Te(i))}var yh=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xi=function(i){yh(r,i);function r(){var t=i.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return r.prototype.changed=function(){++this.revision_,this.dispatchEvent(N.CHANGE)},r.prototype.getRevision=function(){return this.revision_},r.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,o=new Array(n),a=0;a<n;++a)o[a]=nt(this,t[a],e);return o}else return nt(this,t,e)},r.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var o=t.length;n=new Array(o);for(var a=0;a<o;++a)n[a]=jr(this,t[a],e)}else n=jr(this,t,e);return e.ol_key=n,n},r.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)xh(n);else if(Array.isArray(t))for(var o=0,a=t.length;o<a;++o)this.removeEventListener(t[o],e);else this.removeEventListener(t,e)},r}(ie);xi.prototype.on;xi.prototype.once;xi.prototype.un;function xh(i){if(Array.isArray(i))for(var r=0,t=i.length;r<t;++r)st(i[r]);else st(i)}var Ei=xi;var Fs=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ms=function(i){Fs(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.key=e,o.oldValue=n,o}return r}(Pt);var Eh=function(i){Fs(r,i);function r(t){var e=i.call(this)||this;return e.on,e.once,e.un,rt(e),e.values_=null,t!==void 0&&e.setProperties(t),e}return r.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},r.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},r.prototype.getProperties=function(){return this.values_&&yt({},this.values_)||{}},r.prototype.hasProperties=function(){return!!this.values_},r.prototype.notify=function(t,e){var n;n="change:".concat(t),this.hasListener(n)&&this.dispatchEvent(new Ms(n,t,e)),n=fe.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new Ms(n,t,e))},r.prototype.addChangeListener=function(t,e){this.addEventListener("change:".concat(t),e)},r.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:".concat(t),e)},r.prototype.set=function(t,e,n){var o=this.values_||(this.values_={});if(n)o[t]=e;else{var a=o[t];o[t]=e,a!==e&&this.notify(t,a)}},r.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},r.prototype.applyProperties=function(t){!t.values_||yt(this.values_||(this.values_={}),t.values_)},r.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Ne(this.values_)&&(this.values_=null),e||this.notify(t,n)}},r}(Ei),It=Eh;var Mt={ADD:"add",REMOVE:"remove"};var ks=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ds={LENGTH:"length"},Ti=function(i){ks(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.element=e,o.index=n,o}return r}(Pt);var Th=function(i){ks(r,i);function r(t,e){var n=i.call(this)||this;n.on,n.once,n.un;var o=e||{};if(n.unique_=!!o.unique,n.array_=t||[],n.unique_)for(var a=0,s=n.array_.length;a<s;++a)n.assertUnique_(n.array_[a],a);return n.updateLength_(),n}return r.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},r.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},r.prototype.forEach=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)t(e[n],n,e)},r.prototype.getArray=function(){return this.array_},r.prototype.item=function(t){return this.array_[t]},r.prototype.getLength=function(){return this.get(Ds.LENGTH)},r.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Ti(Mt.ADD,e,t))},r.prototype.pop=function(){return this.removeAt(this.getLength()-1)},r.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},r.prototype.remove=function(t){for(var e=this.array_,n=0,o=e.length;n<o;++n)if(e[n]===t)return this.removeAt(n)},r.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Ti(Mt.REMOVE,e,t)),e},r.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var o=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Ti(Mt.REMOVE,o,t)),this.dispatchEvent(new Ti(Mt.ADD,e,t))}else{for(var a=n;a<t;++a)this.insertAt(a,void 0);this.insertAt(t,e)}},r.prototype.updateLength_=function(){this.set(Ds.LENGTH,this.array_.length)},r.prototype.assertUnique_=function(t,e){for(var n=0,o=this.array_.length;n<o;++n)if(this.array_[n]===t&&n!==e)throw new _i(58)},r}(It),Dt=Th;function B(i,r){if(!i)throw new _i(r)}var Ch=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wh=function(i){Ch(r,i);function r(t){var e=i.call(this)||this;if(e.on,e.once,e.un,e.id_=void 0,e.geometryName_="geometry",e.style_=null,e.styleFunction_=void 0,e.geometryChangeKey_=null,e.addChangeListener(e.geometryName_,e.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){var n=t;e.setGeometry(n)}else{var o=t;e.setProperties(o)}return e}return r.prototype.clone=function(){var t=new r(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var n=this.getStyle();return n&&t.setStyle(n),t},r.prototype.getGeometry=function(){return this.get(this.geometryName_)},r.prototype.getId=function(){return this.id_},r.prototype.getGeometryName=function(){return this.geometryName_},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.handleGeometryChange_=function(){this.changed()},r.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(st(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=nt(t,N.CHANGE,this.handleGeometryChange_,this)),this.changed()},r.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},r.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?Sh(t):void 0,this.changed()},r.prototype.setId=function(t){this.id_=t,this.changed()},r.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},r}(It);function Sh(i){if(typeof i=="function")return i;var r;if(Array.isArray(i))r=i;else{B(typeof i.getZIndex=="function",41);var t=i;r=[t]}return function(){return r}}var Co=wh;var Gt={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};var q={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};var ce={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Dg={"9001":ce.METERS,"9002":ce.FEET,"9003":ce.USFEET,"9101":ce.RADIANS,"9102":ce.DEGREES};var bt={};bt[ce.RADIANS]=6370997/(2*Math.PI);bt[ce.DEGREES]=2*Math.PI*6370997/360;bt[ce.FEET]=.3048;bt[ce.METERS]=1;bt[ce.USFEET]=1200/3937;var qt=ce;var Yr=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Ns=Yr.indexOf("firefox")!==-1,Ng=Yr.indexOf("safari")!==-1&&Yr.indexOf("chrom")==-1,Gs=Yr.indexOf("webkit")!==-1&&Yr.indexOf("edge")==-1,wo=Yr.indexOf("macintosh")!==-1,Ci=typeof devicePixelRatio<"u"?devicePixelRatio:1,er=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,bs=typeof Image<"u"&&Image.prototype.decode,wi=function(){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("_",null,r),window.removeEventListener("_",null,r)}catch{}return i}();var Yg=new Array(6);function jt(){return[1,0,0,1,0,0]}function Ih(i,r,t,e,n,o,a){return i[0]=r,i[1]=t,i[2]=e,i[3]=n,i[4]=o,i[5]=a,i}function Ys(i,r){return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i}function Tt(i,r){var t=r[0],e=r[1];return r[0]=i[0]*t+i[2]*e+i[4],r[1]=i[1]*t+i[3]*e+i[5],r}function Us(i,r,t){return Ih(i,r,0,0,t,0,0)}function Yt(i,r,t,e,n,o,a,s){var l=Math.sin(o),u=Math.cos(o);return i[0]=e*u,i[1]=n*l,i[2]=-e*l,i[3]=n*u,i[4]=a*e*u-s*e*l+r,i[5]=a*n*l+s*n*u+t,i}function Ur(i,r){var t=Rh(r);B(t!==0,32);var e=r[0],n=r[1],o=r[2],a=r[3],s=r[4],l=r[5];return i[0]=a/t,i[1]=-n/t,i[2]=-o/t,i[3]=e/t,i[4]=(o*l-a*s)/t,i[5]=-(e*l-n*s)/t,i}function Rh(i){return i[0]*i[3]-i[1]*i[2]}var js;function Si(i){var r="matrix("+i.join(", ")+")";if(er)return r;var t=js||(js=document.createElement("div"));return t.style.transform=r,t.style.transform}var yr={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var Rt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function So(i){for(var r=Lt(),t=0,e=i.length;t<e;++t)xr(r,i[t]);return r}function Oh(i,r,t){var e=Math.min.apply(null,i),n=Math.min.apply(null,r),o=Math.max.apply(null,i),a=Math.max.apply(null,r);return Vt(e,n,o,a,t)}function Br(i,r,t){return t?(t[0]=i[0]-r,t[1]=i[1]-r,t[2]=i[2]+r,t[3]=i[3]+r,t):[i[0]-r,i[1]-r,i[2]+r,i[3]+r]}function Ri(i,r){return r?(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r):i.slice()}function Oi(i,r,t){var e,n;return r<i[0]?e=i[0]-r:i[2]<r?e=r-i[2]:e=0,t<i[1]?n=i[1]-t:i[3]<t?n=t-i[3]:n=0,e*e+n*n}function Ce(i,r){return Io(i,r[0],r[1])}function Ge(i,r){return i[0]<=r[0]&&r[2]<=i[2]&&i[1]<=r[1]&&r[3]<=i[3]}function Io(i,r,t){return i[0]<=r&&r<=i[2]&&i[1]<=t&&t<=i[3]}function Ii(i,r){var t=i[0],e=i[1],n=i[2],o=i[3],a=r[0],s=r[1],l=Rt.UNKNOWN;return a<t?l=l|Rt.LEFT:a>n&&(l=l|Rt.RIGHT),s<e?l=l|Rt.BELOW:s>o&&(l=l|Rt.ABOVE),l===Rt.UNKNOWN&&(l=Rt.INTERSECTING),l}function Lt(){return[1/0,1/0,-1/0,-1/0]}function Vt(i,r,t,e,n){return n?(n[0]=i,n[1]=r,n[2]=t,n[3]=e,n):[i,r,t,e]}function Kr(i){return Vt(1/0,1/0,-1/0,-1/0,i)}function Bs(i,r){var t=i[0],e=i[1];return Vt(t,e,t,e,r)}function Ks(i,r,t,e,n){var o=Kr(n);return Ro(o,i,r,t,e)}function be(i,r){return i[0]==r[0]&&i[2]==r[2]&&i[1]==r[1]&&i[3]==r[3]}function Xs(i,r){return r[0]<i[0]&&(i[0]=r[0]),r[2]>i[2]&&(i[2]=r[2]),r[1]<i[1]&&(i[1]=r[1]),r[3]>i[3]&&(i[3]=r[3]),i}function xr(i,r){r[0]<i[0]&&(i[0]=r[0]),r[0]>i[2]&&(i[2]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[1]>i[3]&&(i[3]=r[1])}function Ro(i,r,t,e,n){for(;t<e;t+=n)Lh(i,r[t],r[t+1]);return i}function Lh(i,r,t){i[0]=Math.min(i[0],r),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],r),i[3]=Math.max(i[3],t)}function Li(i,r){var t;return t=r(Xr(i)),t||(t=r(zr(i)),t)||(t=r(Wr(i)),t)||(t=r(oe(i)),t)?t:!1}function Rn(i){var r=0;return Ln(i)||(r=dt(i)*kt(i)),r}function Xr(i){return[i[0],i[1]]}function zr(i){return[i[2],i[1]]}function we(i){return[(i[0]+i[2])/2,(i[1]+i[3])/2]}function zs(i,r){var t;return r===yr.BOTTOM_LEFT?t=Xr(i):r===yr.BOTTOM_RIGHT?t=zr(i):r===yr.TOP_LEFT?t=oe(i):r===yr.TOP_RIGHT?t=Wr(i):B(!1,13),t}function On(i,r,t,e,n){var o=r*e[0]/2,a=r*e[1]/2,s=Math.cos(t),l=Math.sin(t),u=o*s,f=o*l,h=a*s,c=a*l,p=i[0],d=i[1],x=p-u+c,v=p-u-c,_=p+u-c,g=p+u+c,y=d-f-h,E=d-f+h,C=d+f+h,w=d+f-h;return Vt(Math.min(x,v,_,g),Math.min(y,E,C,w),Math.max(x,v,_,g),Math.max(y,E,C,w),n)}function kt(i){return i[3]-i[1]}function rr(i,r,t){var e=t||Lt();return St(i,r)?(i[0]>r[0]?e[0]=i[0]:e[0]=r[0],i[1]>r[1]?e[1]=i[1]:e[1]=r[1],i[2]<r[2]?e[2]=i[2]:e[2]=r[2],i[3]<r[3]?e[3]=i[3]:e[3]=r[3]):Kr(e),e}function oe(i){return[i[0],i[3]]}function Wr(i){return[i[2],i[3]]}function dt(i){return i[2]-i[0]}function St(i,r){return i[0]<=r[2]&&i[2]>=r[0]&&i[1]<=r[3]&&i[3]>=r[1]}function Ln(i){return i[2]<i[0]||i[3]<i[1]}function Ws(i,r){return r?(r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r):i}function Zs(i,r,t){var e=!1,n=Ii(i,r),o=Ii(i,t);if(n===Rt.INTERSECTING||o===Rt.INTERSECTING)e=!0;else{var a=i[0],s=i[1],l=i[2],u=i[3],f=r[0],h=r[1],c=t[0],p=t[1],d=(p-h)/(c-f),x=void 0,v=void 0;!!(o&Rt.ABOVE)&&!(n&Rt.ABOVE)&&(x=c-(p-u)/d,e=x>=a&&x<=l),!e&&!!(o&Rt.RIGHT)&&!(n&Rt.RIGHT)&&(v=p-(c-l)*d,e=v>=s&&v<=u),!e&&!!(o&Rt.BELOW)&&!(n&Rt.BELOW)&&(x=c-(p-s)/d,e=x>=a&&x<=l),!e&&!!(o&Rt.LEFT)&&!(n&Rt.LEFT)&&(v=p-(c-a)*d,e=v>=s&&v<=u)}return e}function $s(i,r,t,e){var n=[];if(e>1)for(var o=i[2]-i[0],a=i[3]-i[1],s=0;s<e;++s)n.push(i[0]+o*s/e,i[1],i[2],i[1]+a*s/e,i[2]-o*s/e,i[3],i[0],i[3]-a*s/e);else n=[i[0],i[1],i[2],i[1],i[2],i[3],i[0],i[3]];r(n,n,2);for(var l=[],u=[],s=0,f=n.length;s<f;s+=2)l.push(n[s]),u.push(n[s+1]);return Oh(l,u,t)}function qs(i,r){var t=r.getExtent(),e=we(i);if(r.canWrapX()&&(e[0]<t[0]||e[0]>=t[2])){var n=dt(t),o=Math.floor((e[0]-t[0])/n),a=o*n;i[0]-=a,i[2]-=a}return i}var Ah=function(){function i(r){this.code_=r.code,this.units_=r.units,this.extent_=r.extent!==void 0?r.extent:null,this.worldExtent_=r.worldExtent!==void 0?r.worldExtent:null,this.axisOrientation_=r.axisOrientation!==void 0?r.axisOrientation:"enu",this.global_=r.global!==void 0?r.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=r.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=r.metersPerUnit}return i.prototype.canWrapX=function(){return this.canWrapX_},i.prototype.getCode=function(){return this.code_},i.prototype.getExtent=function(){return this.extent_},i.prototype.getUnits=function(){return this.units_},i.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||bt[this.units_]},i.prototype.getWorldExtent=function(){return this.worldExtent_},i.prototype.getAxisOrientation=function(){return this.axisOrientation_},i.prototype.isGlobal=function(){return this.global_},i.prototype.setGlobal=function(r){this.global_=r,this.canWrapX_=!!(r&&this.extent_)},i.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},i.prototype.setDefaultTileGrid=function(r){this.defaultTileGrid_=r},i.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!!(this.global_&&r)},i.prototype.setWorldExtent=function(r){this.worldExtent_=r},i.prototype.setGetPointResolution=function(r){this.getPointResolutionFunc_=r},i.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},i}(),Ai=Ah;function _t(i,r,t){return Math.min(Math.max(i,r),t)}var Vs=function(){var i;return"cosh"in Math?i=Math.cosh:i=function(r){var t=Math.exp(r);return(t+1/t)/2},i}(),Hs=function(){var i;return"log2"in Math?i=Math.log2:i=function(r){return Math.log(r)*Math.LOG2E},i}();function Js(i,r,t,e,n,o){var a=n-t,s=o-e;if(a!==0||s!==0){var l=((i-t)*a+(r-e)*s)/(a*a+s*s);l>1?(t=n,e=o):l>0&&(t+=a*l,e+=s*l)}return je(i,r,t,e)}function je(i,r,t,e){var n=t-i,o=e-r;return n*n+o*o}function Qs(i){for(var r=i.length,t=0;t<r;t++){for(var e=t,n=Math.abs(i[t][t]),o=t+1;o<r;o++){var a=Math.abs(i[o][t]);a>n&&(n=a,e=o)}if(n===0)return null;var s=i[e];i[e]=i[t],i[t]=s;for(var l=t+1;l<r;l++)for(var u=-i[l][t]/i[t][t],f=t;f<r+1;f++)t==f?i[l][f]=0:i[l][f]+=u*i[t][f]}for(var h=new Array(r),c=r-1;c>=0;c--){h[c]=i[c][r]/i[c][c];for(var p=c-1;p>=0;p--)i[p][r]-=i[p][c]*h[c]}return h}function Zr(i){return i*Math.PI/180}function Ye(i,r){var t=i%r;return t*r<0?t+r:t}function Ue(i,r,t){return i+t*(r-i)}function tl(i,r){var t=Math.pow(10,r);return Math.round(i*t)/t}function An(i,r){return Math.floor(tl(i,r))}function Pn(i,r){return Math.ceil(tl(i,r))}var Ph=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mn=6378137,qr=Math.PI*Mn,Mh=[-qr,-qr,qr,qr],Fh=[-180,-85,180,85],Pi=Mn*Math.log(Math.tan(Math.PI/2)),$r=function(i){Ph(r,i);function r(t){return i.call(this,{code:t,units:qt.METERS,extent:Mh,global:!0,worldExtent:Fh,getPointResolution:function(e,n){return e/Vs(n[1]/Mn)}})||this}return r}(Ai),Oo=[new $r("EPSG:3857"),new $r("EPSG:102100"),new $r("EPSG:102113"),new $r("EPSG:900913"),new $r("http://www.opengis.net/def/crs/EPSG/0/3857"),new $r("http://www.opengis.net/gml/srs/epsg.xml#3857")];function el(i,r,t){var e=i.length,n=t>1?t:2,o=r;o===void 0&&(n>2?o=i.slice():o=new Array(e));for(var a=0;a<e;a+=n){o[a]=qr*i[a]/180;var s=Mn*Math.log(Math.tan(Math.PI*(+i[a+1]+90)/360));s>Pi?s=Pi:s<-Pi&&(s=-Pi),o[a+1]=s}return o}function rl(i,r,t){var e=i.length,n=t>1?t:2,o=r;o===void 0&&(n>2?o=i.slice():o=new Array(e));for(var a=0;a<e;a+=n)o[a]=180*i[a]/qr,o[a+1]=360*Math.atan(Math.exp(i[a+1]/Mn))/Math.PI-90;return o}var Dh=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kh=6378137,nl=[-180,-90,180,90],Nh=Math.PI*kh/180,Er=function(i){Dh(r,i);function r(t,e){return i.call(this,{code:t,units:qt.DEGREES,extent:nl,axisOrientation:e,global:!0,metersPerUnit:Nh,worldExtent:nl})||this}return r}(Ai),Lo=[new Er("CRS:84"),new Er("EPSG:4326","neu"),new Er("urn:ogc:def:crs:OGC:1.3:CRS84"),new Er("urn:ogc:def:crs:OGC:2:84"),new Er("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Er("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Er("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];var Ao={};function il(i){return Ao[i]||Ao[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function ol(i,r){Ao[i]=r}var Vr={};function Fn(i,r,t){var e=i.getCode(),n=r.getCode();e in Vr||(Vr[e]={}),Vr[e][n]=t}function al(i,r){var t;return i in Vr&&r in Vr[i]&&(t=Vr[i][r]),t}function sl(i,r){return i[0]+=+r[0],i[1]+=+r[1],i}function Tr(i,r){for(var t=!0,e=i.length-1;e>=0;--e)if(i[e]!=r[e]){t=!1;break}return t}function Hr(i,r){var t=Math.cos(r),e=Math.sin(r),n=i[0]*t-i[1]*e,o=i[1]*t+i[0]*e;return i[0]=n,i[1]=o,i}function ll(i,r){return i[0]*=r,i[1]*=r,i}function Mi(i,r){if(r.canWrapX()){var t=dt(r.getExtent()),e=ul(i,r,t);e&&(i[0]-=e*t)}return i}function ul(i,r,t){var e=r.getExtent(),n=0;if(r.canWrapX()&&(i[0]<e[0]||i[0]>e[2])){var o=t||dt(e);n=Math.floor((i[0]-e[0])/o)}return n}var Gh=63710088e-1;function Po(i,r,t){var e=t||Gh,n=Zr(i[1]),o=Zr(r[1]),a=(o-n)/2,s=Zr(r[0]-i[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(n)*Math.cos(o);return 2*e*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var Mo=!0;function Fo(i){var r=i===void 0?!0:i;Mo=!r}function Do(i,r,t){var e;if(r!==void 0){for(var n=0,o=i.length;n<o;++n)r[n]=i[n];e=r}else e=i.slice();return e}function cl(i,r,t){if(r!==void 0&&i!==r){for(var e=0,n=i.length;e<n;++e)r[e]=i[e];i=r}return i}function bh(i){ol(i.getCode(),i),Fn(i,i,Do)}function jh(i){i.forEach(bh)}function Ut(i){return typeof i=="string"?il(i):i||null}function ko(i,r,t,e){i=Ut(i);var n,o=i.getPointResolutionFunc();if(o){if(n=o(r,t),e&&e!==i.getUnits()){var a=i.getMetersPerUnit();a&&(n=n*a/bt[e])}}else{var s=i.getUnits();if(s==qt.DEGREES&&!e||e==qt.DEGREES)n=r;else{var l=Dn(i,Ut("EPSG:4326"));if(l===cl&&s!==qt.DEGREES)n=r*i.getMetersPerUnit();else{var u=[t[0]-r/2,t[1],t[0]+r/2,t[1],t[0],t[1]-r/2,t[0],t[1]+r/2];u=l(u,u,2);var f=Po(u.slice(0,2),u.slice(2,4)),h=Po(u.slice(4,6),u.slice(6,8));n=(f+h)/2}var a=e?bt[e]:i.getMetersPerUnit();a!==void 0&&(n/=a)}}return n}function fl(i){jh(i),i.forEach(function(r){i.forEach(function(t){r!==t&&Fn(r,t,Do)})})}function Yh(i,r,t,e){i.forEach(function(n){r.forEach(function(o){Fn(n,o,t),Fn(o,n,e)})})}function Fi(i,r){return i?typeof i=="string"?Ut(i):i:Ut(r)}function No(i,r){return Fo(),kn(i,"EPSG:4326",r!==void 0?r:"EPSG:3857")}function nr(i,r){if(i===r)return!0;var t=i.getUnits()===r.getUnits();if(i.getCode()===r.getCode())return t;var e=Dn(i,r);return e===Do&&t}function Dn(i,r){var t=i.getCode(),e=r.getCode(),n=al(t,e);return n||(n=cl),n}function Cr(i,r){var t=Ut(i),e=Ut(r);return Dn(t,e)}function kn(i,r,t){var e=Cr(r,t);return e(i,void 0,i.length)}function hl(i,r,t,e){var n=Cr(r,t);return $s(i,n,void 0,e)}var he=null;function Di(){return he}function Nn(i,r){return he?kn(i,r,he):i}function pe(i,r){return he?kn(i,he,r):(Mo&&!Tr(i,[0,0])&&i[0]>=-180&&i[0]<=180&&i[1]>=-90&&i[1]<=90&&(Mo=!1,console.warn("Call useGeographic() ol/proj once to work with [longitude, latitude] coordinates.")),i)}function Jr(i,r){return he?hl(i,r,he):i}function de(i,r){return he?hl(i,he,r):i}function pl(i,r){if(!he)return i;var t=Ut(r).getUnits(),e=he.getUnits();return t&&e?i*bt[t]/bt[e]:i}function Uh(){fl(Oo),fl(Lo),Yh(Lo,Oo,el,rl)}Uh();function ae(i,r,t,e,n,o){for(var a=o||[],s=0,l=r;l<t;l+=e){var u=i[l],f=i[l+1];a[s++]=n[0]*u+n[2]*f+n[4],a[s++]=n[1]*u+n[3]*f+n[5]}return o&&a.length!=s&&(a.length=s),a}function ki(i,r,t,e,n,o,a){for(var s=a||[],l=Math.cos(n),u=Math.sin(n),f=o[0],h=o[1],c=0,p=r;p<t;p+=e){var d=i[p]-f,x=i[p+1]-h;s[c++]=f+d*l-x*u,s[c++]=h+d*u+x*l;for(var v=p+2;v<p+e;++v)s[c++]=i[v]}return a&&s.length!=c&&(s.length=c),s}function dl(i,r,t,e,n,o,a,s){for(var l=s||[],u=a[0],f=a[1],h=0,c=r;c<t;c+=e){var p=i[c]-u,d=i[c+1]-f;l[h++]=u+n*p,l[h++]=f+o*d;for(var x=c+2;x<c+e;++x)l[h++]=i[x]}return s&&l.length!=h&&(l.length=h),l}function vl(i,r,t,e,n,o,a){for(var s=a||[],l=0,u=r;u<t;u+=e){s[l++]=i[u]+n,s[l++]=i[u+1]+o;for(var f=u+2;f<u+e;++f)s[l++]=i[f]}return a&&s.length!=l&&(s.length=l),s}var Bh=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ml=jt(),Kh=function(i){Bh(r,i);function r(){var t=i.call(this)||this;return t.extent_=Lt(),t.extentRevision_=-1,t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t.simplifyTransformedInternal=Ps(function(e,n,o){if(!o)return this.getSimplifiedGeometry(n);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(n)}),t}return r.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},r.prototype.clone=function(){return tt()},r.prototype.closestPointXY=function(t,e,n,o){return tt()},r.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},r.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},r.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},r.prototype.computeExtent=function(t){return tt()},r.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Kr(e),this.extentRevision_=this.getRevision()}return Ws(this.extent_,t)},r.prototype.rotate=function(t,e){tt()},r.prototype.scale=function(t,e,n){tt()},r.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},r.prototype.getSimplifiedGeometry=function(t){return tt()},r.prototype.getType=function(){return tt()},r.prototype.applyTransform=function(t){tt()},r.prototype.intersectsExtent=function(t){return tt()},r.prototype.translate=function(t,e){tt()},r.prototype.transform=function(t,e){var n=Ut(t),o=n.getUnits()==qt.TILE_PIXELS?function(a,s,l){var u=n.getExtent(),f=n.getWorldExtent(),h=kt(f)/kt(u);return Yt(ml,f[0],f[3],h,-h,0,0,0),ae(a,0,a.length,l,ml,s),Cr(n,e)(a,s,l)}:Cr(n,e);return this.applyTransform(o),this},r}(It),_l=Kh;var Xh=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zh=function(i){Xh(r,i);function r(){var t=i.call(this)||this;return t.layout=Gt.XY,t.stride=2,t.flatCoordinates=null,t}return r.prototype.computeExtent=function(t){return Ks(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},r.prototype.getCoordinates=function(){return tt()},r.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},r.prototype.getFlatCoordinates=function(){return this.flatCoordinates},r.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},r.prototype.getLayout=function(){return this.layout},r.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t),n=e.getFlatCoordinates();return n.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},r.prototype.getSimplifiedGeometryInternal=function(t){return this},r.prototype.getStride=function(){return this.stride},r.prototype.setFlatCoordinates=function(t,e){this.stride=gl(t),this.layout=t,this.flatCoordinates=e},r.prototype.setCoordinates=function(t,e){tt()},r.prototype.setLayout=function(t,e,n){var o;if(t)o=gl(t);else{for(var a=0;a<n;++a)if(e.length===0){this.layout=Gt.XY,this.stride=2;return}else e=e[0];o=e.length,t=Wh(o)}this.layout=t,this.stride=o},r.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},r.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();ki(n,0,n.length,o,t,e,n),this.changed()}},r.prototype.scale=function(t,e,n){var o=e;o===void 0&&(o=t);var a=n;a||(a=we(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();dl(s,0,s.length,l,t,o,a,s),this.changed()}},r.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var o=this.getStride();vl(n,0,n.length,o,t,e,n),this.changed()}},r}(_l);function Wh(i){var r;return i==2?r=Gt.XY:i==3?r=Gt.XYZ:i==4&&(r=Gt.XYZM),r}function gl(i){var r;return i==Gt.XY?r=2:i==Gt.XYZ||i==Gt.XYM?r=3:i==Gt.XYZM&&(r=4),r}function yl(i,r,t){var e=i.getFlatCoordinates();if(e){var n=i.getStride();return ae(e,0,e.length,n,r,t)}else return null}var Qr=zh;function xl(i,r,t,e,n,o,a){var s=i[r],l=i[r+1],u=i[t]-s,f=i[t+1]-l,h;if(u===0&&f===0)h=r;else{var c=((n-s)*u+(o-l)*f)/(u*u+f*f);if(c>1)h=t;else if(c>0){for(var p=0;p<e;++p)a[p]=Ue(i[r+p],i[t+p],c);a.length=e;return}else h=r}for(var p=0;p<e;++p)a[p]=i[h+p];a.length=e}function Go(i,r,t,e,n){var o=i[r],a=i[r+1];for(r+=e;r<t;r+=e){var s=i[r],l=i[r+1],u=je(o,a,s,l);u>n&&(n=u),o=s,a=l}return n}function El(i,r,t,e,n){for(var o=0,a=t.length;o<a;++o){var s=t[o];n=Go(i,r,s,e,n),r=s}return n}function bo(i,r,t,e,n,o,a,s,l,u,f){if(r==t)return u;var h,c;if(n===0)if(c=je(a,s,i[r],i[r+1]),c<u){for(h=0;h<e;++h)l[h]=i[r+h];return l.length=e,c}else return u;for(var p=f||[NaN,NaN],d=r+e;d<t;)if(xl(i,d-e,d,e,a,s,p),c=je(a,s,p[0],p[1]),c<u){for(u=c,h=0;h<e;++h)l[h]=p[h];l.length=e,d+=e}else d+=e*Math.max((Math.sqrt(c)-Math.sqrt(u))/n|0,1);if(o&&(xl(i,t-e,r,e,a,s,p),c=je(a,s,p[0],p[1]),c<u)){for(u=c,h=0;h<e;++h)l[h]=p[h];l.length=e}return u}function Tl(i,r,t,e,n,o,a,s,l,u,f){for(var h=f||[NaN,NaN],c=0,p=t.length;c<p;++c){var d=t[c];u=bo(i,r,d,e,n,o,a,s,l,u,h),r=d}return u}function Cl(i,r,t,e){for(var n=0,o=t.length;n<o;++n)i[r++]=t[n];return r}function jo(i,r,t,e){for(var n=0,o=t.length;n<o;++n)for(var a=t[n],s=0;s<e;++s)i[r++]=a[s];return r}function wl(i,r,t,e,n){for(var o=n||[],a=0,s=0,l=t.length;s<l;++s){var u=jo(i,r,t[s],e);o[a++]=u,r=u}return o.length=a,o}function Sl(i,r,t,e,n,o,a){var s=(t-r)/e;if(s<3){for(;r<t;r+=e)o[a++]=i[r],o[a++]=i[r+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[r,t-e],f=0;u.length>0;){for(var h=u.pop(),c=u.pop(),p=0,d=i[c],x=i[c+1],v=i[h],_=i[h+1],g=c+e;g<h;g+=e){var y=i[g],E=i[g+1],C=Js(y,E,d,x,v,_);C>p&&(f=g,p=C)}p>n&&(l[(f-r)/e]=1,c+e<f&&u.push(c,f),f+e<h&&u.push(f,h))}for(var g=0;g<s;++g)l[g]&&(o[a++]=i[r+g*e],o[a++]=i[r+g*e+1]);return a}function ir(i,r){return r*Math.round(i/r)}function Zh(i,r,t,e,n,o,a){if(r==t)return a;var s=ir(i[r],n),l=ir(i[r+1],n);r+=e,o[a++]=s,o[a++]=l;var u,f;do if(u=ir(i[r],n),f=ir(i[r+1],n),r+=e,r==t)return o[a++]=u,o[a++]=f,a;while(u==s&&f==l);for(;r<t;){var h=ir(i[r],n),c=ir(i[r+1],n);if(r+=e,!(h==u&&c==f)){var p=u-s,d=f-l,x=h-s,v=c-l;if(p*v==d*x&&(p<0&&x<p||p==x||p>0&&x>p)&&(d<0&&v<d||d==v||d>0&&v>d)){u=h,f=c;continue}o[a++]=u,o[a++]=f,s=u,l=f,u=h,f=c}}return o[a++]=u,o[a++]=f,a}function Il(i,r,t,e,n,o,a,s){for(var l=0,u=t.length;l<u;++l){var f=t[l];a=Zh(i,r,f,e,n,o,a),s.push(a),r=f}return a}function or(i,r,t,e,n){for(var o=n!==void 0?n:[],a=0,s=r;s<t;s+=e)o[a++]=i.slice(s,s+e);return o.length=a,o}function tn(i,r,t,e,n){for(var o=n!==void 0?n:[],a=0,s=0,l=t.length;s<l;++s){var u=t[s];o[a++]=or(i,r,u,e,o[a]),r=u}return o.length=a,o}function Yo(i,r,t,e,n){for(var o=n!==void 0?n:[],a=0,s=0,l=t.length;s<l;++s){var u=t[s];o[a++]=tn(i,r,u,e,o[a]),r=u[u.length-1]}return o.length=a,o}function Uo(i,r,t,e){for(var n=0,o=i[t-e],a=i[t-e+1];r<t;r+=e){var s=i[r],l=i[r+1];n+=a*s-o*l,o=s,a=l}return n/2}function Rl(i,r,t,e){for(var n=0,o=0,a=t.length;o<a;++o){var s=t[o];n+=Uo(i,r,s,e),r=s}return n}var $h=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qh=function(i){$h(r,i);function r(t,e){var n=i.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?n.setFlatCoordinates(e,t):n.setCoordinates(t,e),n}return r.prototype.clone=function(){return new r(this.flatCoordinates.slice(),this.layout)},r.prototype.closestPointXY=function(t,e,n,o){return o<Oi(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Go(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,o))},r.prototype.getArea=function(){return Uo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getCoordinates=function(){return or(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=Sl(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new r(e,Gt.XY)},r.prototype.getType=function(){return q.LINEAR_RING},r.prototype.intersectsExtent=function(t){return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=jo(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Qr),Bo=qh;var Vh=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hh=function(i){Vh(r,i);function r(t,e){var n=i.call(this)||this;return n.setCoordinates(t,e),n}return r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){var a=this.flatCoordinates,s=je(t,e,a[0],a[1]);if(s<o){for(var l=this.stride,u=0;u<l;++u)n[u]=a[u];return n.length=l,s}else return o},r.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},r.prototype.computeExtent=function(t){return Bs(this.flatCoordinates,t)},r.prototype.getType=function(){return q.POINT},r.prototype.intersectsExtent=function(t){return Io(t,this.flatCoordinates[0],this.flatCoordinates[1])},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Cl(this.flatCoordinates,0,t,this.stride),this.changed()},r}(Qr),Gn=Hh;function Ol(i,r,t,e,n){var o=Li(n,function(a){return!ar(i,r,t,e,a[0],a[1])});return!o}function ar(i,r,t,e,n,o){for(var a=0,s=i[t-e],l=i[t-e+1];r<t;r+=e){var u=i[r],f=i[r+1];l<=o?f>o&&(u-s)*(o-l)-(n-s)*(f-l)>0&&a++:f<=o&&(u-s)*(o-l)-(n-s)*(f-l)<0&&a--,s=u,l=f}return a!==0}function Ni(i,r,t,e,n,o){if(t.length===0||!ar(i,r,t[0],e,n,o))return!1;for(var a=1,s=t.length;a<s;++a)if(ar(i,t[a-1],t[a],e,n,o))return!1;return!0}function Ll(i,r,t,e,n,o,a){for(var s,l,u,f,h,c,p,d=n[o+1],x=[],v=0,_=t.length;v<_;++v){var g=t[v];for(f=i[g-e],c=i[g-e+1],s=r;s<g;s+=e)h=i[s],p=i[s+1],(d<=c&&p<=d||c<=d&&d<=p)&&(u=(d-c)/(p-c)*(h-f)+f,x.push(u)),f=h,c=p}var y=NaN,E=-1/0;for(x.sort(xe),f=x[0],s=1,l=x.length;s<l;++s){h=x[s];var C=Math.abs(h-f);C>E&&(u=(f+h)/2,Ni(i,r,t,e,u,d)&&(y=u,E=C)),f=h}return isNaN(y)&&(y=n[o]),a?(a.push(y,d,E),a):[y,d,E]}function Al(i,r,t,e,n){var o;for(r+=e;r<t;r+=e)if(o=n(i.slice(r-e,r),i.slice(r,r+e)),o)return o;return!1}function Pl(i,r,t,e,n){var o=Ro(Lt(),i,r,t,e);return St(n,o)?Ge(n,o)||o[0]>=n[0]&&o[2]<=n[2]||o[1]>=n[1]&&o[3]<=n[3]?!0:Al(i,r,t,e,function(a,s){return Zs(n,a,s)}):!1}function Jh(i,r,t,e,n){return!!(Pl(i,r,t,e,n)||ar(i,r,t,e,n[0],n[1])||ar(i,r,t,e,n[0],n[3])||ar(i,r,t,e,n[2],n[1])||ar(i,r,t,e,n[2],n[3]))}function Ml(i,r,t,e,n){if(!Jh(i,r,t[0],e,n))return!1;if(t.length===1)return!0;for(var o=1,a=t.length;o<a;++o)if(Ol(i,t[o-1],t[o],e,n)&&!Pl(i,t[o-1],t[o],e,n))return!1;return!0}function Fl(i,r,t,e){for(;r<t-e;){for(var n=0;n<e;++n){var o=i[r+n];i[r+n]=i[t-e+n],i[t-e+n]=o}r+=e,t-=e}}function Dl(i,r,t,e){for(var n=0,o=i[t-e],a=i[t-e+1];r<t;r+=e){var s=i[r],l=i[r+1];n+=(s-o)*(l+a),o=s,a=l}return n===0?void 0:n>0}function kl(i,r,t,e,n){for(var o=n!==void 0?n:!1,a=0,s=t.length;a<s;++a){var l=t[a],u=Dl(i,r,l,e);if(a===0){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;r=l}return!0}function Ko(i,r,t,e,n){for(var o=n!==void 0?n:!1,a=0,s=t.length;a<s;++a){var l=t[a],u=Dl(i,r,l,e),f=a===0?o&&u||!o&&!u:o&&!u||!o&&u;f&&Fl(i,r,l,e),r=l}return r}var Qh=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nl=function(i){Qh(r,i);function r(t,e,n){var o=i.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,e!==void 0&&n?(o.setFlatCoordinates(e,t),o.ends_=n):o.setCoordinates(t,e),o}return r.prototype.appendLinearRing=function(t){this.flatCoordinates?gi(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,n,o){return o<Oi(this.getExtent(),t,e)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(El(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Tl(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,o))},r.prototype.containsXY=function(t,e){return Ni(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},r.prototype.getArea=function(){return Rl(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),Ko(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,tn(e,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=we(this.getExtent());this.flatInteriorPoint_=Ll(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},r.prototype.getInteriorPoint=function(){return new Gn(this.getFlatInteriorPoint(),Gt.XYM)},r.prototype.getLinearRingCount=function(){return this.ends_.length},r.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new Bo(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,o=[],a=0,s=0,l=n.length;s<l;++s){var u=n[s],f=new Bo(e.slice(a,u),t);o.push(f),a=u}return o},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;kl(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ko(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],n=[];return e.length=Il(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new r(e,Gt.XY,n)},r.prototype.getType=function(){return q.POLYGON},r.prototype.intersectsExtent=function(t){return Ml(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=wl(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=n.length===0?0:n[n.length-1],this.changed()},r}(Qr),Gl=Nl;function Xo(i){var r=i[0],t=i[1],e=i[2],n=i[3],o=[r,t,r,n,e,n,e,t,r,t];return new Nl(o,Gt.XY,[o.length])}var ve={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};var tp=function(){function i(r){var t=r||{};this.color_=t.color!==void 0?t.color:null}return i.prototype.clone=function(){var r=this.getColor();return new i({color:Array.isArray(r)?r.slice():r||void 0})},i.prototype.getColor=function(){return this.color_},i.prototype.setColor=function(r){this.color_=r},i}(),bl=tp;function jl(i,r,t,e){for(var n=i[r],o=i[r+1],a=0,s=r+e;s<t;s+=e){var l=i[s],u=i[s+1];a+=Math.sqrt((l-n)*(l-n)+(u-o)*(u-o)),n=l,o=u}return a}var ep=function(){function i(r){var t=r||{};this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return i.prototype.clone=function(){var r=this.getColor();return new i({color:Array.isArray(r)?r.slice():r||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},i.prototype.getColor=function(){return this.color_},i.prototype.getLineCap=function(){return this.lineCap_},i.prototype.getLineDash=function(){return this.lineDash_},i.prototype.getLineDashOffset=function(){return this.lineDashOffset_},i.prototype.getLineJoin=function(){return this.lineJoin_},i.prototype.getMiterLimit=function(){return this.miterLimit_},i.prototype.getWidth=function(){return this.width_},i.prototype.setColor=function(r){this.color_=r},i.prototype.setLineCap=function(r){this.lineCap_=r},i.prototype.setLineDash=function(r){this.lineDash_=r},i.prototype.setLineDashOffset=function(r){this.lineDashOffset_=r},i.prototype.setLineJoin=function(r){this.lineJoin_=r},i.prototype.setMiterLimit=function(r){this.miterLimit_=r},i.prototype.setWidth=function(r){this.width_=r},i}(),Yl=ep;var ht={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function zo(i){return i[0]>0&&i[1]>0}function Ul(i,r,t){return t===void 0&&(t=[0,0]),t[0]=i[0]*r+.5|0,t[1]=i[1]*r+.5|0,t}function Bt(i,r){return Array.isArray(i)?i:(r===void 0?r=[i,i]:(r[0]=i,r[1]=i),r)}var rp=function(){function i(r){this.opacity_=r.opacity,this.rotateWithView_=r.rotateWithView,this.rotation_=r.rotation,this.scale_=r.scale,this.scaleArray_=Bt(r.scale),this.displacement_=r.displacement}return i.prototype.clone=function(){var r=this.getScale();return new i({opacity:this.getOpacity(),scale:Array.isArray(r)?r.slice():r,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},i.prototype.getOpacity=function(){return this.opacity_},i.prototype.getRotateWithView=function(){return this.rotateWithView_},i.prototype.getRotation=function(){return this.rotation_},i.prototype.getScale=function(){return this.scale_},i.prototype.getScaleArray=function(){return this.scaleArray_},i.prototype.getDisplacement=function(){return this.displacement_},i.prototype.getAnchor=function(){return tt()},i.prototype.getImage=function(r){return tt()},i.prototype.getHitDetectionImage=function(){return tt()},i.prototype.getPixelRatio=function(r){return 1},i.prototype.getImageState=function(){return tt()},i.prototype.getImageSize=function(){return tt()},i.prototype.getOrigin=function(){return tt()},i.prototype.getSize=function(){return tt()},i.prototype.setDisplacement=function(r){this.displacement_=r},i.prototype.setOpacity=function(r){this.opacity_=r},i.prototype.setRotateWithView=function(r){this.rotateWithView_=r},i.prototype.setRotation=function(r){this.rotation_=r},i.prototype.setScale=function(r){this.scale_=r,this.scaleArray_=Bt(r)},i.prototype.listenImageChange=function(r){tt()},i.prototype.load=function(){tt()},i.prototype.unlistenImageChange=function(r){tt()},i}(),Gi=rp;var np=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ip=/^([a-z]*)$|^hsla?\(.*\)$/i;function bi(i){return typeof i=="string"?i:Wo(i)}function op(i){var r=document.createElement("div");if(r.style.color=i,r.style.color!==""){document.body.appendChild(r);var t=getComputedStyle(r).color;return document.body.removeChild(r),t}else return""}var ap=function(){var i=1024,r={},t=0;return function(e){var n;if(r.hasOwnProperty(e))n=r[e];else{if(t>=i){var o=0;for(var a in r)(o++&3)===0&&(delete r[a],--t)}n=sp(e),r[e]=n,++t}return n}}();function wr(i){return Array.isArray(i)?i:ap(i)}function sp(i){var r,t,e,n,o;if(ip.exec(i)&&(i=op(i)),np.exec(i)){var a=i.length-1,s=void 0;a<=4?s=1:s=2;var l=a===4||a===8;r=parseInt(i.substr(1+0*s,s),16),t=parseInt(i.substr(1+1*s,s),16),e=parseInt(i.substr(1+2*s,s),16),l?n=parseInt(i.substr(1+3*s,s),16):n=255,s==1&&(r=(r<<4)+r,t=(t<<4)+t,e=(e<<4)+e,l&&(n=(n<<4)+n)),o=[r,t,e,n/255]}else i.indexOf("rgba(")==0?(o=i.slice(5,-1).split(",").map(Number),Bl(o)):i.indexOf("rgb(")==0?(o=i.slice(4,-1).split(",").map(Number),o.push(1),Bl(o)):B(!1,14);return o}function Bl(i){return i[0]=_t(i[0]+.5|0,0,255),i[1]=_t(i[1]+.5|0,0,255),i[2]=_t(i[2]+.5|0,0,255),i[3]=_t(i[3],0,1),i}function Wo(i){var r=i[0];r!=(r|0)&&(r=r+.5|0);var t=i[1];t!=(t|0)&&(t=t+.5|0);var e=i[2];e!=(e|0)&&(e=e+.5|0);var n=i[3]===void 0?1:Math.round(i[3]*100)/100;return"rgba("+r+","+t+","+e+","+n+")"}function Ht(i){return Array.isArray(i)?Wo(i):i}function Ot(i,r,t,e){var n;return t&&t.length?n=t.shift():er?n=new OffscreenCanvas(i||300,r||300):n=document.createElement("canvas"),i&&(n.width=i),r&&(n.height=r),n.getContext("2d",e)}function Zo(i,r){var t=r.parentNode;t&&t.replaceChild(i,r)}function bn(i){return i&&i.parentNode?i.parentNode.removeChild(i):null}function Kl(i){for(;i.lastChild;)i.removeChild(i.lastChild)}function Xl(i,r){for(var t=i.childNodes,e=0;;++e){var n=t[e],o=r[e];if(!n&&!o)break;if(n!==o){if(!n){i.appendChild(o);continue}if(!o){i.removeChild(n),--e;continue}i.insertBefore(o,n)}}}var jn="ol-hidden";var sr="ol-unselectable";var en="ol-control",$o="ol-collapsed",lp=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),zl=["style","variant","weight","size","lineHeight","family"],qo=function(i){var r=i.match(lp);if(!r)return null;for(var t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},e=0,n=zl.length;e<n;++e){var o=r[e+1];o!==void 0&&(t[zl[e]]=o)}return t.families=t.family.split(/,\s?/),t};function ji(i){return i===1?"":String(Math.round(i*100)/100)}var Ui="10px sans-serif",Jt="#000",Sr="round",Be=[],Ke=0,Ie="round",Xe=10,ze="#000",lr="center",Ir="middle",We=[0,0,0,0],Ze=1,Se=new It,up=new ie;up.setSize=function(){console.warn("labelCache is deprecated.")};var rn=null,Vo,Ho={},Wl=function(){var i=100,r="32px ",t=["monospace","serif"],e=t.length,n="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function s(u,f,h){for(var c=!0,p=0;p<e;++p){var d=t[p];if(a=Yi(u+" "+f+" "+r+d,n),h!=d){var x=Yi(u+" "+f+" "+r+h+","+d,n);c=c&&x!=a}}return!!c}function l(){for(var u=!0,f=Se.getKeys(),h=0,c=f.length;h<c;++h){var p=f[h];Se.get(p)<i&&(s.apply(this,p.split(`
`))?(Te(Ho),rn=null,Vo=void 0,Se.set(p,i)):(Se.set(p,Se.get(p)+1,!0),u=!1))}u&&(clearInterval(o),o=void 0)}return function(u){var f=qo(u);if(!!f)for(var h=f.families,c=0,p=h.length;c<p;++c){var d=h[c],x=f.style+`
`+f.weight+`
`+d;Se.get(x)===void 0&&(Se.set(x,i,!0),s(f.style,f.weight,d)||(Se.set(x,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),fp=function(){var i;return function(r){var t=Ho[r];if(t==null){if(er){var e=qo(r),n=Zl(r,"\u017Dg"),o=isNaN(Number(e.lineHeight))?1.2:Number(e.lineHeight);t=o*(n.actualBoundingBoxAscent+n.actualBoundingBoxDescent)}else i||(i=document.createElement("div"),i.innerHTML="M",i.style.minHeight="0",i.style.maxHeight="none",i.style.height="auto",i.style.padding="0",i.style.border="none",i.style.position="absolute",i.style.display="block",i.style.left="-99999px"),i.style.font=r,document.body.appendChild(i),t=i.offsetHeight,document.body.removeChild(i);Ho[r]=t}return t}}();function Zl(i,r){return rn||(rn=Ot(1,1)),i!=Vo&&(rn.font=i,Vo=rn.font),rn.measureText(r)}function Yi(i,r){return Zl(i,r).width}function Jo(i,r,t){if(r in t)return t[r];var e=Yi(i,r);return t[r]=e,e}function $l(i,r){for(var t=[],e=[],n=[],o=0,a=0,s=0,l=0,u=0,f=r.length;u<=f;u+=2){var h=r[u];if(h===`
`||u===f){o=Math.max(o,a),n.push(a),a=0,s+=l;continue}var c=r[u+1]||i.font,p=Yi(c,h);t.push(p),a+=p;var d=fp(c);e.push(d),l=Math.max(l,d)}return{width:o,height:s,widths:t,heights:e,lineWidths:n}}function ql(i,r,t,e,n,o,a,s,l,u,f){i.save(),t!==1&&(i.globalAlpha*=t),r&&i.setTransform.apply(i,r),e.contextInstructions?(i.translate(l,u),i.scale(f[0],f[1]),cp(e,i)):f[0]<0||f[1]<0?(i.translate(l,u),i.scale(f[0],f[1]),i.drawImage(e,n,o,a,s,0,0,a,s)):i.drawImage(e,n,o,a,s,l,u,a*f[0],s*f[1]),i.restore()}function cp(i,r){for(var t=i.contextInstructions,e=0,n=t.length;e<n;e+=2)Array.isArray(t[e+1])?r[t[e]].apply(r,t[e+1]):r[t[e]]=t[e+1]}var hp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pp=function(i){hp(r,i);function r(t){var e=this,n=t.rotateWithView!==void 0?t.rotateWithView:!1;return e=i.call(this,{opacity:1,rotateWithView:n,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0]})||this,e.canvas_=void 0,e.hitDetectionCanvas_=null,e.fill_=t.fill!==void 0?t.fill:null,e.origin_=[0,0],e.points_=t.points,e.radius_=t.radius!==void 0?t.radius:t.radius1,e.radius2_=t.radius2,e.angle_=t.angle!==void 0?t.angle:0,e.stroke_=t.stroke!==void 0?t.stroke:null,e.size_=null,e.renderOptions_=null,e.render(),e}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.getAnchor=function(){var t=this.size_;if(!t)return null;var e=this.getDisplacement();return[t[0]/2-e[0],t[1]/2+e[1]]},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},r.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,o=Ot(n.size*t,n.size*t);this.draw_(n,o,t),e=o.canvas,this.canvas_[t]=e}return e},r.prototype.getPixelRatio=function(t){return t},r.prototype.getImageSize=function(){return this.size_},r.prototype.getImageState=function(){return ht.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t){},r.prototype.calculateLineJoinSize_=function(t,e,n){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var l=this.radius2_===void 0?this.points_:this.points_*2,u=2*Math.PI/l,f=a*Math.sin(u),h=Math.sqrt(a*a-f*f),c=o-h,p=Math.sqrt(f*f+c*c),d=p/f;if(t==="miter"&&d<=n)return d*e;var x=e/2/d,v=e/2*(c/p),_=Math.sqrt((o+x)*(o+x)+v*v),g=_-o;if(this.radius2_===void 0||t==="bevel")return g*2;var y=o*Math.sin(u),E=Math.sqrt(o*o-y*y),C=a-E,w=Math.sqrt(y*y+C*C),I=w/y;if(I<=n){var S=I*e/2-a-o;return 2*Math.max(g,S)}return g*2},r.prototype.createRenderOptions=function(){var t=Ie,e=0,n=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=ze),a=Ht(a),s=this.stroke_.getWidth(),s===void 0&&(s=Ze),n=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),t===void 0&&(t=Ie),e=this.stroke_.getMiterLimit(),e===void 0&&(e=Xe));var l=this.calculateLineJoinSize_(t,s,e),u=Math.max(this.radius_,this.radius2_||0),f=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:s,size:f,lineDash:n,lineDashOffset:o,lineJoin:t,miterLimit:e}},r.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]},r.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var o=this.fill_.getColor();o===null&&(o=Jt),e.fillStyle=Ht(o),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if(typeof e=="string"&&(e=wr(e)),e===null?n=1:Array.isArray(e)&&(n=e.length===4?e[3]:1),n===0){var o=Ot(t.size,t.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(t,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},r.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var o=this.radius2_===void 0?n:this.radius2_;this.radius2_!==void 0&&(e*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/e,l=0;l<e;l++){var u=a+l*s,f=l%2===0?n:o;t.lineTo(f*Math.cos(u),f*Math.sin(u))}t.closePath()}},r.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=Jt,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},r}(Gi),Vl=pp;var dp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vp=function(i){dp(r,i);function r(t){var e=t||{};return i.call(this,{points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0]})||this}return r.prototype.clone=function(){var t=this.getScale(),e=new r({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return e.setOpacity(this.getOpacity()),e},r.prototype.setRadius=function(t){this.radius_=t,this.render()},r}(Vl),Hl=vp;var Ql=function(){function i(r){var t=r||{};this.geometry_=null,this.geometryFunction_=Jl,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}return i.prototype.clone=function(){var r=this.getGeometry();return r&&typeof r=="object"&&(r=r.clone()),new i({geometry:r,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},i.prototype.getRenderer=function(){return this.renderer_},i.prototype.setRenderer=function(r){this.renderer_=r},i.prototype.setHitDetectionRenderer=function(r){this.hitDetectionRenderer_=r},i.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},i.prototype.getGeometry=function(){return this.geometry_},i.prototype.getGeometryFunction=function(){return this.geometryFunction_},i.prototype.getFill=function(){return this.fill_},i.prototype.setFill=function(r){this.fill_=r},i.prototype.getImage=function(){return this.image_},i.prototype.setImage=function(r){this.image_=r},i.prototype.getStroke=function(){return this.stroke_},i.prototype.setStroke=function(r){this.stroke_=r},i.prototype.getText=function(){return this.text_},i.prototype.setText=function(r){this.text_=r},i.prototype.getZIndex=function(){return this.zIndex_},i.prototype.setGeometry=function(r){typeof r=="function"?this.geometryFunction_=r:typeof r=="string"?this.geometryFunction_=function(t){return t.get(r)}:r?r!==void 0&&(this.geometryFunction_=function(){return r}):this.geometryFunction_=Jl,this.geometry_=r},i.prototype.setZIndex=function(r){this.zIndex_=r},i}();function tu(i){var r;if(typeof i=="function")r=i;else{var t;if(Array.isArray(i))t=i;else{B(typeof i.getZIndex=="function",41);var e=i;t=[e]}r=function(){return t}}return r}var Qo=null;function eu(i,r){if(!Qo){var t=new bl({color:"rgba(255,255,255,0.4)"}),e=new Yl({color:"#3399CC",width:1.25});Qo=[new Ql({image:new Hl({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Qo}function Jl(i){return i.getGeometry()}var ta=Ql;var ru={POINT:"point",LINE:"line"};var vt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};var mp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_p=function(i){mp(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un,e.background_=t.background;var n=yt({},t);return typeof t.properties=="object"&&(delete n.properties,yt(n,t.properties)),n[vt.OPACITY]=t.opacity!==void 0?t.opacity:1,B(typeof n[vt.OPACITY]=="number",64),n[vt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[vt.Z_INDEX]=t.zIndex,n[vt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[vt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[vt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[vt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,e.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,e.setProperties(n),e.state_=null,e}return r.prototype.getBackground=function(){return this.background_},r.prototype.getClassName=function(){return this.className_},r.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:t===void 0?!0:t},n=this.getZIndex();return e.opacity=_t(Math.round(this.getOpacity()*100)/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=n===void 0&&!e.managed?1/0:n,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},r.prototype.getLayersArray=function(t){return tt()},r.prototype.getLayerStatesArray=function(t){return tt()},r.prototype.getExtent=function(){return this.get(vt.EXTENT)},r.prototype.getMaxResolution=function(){return this.get(vt.MAX_RESOLUTION)},r.prototype.getMinResolution=function(){return this.get(vt.MIN_RESOLUTION)},r.prototype.getMinZoom=function(){return this.get(vt.MIN_ZOOM)},r.prototype.getMaxZoom=function(){return this.get(vt.MAX_ZOOM)},r.prototype.getOpacity=function(){return this.get(vt.OPACITY)},r.prototype.getSourceState=function(){return tt()},r.prototype.getVisible=function(){return this.get(vt.VISIBLE)},r.prototype.getZIndex=function(){return this.get(vt.Z_INDEX)},r.prototype.setBackground=function(t){this.background_=t,this.changed()},r.prototype.setExtent=function(t){this.set(vt.EXTENT,t)},r.prototype.setMaxResolution=function(t){this.set(vt.MAX_RESOLUTION,t)},r.prototype.setMinResolution=function(t){this.set(vt.MIN_RESOLUTION,t)},r.prototype.setMaxZoom=function(t){this.set(vt.MAX_ZOOM,t)},r.prototype.setMinZoom=function(t){this.set(vt.MIN_ZOOM,t)},r.prototype.setOpacity=function(t){B(typeof t=="number",64),this.set(vt.OPACITY,t)},r.prototype.setVisible=function(t){this.set(vt.VISIBLE,t)},r.prototype.setZIndex=function(t){this.set(vt.Z_INDEX,t)},r.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),i.prototype.disposeInternal.call(this)},r}(It),Bi=_p;var ee={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};var gp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yp=function(i){gp(r,i);function r(t){var e=this,n=yt({},t);delete n.source,e=i.call(this,n)||this,e.on,e.once,e.un,e.mapPrecomposeKey_=null,e.mapRenderKey_=null,e.sourceChangeKey_=null,e.renderer_=null,e.rendered=!1,t.render&&(e.render=t.render),t.map&&e.setMap(t.map),e.addChangeListener(vt.SOURCE,e.handleSourcePropertyChange_);var o=t.source?t.source:null;return e.setSource(o),e}return r.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},r.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},r.prototype.getSource=function(){return this.get(vt.SOURCE)||null},r.prototype.getRenderSource=function(){return this.getSource()},r.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():ee.UNDEFINED},r.prototype.handleSourceChange_=function(){this.changed()},r.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(st(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=nt(t,N.CHANGE,this.handleSourceChange_,this)),this.changed()},r.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise(function(e){return e([])})},r.prototype.getData=function(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)},r.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)},r.prototype.unrender=function(){this.rendered=!1},r.prototype.setMapInternal=function(t){t||this.unrender(),this.set(vt.MAP,t)},r.prototype.getMapInternal=function(){return this.get(vt.MAP)},r.prototype.setMap=function(t){this.mapPrecomposeKey_&&(st(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(st(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=nt(t,ve.PRECOMPOSE,function(e){var n=e,o=n.frameState.layerStatesArray,a=this.getLayerState(!1);B(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=nt(this,N.CHANGE,t.render,t),this.changed())},r.prototype.setSource=function(t){this.set(vt.SOURCE,t)},r.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},r.prototype.hasRenderer=function(){return!!this.renderer_},r.prototype.createRenderer=function(){return null},r.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),i.prototype.disposeInternal.call(this)},r}(Bi);function Rr(i,r){if(!i.visible)return!1;var t=r.resolution;if(t<i.minResolution||t>=i.maxResolution)return!1;var e=r.zoom;return e>i.minZoom&&e<=i.maxZoom}var Or=yp;var iu=Xa(na(),1);var xp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nu={RENDER_ORDER:"renderOrder"},Ep=function(i){xp(r,i);function r(t){var e=this,n=t||{},o=yt({},n);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,e=i.call(this,o)||this,e.declutter_=n.declutter!==void 0?n.declutter:!1,e.renderBuffer_=n.renderBuffer!==void 0?n.renderBuffer:100,e.style_=null,e.styleFunction_=void 0,e.setStyle(n.style),e.updateWhileAnimating_=n.updateWhileAnimating!==void 0?n.updateWhileAnimating:!1,e.updateWhileInteracting_=n.updateWhileInteracting!==void 0?n.updateWhileInteracting:!1,e}return r.prototype.getDeclutter=function(){return this.declutter_},r.prototype.getFeatures=function(t){return i.prototype.getFeatures.call(this,t)},r.prototype.getRenderBuffer=function(){return this.renderBuffer_},r.prototype.getRenderOrder=function(){return this.get(nu.RENDER_ORDER)},r.prototype.getStyle=function(){return this.style_},r.prototype.getStyleFunction=function(){return this.styleFunction_},r.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},r.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},r.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new iu.default(9)),this.getRenderer().renderDeclutter(t)},r.prototype.setRenderOrder=function(t){this.set(nu.RENDER_ORDER,t)},r.prototype.setStyle=function(t){this.style_=t!==void 0?t:eu,this.styleFunction_=t===null?void 0:tu(this.style_),this.changed()},r}(Or),ou=Ep;var Yn={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Un=[Yn.FILL],Re=[Yn.STROKE],$e=[Yn.BEGIN_PATH],ia=[Yn.CLOSE_PATH],U=Yn;var Tp=function(){function i(){}return i.prototype.drawCustom=function(r,t,e,n){},i.prototype.drawGeometry=function(r){},i.prototype.setStyle=function(r){},i.prototype.drawCircle=function(r,t){},i.prototype.drawFeature=function(r,t){},i.prototype.drawGeometryCollection=function(r,t){},i.prototype.drawLineString=function(r,t){},i.prototype.drawMultiLineString=function(r,t){},i.prototype.drawMultiPoint=function(r,t){},i.prototype.drawMultiPolygon=function(r,t){},i.prototype.drawPoint=function(r,t){},i.prototype.drawPolygon=function(r,t){},i.prototype.drawText=function(r,t){},i.prototype.setFillStrokeStyle=function(r,t){},i.prototype.setImageStyle=function(r,t){},i.prototype.setTextStyle=function(r,t){},i}(),Ki=Tp;var Cp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wp=function(i){Cp(r,i);function r(t,e,n,o){var a=i.call(this)||this;return a.tolerance=t,a.maxExtent=e,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=n,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return r.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return e==1?t:t.map(function(n){return n*e})},r.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,l=0,u=t.length;l<u;l+=e)o[0]=t[l],o[1]=t[l+1],Ce(n,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},r.prototype.appendFlatLineCoordinates=function(t,e,n,o,a,s){var l=this.coordinates,u=l.length,f=this.getBufferedMaxExtent();s&&(e+=o);var h=t[e],c=t[e+1],p=this.tmpCoordinate_,d=!0,x,v,_;for(x=e+o;x<n;x+=o)p[0]=t[x],p[1]=t[x+1],_=Ii(f,p),_!==v?(d&&(l[u++]=h,l[u++]=c,d=!1),l[u++]=p[0],l[u++]=p[1]):_===Rt.INTERSECTING?(l[u++]=p[0],l[u++]=p[1],d=!1):d=!0,h=p[0],c=p[1],v=_;return(a&&d||x===e+o)&&(l[u++]=h,l[u++]=c),u},r.prototype.drawCustomCoordinates_=function(t,e,n,o,a){for(var s=0,l=n.length;s<l;++s){var u=n[s],f=this.appendFlatLineCoordinates(t,e,u,o,!1,!1);a.push(f),e=u}return e},r.prototype.drawCustom=function(t,e,n,o){this.beginGeometry(t,e);var a=t.getType(),s=t.getStride(),l=this.coordinates.length,u,f,h,c,p;switch(a){case q.MULTI_POLYGON:u=t.getOrientedFlatCoordinates(),c=[];var d=t.getEndss();p=0;for(var x=0,v=d.length;x<v;++x){var _=[];p=this.drawCustomCoordinates_(u,p,d[x],s,_),c.push(_)}this.instructions.push([U.CUSTOM,l,c,t,n,Yo]),this.hitDetectionInstructions.push([U.CUSTOM,l,c,t,o||n,Yo]);break;case q.POLYGON:case q.MULTI_LINE_STRING:h=[],u=a==q.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),p=this.drawCustomCoordinates_(u,0,t.getEnds(),s,h),this.instructions.push([U.CUSTOM,l,h,t,n,tn]),this.hitDetectionInstructions.push([U.CUSTOM,l,h,t,o||n,tn]);break;case q.LINE_STRING:case q.CIRCLE:u=t.getFlatCoordinates(),f=this.appendFlatLineCoordinates(u,0,u.length,s,!1,!1),this.instructions.push([U.CUSTOM,l,f,t,n,or]),this.hitDetectionInstructions.push([U.CUSTOM,l,f,t,o||n,or]);break;case q.MULTI_POINT:u=t.getFlatCoordinates(),f=this.appendFlatPointCoordinates(u,s),f>l&&(this.instructions.push([U.CUSTOM,l,f,t,n,or]),this.hitDetectionInstructions.push([U.CUSTOM,l,f,t,o||n,or]));break;case q.POINT:u=t.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),f=this.coordinates.length,this.instructions.push([U.CUSTOM,l,f,t,n]),this.hitDetectionInstructions.push([U.CUSTOM,l,f,t,o||n]);break;default:}this.endGeometry(e)},r.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[U.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[U.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},r.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},r.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,n=t.length,o,a,s=-1;for(e=0;e<n;++e)o=t[e],a=o[0],a==U.END_GEOMETRY?s=e:a==U.BEGIN_GEOMETRY&&(o[2]=e,Ls(this.hitDetectionInstructions,s,e),s=-1)},r.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var o=t.getColor();n.fillStyle=Ht(o||Jt)}else n.fillStyle=void 0;if(e){var a=e.getColor();n.strokeStyle=Ht(a||ze);var s=e.getLineCap();n.lineCap=s!==void 0?s:Sr;var l=e.getLineDash();n.lineDash=l?l.slice():Be;var u=e.getLineDashOffset();n.lineDashOffset=u||Ke;var f=e.getLineJoin();n.lineJoin=f!==void 0?f:Ie;var h=e.getWidth();n.lineWidth=h!==void 0?h:Ze;var c=e.getMiterLimit();n.miterLimit=c!==void 0?c:Xe,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},r.prototype.createFill=function(t){var e=t.fillStyle,n=[U.SET_FILL_STYLE,e];return typeof e!="string"&&n.push(!0),n},r.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},r.prototype.createStroke=function(t){return[U.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},r.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;(typeof n!="string"||t.currentFillStyle!=n)&&(n!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},r.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,o=t.lineCap,a=t.lineDash,s=t.lineDashOffset,l=t.lineJoin,u=t.lineWidth,f=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=o||a!=t.currentLineDash&&!$t(t.currentLineDash,a)||t.currentLineDashOffset!=s||t.currentLineJoin!=l||t.currentLineWidth!=u||t.currentMiterLimit!=f)&&(n!==void 0&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=o,t.currentLineDash=a,t.currentLineDashOffset=s,t.currentLineJoin=l,t.currentLineWidth=u,t.currentMiterLimit=f)},r.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[U.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},r.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Ri(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Br(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},r}(Ki),Oe=wp;var Sp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ip=function(i){Sp(r,i);function r(t,e,n,o){var a=i.call(this,t,e,n,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return r.prototype.drawPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(n,o);this.instructions.push([U.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([U.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.drawMultiPoint=function(t,e){if(!!this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),o=t.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(n,o);this.instructions.push([U.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([U.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},r.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,i.prototype.finish.call(this)},r.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),o=t.getSize(),a=t.getHitDetectionImage(),s=t.getImage(this.pixelRatio),l=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=a,this.image_=s,this.height_=o[1],this.opacity_=t.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=e},r}(Oe),au=Ip;var Rp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Op=function(i){Rp(r,i);function r(t,e,n,o){return i.call(this,t,e,n,o)||this}return r.prototype.drawFlatCoordinates_=function(t,e,n,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(t,e,n,o,!1,!1),l=[U.MOVE_TO_LINE_TO,a,s];return this.instructions.push(l),this.hitDetectionInstructions.push(l),n},r.prototype.drawLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Be,Ke],$e);var s=t.getFlatCoordinates(),l=t.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(Re),this.endGeometry(e)}},r.prototype.drawMultiLineString=function(t,e){var n=this.state,o=n.strokeStyle,a=n.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],$e);for(var s=t.getEnds(),l=t.getFlatCoordinates(),u=t.getStride(),f=0,h=0,c=s.length;h<c;++h)f=this.drawFlatCoordinates_(l,f,s[h],u);this.hitDetectionInstructions.push(Re),this.endGeometry(e)}},r.prototype.finish=function(){var t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Re),this.reverseHitDetectionInstructions(),this.state=null,i.prototype.finish.call(this)},r.prototype.applyStroke=function(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(Re),t.lastStroke=this.coordinates.length),t.lastStroke=0,i.prototype.applyStroke.call(this,t),this.instructions.push($e)},r}(Oe),su=Op;var Lp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ap=function(i){Lp(r,i);function r(t,e,n,o){return i.call(this,t,e,n,o)||this}return r.prototype.drawFlatCoordinatess_=function(t,e,n,o){var a=this.state,s=a.fillStyle!==void 0,l=a.strokeStyle!==void 0,u=n.length;this.instructions.push($e),this.hitDetectionInstructions.push($e);for(var f=0;f<u;++f){var h=n[f],c=this.coordinates.length,p=this.appendFlatLineCoordinates(t,e,h,o,!0,!l),d=[U.MOVE_TO_LINE_TO,c,p];this.instructions.push(d),this.hitDetectionInstructions.push(d),l&&(this.instructions.push(ia),this.hitDetectionInstructions.push(ia)),e=h}return s&&(this.instructions.push(Un),this.hitDetectionInstructions.push(Un)),l&&(this.instructions.push(Re),this.hitDetectionInstructions.push(Re)),e},r.prototype.drawCircle=function(t,e){var n=this.state,o=n.fillStyle,a=n.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,Jt]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=t.getFlatCoordinates(),l=t.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var f=[U.CIRCLE,u];this.instructions.push($e,f),this.hitDetectionInstructions.push($e,f),n.fillStyle!==void 0&&(this.instructions.push(Un),this.hitDetectionInstructions.push(Un)),n.strokeStyle!==void 0&&(this.instructions.push(Re),this.hitDetectionInstructions.push(Re)),this.endGeometry(e)}},r.prototype.drawPolygon=function(t,e){var n=this.state,o=n.fillStyle,a=n.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,Jt]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var s=t.getEnds(),l=t.getOrientedFlatCoordinates(),u=t.getStride();this.drawFlatCoordinatess_(l,0,s,u),this.endGeometry(e)}},r.prototype.drawMultiPolygon=function(t,e){var n=this.state,o=n.fillStyle,a=n.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(t,e),n.fillStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_FILL_STYLE,Jt]),n.strokeStyle!==void 0&&this.hitDetectionInstructions.push([U.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var s=t.getEndss(),l=t.getOrientedFlatCoordinates(),u=t.getStride(),f=0,h=0,c=s.length;h<c;++h)f=this.drawFlatCoordinatess_(l,f,s[h],u);this.endGeometry(e)}},r.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(t!==0)for(var e=this.coordinates,n=0,o=e.length;n<o;++n)e[n]=ir(e[n],t);return i.prototype.finish.call(this)},r.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;e!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)},r}(Oe),oa=Ap;function lu(i,r,t,e,n){var o=t,a=t,s=0,l=0,u=t,f,h,c,p,d,x,v,_,g,y;for(h=t;h<e;h+=n){var E=r[h],C=r[h+1];d!==void 0&&(g=E-d,y=C-x,p=Math.sqrt(g*g+y*y),v!==void 0&&(l+=c,f=Math.acos((v*g+_*y)/(c*p)),f>i&&(l>s&&(s=l,o=u,a=h),l=0,u=h-n)),c=p,v=g,_=y),d=E,x=C}return l+=p,l>s?[u,h]:[o,a]}var Pp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bn={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Mp=function(i){Pp(r,i);function r(t,e,n,o){var a=i.call(this,t,e,n,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return r.prototype.finish=function(){var t=i.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},r.prototype.drawText=function(t,e){var n=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!n&&!o)){var s=this.coordinates,l=s.length,u=t.getType(),f=null,h=t.getStride();if(a.placement===ru.LINE&&(u==q.LINE_STRING||u==q.MULTI_LINE_STRING||u==q.POLYGON||u==q.MULTI_POLYGON)){if(!St(this.getBufferedMaxExtent(),t.getExtent()))return;var c=void 0;if(f=t.getFlatCoordinates(),u==q.LINE_STRING)c=[f.length];else if(u==q.MULTI_LINE_STRING)c=t.getEnds();else if(u==q.POLYGON)c=t.getEnds().slice(0,1);else if(u==q.MULTI_POLYGON){var p=t.getEndss();c=[];for(var d=0,x=p.length;d<x;++d)c.push(p[d][0])}this.beginGeometry(t,e);for(var v=a.textAlign,_=0,g=void 0,y=0,E=c.length;y<E;++y){if(v==null){var C=lu(a.maxAngle,f,_,c[y],h);_=C[0],g=C[1]}else g=c[y];for(var d=_;d<g;d+=h)s.push(f[d],f[d+1]);var w=s.length;_=c[y],this.drawChars_(l,w),l=w}this.endGeometry(e)}else{var I=a.overflow?null:[];switch(u){case q.POINT:case q.MULTI_POINT:f=t.getFlatCoordinates();break;case q.LINE_STRING:f=t.getFlatMidpoint();break;case q.CIRCLE:f=t.getCenter();break;case q.MULTI_LINE_STRING:f=t.getFlatMidpoints(),h=2;break;case q.POLYGON:f=t.getFlatInteriorPoint(),a.overflow||I.push(f[2]/this.resolution),h=3;break;case q.MULTI_POLYGON:var S=t.getFlatInteriorPoints();f=[];for(var d=0,x=S.length;d<x;d+=3)a.overflow||I.push(S[d+2]/this.resolution),f.push(S[d],S[d+1]);if(f.length===0)return;h=2;break;default:}var w=this.appendFlatPointCoordinates(f,h);if(w===l)return;if(I&&(w-l)/2!==f.length/h){var R=l/2;I=I.filter(function(et,Q){var X=s[(R+Q)*2]===f[Q*h]&&s[(R+Q)*2+1]===f[Q*h+1];return X||--R,X})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var P=a.padding;if(P!=We&&(a.scale[0]<0||a.scale[1]<0)){var L=a.padding[0],F=a.padding[1],k=a.padding[2],K=a.padding[3];a.scale[0]<0&&(F=-F,K=-K),a.scale[1]<0&&(L=-L,k=-k),P=[L,F,k,K]}var D=this.pixelRatio;this.instructions.push([U.DRAW_IMAGE,l,w,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,P==We?We:P.map(function(et){return et*D}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]);var G=1/D;this.hitDetectionInstructions.push([U.DRAW_IMAGE,l,w,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[G,G],NaN,this.declutterImageWithText_,P,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,I]),this.endGeometry(e)}}},r.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,o=this.strokeKey_;t&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:e.font,textAlign:e.textAlign||lr,textBaseline:e.textBaseline||Ir,scale:e.scale});var s=this.fillKey_;n&&(s in this.fillStates||(this.fillStates[s]={fillStyle:n.fillStyle}))},r.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,l=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,f=Bn[o.textBaseline],h=this.textOffsetY_*u,c=this.text_,p=n?n.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([U.DRAW_CHARS,t,e,f,o.overflow,l,o.maxAngle,u,h,a,p*u,c,s,1]),this.hitDetectionInstructions.push([U.DRAW_CHARS,t,e,f,o.overflow,l,o.maxAngle,1,h,a,p,c,s,1/u])},r.prototype.setTextStyle=function(t,e){var n,o,a;if(!t)this.text_="";else{var s=t.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Ht(s.getColor()||Jt)):(o=null,this.textFillState_=o);var l=t.getStroke();if(!l)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var u=l.getLineDash(),f=l.getLineDashOffset(),h=l.getWidth(),c=l.getMiterLimit();a.lineCap=l.getLineCap()||Sr,a.lineDash=u?u.slice():Be,a.lineDashOffset=f===void 0?Ke:f,a.lineJoin=l.getLineJoin()||Ie,a.lineWidth=h===void 0?Ze:h,a.miterLimit=c===void 0?Xe:c,a.strokeStyle=Ht(l.getColor()||ze)}n=this.textState_;var p=t.getFont()||Ui;Wl(p);var d=t.getScaleArray();n.overflow=t.getOverflow(),n.font=p,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||Ir,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||We,n.scale=d===void 0?[1,1]:d;var x=t.getOffsetX(),v=t.getOffsetY(),_=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=x===void 0?0:x,this.textOffsetY_=v===void 0?0:v,this.textRotateWithView_=_===void 0?!1:_,this.textRotation_=g===void 0?0:g,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:rt(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+rt(o.fillStyle):""}this.declutterImageWithText_=e},r}(Oe),uu=Mp;var Fp={Circle:oa,Default:Oe,Image:au,LineString:su,Polygon:oa,Text:uu},Dp=function(){function i(r,t,e,n){this.tolerance_=r,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=e,this.buildersByZIndex_={}}return i.prototype.finish=function(){var r={};for(var t in this.buildersByZIndex_){r[t]=r[t]||{};var e=this.buildersByZIndex_[t];for(var n in e){var o=e[n].finish();r[t][n]=o}}return r},i.prototype.getBuilder=function(r,t){var e=r!==void 0?r.toString():"0",n=this.buildersByZIndex_[e];n===void 0&&(n={},this.buildersByZIndex_[e]=n);var o=n[t];if(o===void 0){var a=Fp[t];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=o}return o},i}(),aa=Dp;var kp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Np=function(i){kp(r,i);function r(t){var e=i.call(this)||this;return e.ready=!0,e.boundHandleImageChange_=e.handleImageChange_.bind(e),e.layer_=t,e.declutterExecutorGroup=null,e}return r.prototype.getFeatures=function(t){return tt()},r.prototype.getData=function(t){return null},r.prototype.prepareFrame=function(t){return tt()},r.prototype.renderFrame=function(t,e){return tt()},r.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},r.prototype.createLoadedTileFinder=function(t,e,n){return function(o,a){var s=this.loadedTileCallback.bind(this,n,o);return t.forEachLoadedTile(e,o,a,s)}.bind(this)},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a){},r.prototype.getDataAtPixel=function(t,e,n){return null},r.prototype.getLayer=function(){return this.layer_},r.prototype.handleFontsChanged=function(){},r.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===ht.LOADED&&this.renderIfReadyAndVisible()},r.prototype.loadImage=function(t){var e=t.getState();return e!=ht.LOADED&&e!=ht.ERROR&&t.addEventListener(N.CHANGE,this.boundHandleImageChange_),e==ht.IDLE&&(t.load(),e=t.getState()),e==ht.LOADED},r.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==ee.READY&&t.changed()},r.prototype.disposeInternal=function(){delete this.layer_,i.prototype.disposeInternal.call(this)},r}(Ei),fu=Np;var Gp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bp=function(i){Gp(r,i);function r(t,e,n,o){var a=i.call(this,t)||this;return a.inversePixelTransform=e,a.frameState=n,a.context=o,a}return r}(Pt),Xi=bp;var jp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kn=null;function Yp(){var i=document.createElement("canvas");i.width=1,i.height=1,Kn=i.getContext("2d")}var Up=function(i){jp(r,i);function r(t){var e=i.call(this,t)||this;return e.container=null,e.renderedResolution,e.tempTransform=jt(),e.pixelTransform=jt(),e.inversePixelTransform=jt(),e.context=null,e.containerReused=!1,e.pixelContext_=null,e.frameState=null,e}return r.prototype.getImageData=function(t,e,n){Kn||Yp(),Kn.clearRect(0,0,1,1);var o;try{Kn.drawImage(t,e,n,1,1,0,0,1,1),o=Kn.getImageData(0,0,1,1).data}catch{return null}return o},r.prototype.getBackground=function(t){var e=this.getLayer(),n=e.getBackground();return typeof n=="function"&&(n=n(t.viewState.resolution)),n||void 0},r.prototype.useContainer=function(t,e,n,o){var a=this.getLayer().getClassName(),s,l;if(t&&t.className===a&&t.style.opacity===""&&n===1&&(!o||t.style.backgroundColor&&$t(wr(t.style.backgroundColor),wr(o)))){var u=t.firstElementChild;u instanceof HTMLCanvasElement&&(l=u.getContext("2d"))}if(l&&l.canvas.style.transform===e?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=a;var f=s.style;f.position="absolute",f.width="100%",f.height="100%",o&&(f.backgroundColor=o),l=Ot();var u=l.canvas;s.appendChild(u),f=u.style,f.position="absolute",f.left="0",f.transformOrigin="top left",this.container=s,this.context=l}},r.prototype.clipUnrotated=function(t,e,n){var o=oe(n),a=Wr(n),s=zr(n),l=Xr(n);Tt(e.coordinateToPixelTransform,o),Tt(e.coordinateToPixelTransform,a),Tt(e.coordinateToPixelTransform,s),Tt(e.coordinateToPixelTransform,l);var u=this.inversePixelTransform;Tt(u,o),Tt(u,a),Tt(u,s),Tt(u,l),t.save(),t.beginPath(),t.moveTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(s[0]),Math.round(s[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.clip()},r.prototype.dispatchRenderEvent_=function(t,e,n){var o=this.getLayer();if(o.hasListener(t)){var a=new Xi(t,this.inversePixelTransform,n,e);o.dispatchEvent(a)}},r.prototype.preRender=function(t,e){this.frameState=e,this.dispatchRenderEvent_(ve.PRERENDER,t,e)},r.prototype.postRender=function(t,e){this.dispatchRenderEvent_(ve.POSTRENDER,t,e)},r.prototype.getRenderTransform=function(t,e,n,o,a,s,l){var u=a/2,f=s/2,h=o/e,c=-h,p=-t[0]+l,d=-t[1];return Yt(this.tempTransform,u,f,h,c,-n,p,d)},r.prototype.getDataAtPixel=function(t,e,n){var o=Tt(this.inversePixelTransform,t.slice()),a=this.context,s=this.getLayer(),l=s.getExtent();if(l){var u=Tt(e.pixelToCoordinateTransform,t.slice());if(!Ce(l,u))return null}var f=Math.round(o[0]),h=Math.round(o[1]),c=this.pixelContext_;if(!c){var p=document.createElement("canvas");p.width=1,p.height=1,c=p.getContext("2d"),this.pixelContext_=c}c.clearRect(0,0,1,1);var d;try{c.drawImage(a.canvas,f,h,1,1,0,0,1,1),d=c.getImageData(0,0,1,1).data}catch(x){return x.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):d}return d[3]===0?null:d},r.prototype.disposeInternal=function(){delete this.frameState,i.prototype.disposeInternal.call(this)},r}(fu),zi=Up;var Ct={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function cu(i,r,t,e,n,o,a,s,l,u,f,h){var c=i[r],p=i[r+1],d=0,x=0,v=0,_=0;function g(){d=c,x=p,r+=e,c=i[r],p=i[r+1],_+=v,v=Math.sqrt((c-d)*(c-d)+(p-x)*(p-x))}do g();while(r<t-e&&_+v<o);for(var y=v===0?0:(o-_)/v,E=Ue(d,c,y),C=Ue(x,p,y),w=r-e,I=_,S=o+s*l(u,n,f);r<t-e&&_+v<S;)g();y=v===0?0:(S-_)/v;var R=Ue(d,c,y),P=Ue(x,p,y),L;if(h){var F=[E,C,R,P];ki(F,0,4,2,h,F,F),L=F[0]>F[2]}else L=E>R;var k=Math.PI,K=[],D=w+e===r;r=w,v=0,_=I,c=i[r],p=i[r+1];var G;if(D){g(),G=Math.atan2(p-x,c-d),L&&(G+=G>0?-k:k);var b=(R+E)/2,et=(P+C)/2;return K[0]=[b,et,(S-o)/2,G,n],K}for(var Q=0,X=n.length;Q<X;){g();var mt=Math.atan2(p-x,c-d);if(L&&(mt+=mt>0?-k:k),G!==void 0){var O=mt-G;if(O+=O>k?-2*k:O<-k?2*k:0,Math.abs(O)>a)return null}G=mt;for(var Et=Q,Z=0;Q<X;++Q){var xt=L?X-Q-1:Q,pt=s*l(u,n[xt],f);if(r+e<t&&_+v<o+Z+pt/2)break;Z+=pt}if(Q!==Et){var Kt=L?n.substring(X-Et,X-Q):n.substring(Et,Q);y=v===0?0:(o+Z/2-_)/v;var b=Ue(d,c,y),et=Ue(x,p,y);K.push([b,et,Z/2,mt,Kt]),o+=Z}}return K}var nn=Lt(),ur=[],qe=[],Ve=[],fr=[];function hu(i){return i[3].declutterBox}var Bp=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function pu(i,r){return(r==="start"||r==="end")&&!Bp.test(i)&&(r=r==="start"?"left":"right"),Bn[r]}function Kp(i,r,t){return t>0&&i.push(`
`,""),i.push(r,""),i}var Xp=function(){function i(r,t,e,n){this.overlaps=e,this.pixelRatio=t,this.resolution=r,this.alignFill_,this.instructions=n.instructions,this.coordinates=n.coordinates,this.coordinateCache_={},this.renderedTransform_=jt(),this.hitDetectionInstructions=n.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=n.fillStates||{},this.strokeStates=n.strokeStates||{},this.textStates=n.textStates||{},this.widths_={},this.labels_={}}return i.prototype.createLabel=function(r,t,e,n){var o=r+t+e+n;if(this.labels_[o])return this.labels_[o];var a=n?this.strokeStates[n]:null,s=e?this.fillStates[e]:null,l=this.textStates[t],u=this.pixelRatio,f=[l.scale[0]*u,l.scale[1]*u],h=Array.isArray(r),c=pu(h?r[0]:r,l.textAlign||lr),p=n&&a.lineWidth?a.lineWidth:0,d=h?r:r.split(`
`).reduce(Kp,[]),x=$l(l,d),v=x.width,_=x.height,g=x.widths,y=x.heights,E=x.lineWidths,C=v+p,w=[],I=(C+2)*f[0],S=(_+p)*f[1],R={width:I<0?Math.floor(I):Math.ceil(I),height:S<0?Math.floor(S):Math.ceil(S),contextInstructions:w};if((f[0]!=1||f[1]!=1)&&w.push("scale",f),n){w.push("strokeStyle",a.strokeStyle),w.push("lineWidth",p),w.push("lineCap",a.lineCap),w.push("lineJoin",a.lineJoin),w.push("miterLimit",a.miterLimit);var P=er?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;P.prototype.setLineDash&&(w.push("setLineDash",[a.lineDash]),w.push("lineDashOffset",a.lineDashOffset))}e&&w.push("fillStyle",s.fillStyle),w.push("textBaseline","middle"),w.push("textAlign","center");for(var L=.5-c,F=c*C+L*p,k=[],K=[],D=0,G=0,b=0,et=0,Q,X=0,mt=d.length;X<mt;X+=2){var O=d[X];if(O===`
`){G+=D,D=0,F=c*C+L*p,++et;continue}var Et=d[X+1]||l.font;Et!==Q&&(n&&k.push("font",Et),e&&K.push("font",Et),Q=Et),D=Math.max(D,y[b]);var Z=[O,F+L*g[b]+c*(g[b]-E[et]),.5*(p+D)+G];F+=g[b],n&&k.push("strokeText",Z),e&&K.push("fillText",Z),++b}return Array.prototype.push.apply(w,k),Array.prototype.push.apply(w,K),this.labels_[o]=R,R},i.prototype.replayTextBackground_=function(r,t,e,n,o,a,s){r.beginPath(),r.moveTo.apply(r,t),r.lineTo.apply(r,e),r.lineTo.apply(r,n),r.lineTo.apply(r,o),r.lineTo.apply(r,t),a&&(this.alignFill_=a[2],this.fill_(r)),s&&(this.setStrokeStyle_(r,s),r.stroke())},i.prototype.calculateImageOrLabelDimensions_=function(r,t,e,n,o,a,s,l,u,f,h,c,p,d,x,v){s*=c[0],l*=c[1];var _=e-s,g=n-l,y=o+u>r?r-u:o,E=a+f>t?t-f:a,C=d[3]+y*c[0]+d[1],w=d[0]+E*c[1]+d[2],I=_-d[3],S=g-d[0];(x||h!==0)&&(ur[0]=I,fr[0]=I,ur[1]=S,qe[1]=S,qe[0]=I+C,Ve[0]=qe[0],Ve[1]=S+w,fr[1]=Ve[1]);var R;return h!==0?(R=Yt(jt(),e,n,1,1,h,-e,-n),Tt(R,ur),Tt(R,qe),Tt(R,Ve),Tt(R,fr),Vt(Math.min(ur[0],qe[0],Ve[0],fr[0]),Math.min(ur[1],qe[1],Ve[1],fr[1]),Math.max(ur[0],qe[0],Ve[0],fr[0]),Math.max(ur[1],qe[1],Ve[1],fr[1]),nn)):Vt(Math.min(I,I+C),Math.min(S,S+w),Math.max(I,I+C),Math.max(S,S+w),nn),p&&(_=Math.round(_),g=Math.round(g)),{drawImageX:_,drawImageY:g,drawImageW:y,drawImageH:E,originX:u,originY:f,declutterBox:{minX:nn[0],minY:nn[1],maxX:nn[2],maxY:nn[3],value:v},canvasTransform:R,scale:c}},i.prototype.replayImageOrLabel_=function(r,t,e,n,o,a,s){var l=!!(a||s),u=n.declutterBox,f=r.canvas,h=s?s[2]*n.scale[0]/2:0,c=u.minX-h<=f.width/t&&u.maxX+h>=0&&u.minY-h<=f.height/t&&u.maxY+h>=0;return c&&(l&&this.replayTextBackground_(r,ur,qe,Ve,fr,a,s),ql(r,n.canvasTransform,o,e,n.originX,n.originY,n.drawImageW,n.drawImageH,n.drawImageX,n.drawImageY,n.scale)),!0},i.prototype.fill_=function(r){if(this.alignFill_){var t=Tt(this.renderedTransform_,[0,0]),e=512*this.pixelRatio;r.save(),r.translate(t[0]%e,t[1]%e),r.rotate(this.viewRotation_)}r.fill(),this.alignFill_&&r.restore()},i.prototype.setStrokeStyle_=function(r,t){r.strokeStyle=t[1],r.lineWidth=t[2],r.lineCap=t[3],r.lineJoin=t[4],r.miterLimit=t[5],r.setLineDash&&(r.lineDashOffset=t[7],r.setLineDash(t[6]))},i.prototype.drawLabelWithPointPlacement_=function(r,t,e,n){var o=this.textStates[t],a=this.createLabel(r,t,n,e),s=this.strokeStates[e],l=this.pixelRatio,u=pu(Array.isArray(r)?r[0]:r,o.textAlign||lr),f=Bn[o.textBaseline||Ir],h=s&&s.lineWidth?s.lineWidth:0,c=a.width/l-2*o.scale[0],p=u*c+2*(.5-u)*h,d=f*a.height/l+2*(.5-f)*h;return{label:a,anchorX:p,anchorY:d}},i.prototype.execute_=function(r,t,e,n,o,a,s,l){var u;this.pixelCoordinates_&&$t(e,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=ae(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Ys(this.renderedTransform_,e));for(var f=0,h=n.length,c=0,p,d,x,v,_,g,y,E,C,w,I,S,R=0,P=0,L=null,F=null,k=this.coordinateCache_,K=this.viewRotation_,D=Math.round(Math.atan2(-e[1],e[0])*1e12)/1e12,G={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:K},b=this.instructions!=n||this.overlaps?0:200,et,Q,X,mt;f<h;){var O=n[f],Et=O[0];switch(Et){case U.BEGIN_GEOMETRY:et=O[1],mt=O[3],et.getGeometry()?s!==void 0&&!St(s,mt.getExtent())?f=O[2]+1:++f:f=O[2];break;case U.BEGIN_PATH:R>b&&(this.fill_(r),R=0),P>b&&(r.stroke(),P=0),!R&&!P&&(r.beginPath(),v=NaN,_=NaN),++f;break;case U.CIRCLE:c=O[1];var Z=u[c],xt=u[c+1],pt=u[c+2],Kt=u[c+3],Xt=pt-Z,Qt=Kt-xt,Pr=Math.sqrt(Xt*Xt+Qt*Qt);r.moveTo(Z+Pr,xt),r.arc(Z,xt,Pr,0,2*Math.PI,!0),++f;break;case U.CLOSE_PATH:r.closePath(),++f;break;case U.CUSTOM:c=O[1],p=O[2];var ge=O[3],ei=O[4],ri=O.length==6?O[5]:void 0;G.geometry=ge,G.feature=et,f in k||(k[f]=[]);var Je=k[f];ri?ri(u,c,p,2,Je):(Je[0]=u[c],Je[1]=u[c+1],Je.length=2),ei(Je,G),++f;break;case U.DRAW_IMAGE:c=O[1],p=O[2],E=O[3],d=O[4],x=O[5];var Mr=O[6],ni=O[7],dn=O[8],ii=O[9],dr=O[10],vn=O[11],oi=O[12],Fr=O[13],Qe=O[14];if(!E&&O.length>=19){C=O[18],w=O[19],I=O[20],S=O[21];var Dr=this.drawLabelWithPointPlacement_(C,w,I,S);E=Dr.label,O[3]=E;var co=O[22];d=(Dr.anchorX-co)*this.pixelRatio,O[4]=d;var ai=O[23];x=(Dr.anchorY-ai)*this.pixelRatio,O[5]=x,Mr=E.height,O[6]=Mr,Fr=E.width,O[13]=Fr}var mn=void 0;O.length>24&&(mn=O[24]);var De=void 0,ye=void 0,vr=void 0;O.length>16?(De=O[15],ye=O[16],vr=O[17]):(De=We,ye=!1,vr=!1),dr&&D?vn+=K:!dr&&!D&&(vn-=K);for(var _n=0;c<p;c+=2)if(!(mn&&mn[_n++]<Fr/this.pixelRatio)){var zt=this.calculateImageOrLabelDimensions_(E.width,E.height,u[c],u[c+1],Fr,Mr,d,x,dn,ii,vn,oi,o,De,ye||vr,et),si=[r,t,E,zt,ni,ye?L:null,vr?F:null],Ft=void 0,kr=void 0;if(l&&Qe){var mr=p-c;if(!Qe[mr]){Qe[mr]=si;continue}if(Ft=Qe[mr],delete Qe[mr],kr=hu(Ft),l.collides(kr))continue}l&&l.collides(zt.declutterBox)||(Ft&&(l&&l.insert(kr),this.replayImageOrLabel_.apply(this,Ft)),l&&l.insert(zt.declutterBox),this.replayImageOrLabel_.apply(this,si))}++f;break;case U.DRAW_CHARS:var ka=O[1],Na=O[2],ho=O[3],sc=O[4];S=O[5];var lc=O[6],Ga=O[7],ba=O[8];I=O[9];var po=O[10];C=O[11],w=O[12];var ja=[O[13],O[13]],vo=this.textStates[w],gn=vo.font,yn=[vo.scale[0]*Ga,vo.scale[1]*Ga],xn=void 0;gn in this.widths_?xn=this.widths_[gn]:(xn={},this.widths_[gn]=xn);var Ya=jl(u,ka,Na,2),Ua=Math.abs(yn[0])*Jo(gn,C,xn);if(sc||Ua<=Ya){var uc=this.textStates[w].textAlign,fc=(Ya-Ua)*Bn[uc],En=cu(u,ka,Na,2,C,fc,lc,Math.abs(yn[0]),Jo,gn,xn,D?0:this.viewRotation_);t:if(En){var Tn=[],tr=void 0,li=void 0,ui=void 0,Wt=void 0,ne=void 0;if(I)for(tr=0,li=En.length;tr<li;++tr){ne=En[tr],ui=ne[4],Wt=this.createLabel(ui,w,"",I),d=ne[2]+(yn[0]<0?-po:po),x=ho*Wt.height+(.5-ho)*2*po*yn[1]/yn[0]-ba;var zt=this.calculateImageOrLabelDimensions_(Wt.width,Wt.height,ne[0],ne[1],Wt.width,Wt.height,d,x,0,0,ne[3],ja,!1,We,!1,et);if(l&&l.collides(zt.declutterBox))break t;Tn.push([r,t,Wt,zt,1,null,null])}if(S)for(tr=0,li=En.length;tr<li;++tr){ne=En[tr],ui=ne[4],Wt=this.createLabel(ui,w,S,""),d=ne[2],x=ho*Wt.height-ba;var zt=this.calculateImageOrLabelDimensions_(Wt.width,Wt.height,ne[0],ne[1],Wt.width,Wt.height,d,x,0,0,ne[3],ja,!1,We,!1,et);if(l&&l.collides(zt.declutterBox))break t;Tn.push([r,t,Wt,zt,1,null,null])}l&&l.load(Tn.map(hu));for(var mo=0,cc=Tn.length;mo<cc;++mo)this.replayImageOrLabel_.apply(this,Tn[mo])}}++f;break;case U.END_GEOMETRY:if(a!==void 0){et=O[1];var Ba=a(et,mt);if(Ba)return Ba}++f;break;case U.FILL:b?R++:this.fill_(r),++f;break;case U.MOVE_TO_LINE_TO:for(c=O[1],p=O[2],Q=u[c],X=u[c+1],g=Q+.5|0,y=X+.5|0,(g!==v||y!==_)&&(r.moveTo(Q,X),v=g,_=y),c+=2;c<p;c+=2)Q=u[c],X=u[c+1],g=Q+.5|0,y=X+.5|0,(c==p-2||g!==v||y!==_)&&(r.lineTo(Q,X),v=g,_=y);++f;break;case U.SET_FILL_STYLE:L=O,this.alignFill_=O[2],R&&(this.fill_(r),R=0,P&&(r.stroke(),P=0)),r.fillStyle=O[1],++f;break;case U.SET_STROKE_STYLE:F=O,P&&(r.stroke(),P=0),this.setStrokeStyle_(r,O),++f;break;case U.STROKE:b?P++:r.stroke(),++f;break;default:++f;break}}R&&this.fill_(r),P&&r.stroke()},i.prototype.execute=function(r,t,e,n,o,a){this.viewRotation_=n,this.execute_(r,t,e,this.instructions,o,void 0,void 0,a)},i.prototype.executeHitDetection=function(r,t,e,n,o){return this.viewRotation_=e,this.execute_(r,1,t,this.hitDetectionInstructions,!0,n,o)},i}(),du=Xp;var sa=[Ct.POLYGON,Ct.CIRCLE,Ct.LINE_STRING,Ct.IMAGE,Ct.TEXT,Ct.DEFAULT],zp=function(){function i(r,t,e,n,o,a){this.maxExtent_=r,this.overlaps_=n,this.pixelRatio_=e,this.resolution_=t,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=jt(),this.createExecutors_(o)}return i.prototype.clip=function(r,t){var e=this.getClipCoords(t);r.beginPath(),r.moveTo(e[0],e[1]),r.lineTo(e[2],e[3]),r.lineTo(e[4],e[5]),r.lineTo(e[6],e[7]),r.clip()},i.prototype.createExecutors_=function(r){for(var t in r){var e=this.executorsByZIndex_[t];e===void 0&&(e={},this.executorsByZIndex_[t]=e);var n=r[t];for(var o in n){var a=n[o];e[o]=new du(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},i.prototype.hasExecutors=function(r){for(var t in this.executorsByZIndex_)for(var e=this.executorsByZIndex_[t],n=0,o=r.length;n<o;++n)if(r[n]in e)return!0;return!1},i.prototype.forEachFeatureAtCoordinate=function(r,t,e,n,o,a){n=Math.round(n);var s=n*2+1,l=Yt(this.hitDetectionTransform_,n+.5,n+.5,1/t,-1/t,-e,-r[0],-r[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Ot(s,s));var f=this.hitDetectionContext_;f.canvas.width!==s||f.canvas.height!==s?(f.canvas.width=s,f.canvas.height=s):u||f.clearRect(0,0,s,s);var h;this.renderBuffer_!==void 0&&(h=Lt(),xr(h,r),Br(h,t*(this.renderBuffer_+n),h));var c=Wp(n),p;function d(w,I){for(var S=f.getImageData(0,0,s,s).data,R=0,P=c.length;R<P;R++)if(S[c[R]]>0){if(!a||p!==Ct.IMAGE&&p!==Ct.TEXT||a.indexOf(w)!==-1){var L=(c[R]-3)/4,F=n-L%s,k=n-(L/s|0),K=o(w,I,F*F+k*k);if(K)return K}f.clearRect(0,0,s,s);break}}var x=Object.keys(this.executorsByZIndex_).map(Number);x.sort(xe);var v,_,g,y,E;for(v=x.length-1;v>=0;--v){var C=x[v].toString();for(g=this.executorsByZIndex_[C],_=sa.length-1;_>=0;--_)if(p=sa[_],y=g[p],y!==void 0&&(E=y.executeHitDetection(f,l,e,d,h),E))return E}},i.prototype.getClipCoords=function(r){var t=this.maxExtent_;if(!t)return null;var e=t[0],n=t[1],o=t[2],a=t[3],s=[e,n,e,a,o,a,o,n];return ae(s,0,8,2,r,s),s},i.prototype.isEmpty=function(){return Ne(this.executorsByZIndex_)},i.prototype.execute=function(r,t,e,n,o,a,s){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(xe),this.maxExtent_&&(r.save(),this.clip(r,e));var u=a||sa,f,h,c,p,d,x;for(s&&l.reverse(),f=0,h=l.length;f<h;++f){var v=l[f].toString();for(d=this.executorsByZIndex_[v],c=0,p=u.length;c<p;++c){var _=u[c];x=d[_],x!==void 0&&x.execute(r,t,e,n,o,s)}}this.maxExtent_&&r.restore()},i}(),la={};function Wp(i){if(la[i]!==void 0)return la[i];for(var r=i*2+1,t=i*i,e=new Array(t+1),n=0;n<=i;++n)for(var o=0;o<=i;++o){var a=n*n+o*o;if(a>t)break;var s=e[a];s||(s=[],e[a]=s),s.push(((i+n)*r+(i+o))*4+3),n>0&&s.push(((i-n)*r+(i+o))*4+3),o>0&&(s.push(((i+n)*r+(i-o))*4+3),n>0&&s.push(((i-n)*r+(i-o))*4+3))}for(var l=[],n=0,u=e.length;n<u;++n)e[n]&&l.push.apply(l,e[n]);return la[i]=l,l}var ua=zp;var At={ANIMATING:0,INTERACTING:1};var Zp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$p=function(i){Zp(r,i);function r(t,e,n,o,a,s,l){var u=i.call(this)||this;return u.context_=t,u.pixelRatio_=e,u.extent_=n,u.transform_=o,u.viewRotation_=a,u.squaredTolerance_=s,u.userTransform_=l,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=jt(),u}return r.prototype.drawImages_=function(t,e,n,o){if(!!this.image_){var a=ae(t,e,n,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.tmpLocalTransform_,u=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=u*this.imageOpacity_);var f=this.imageRotation_;this.imageRotateWithView_&&(f+=this.viewRotation_);for(var h=0,c=a.length;h<c;h+=2){var p=a[h]-this.imageAnchorX_,d=a[h+1]-this.imageAnchorY_;if(f!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var x=p+this.imageAnchorX_,v=d+this.imageAnchorY_;Yt(l,x,v,1,1,f,-x,-v),s.setTransform.apply(s,l),s.translate(x,v),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=u)}},r.prototype.drawText_=function(t,e,n,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=ae(t,e,n,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);e<n;e+=o){var u=a[e]+this.textOffsetX_,f=a[e+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var h=Yt(this.tmpLocalTransform_,u,f,1,1,l,-u,-f);s.setTransform.apply(s,h),s.translate(u,f),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,u,f),this.textFillState_&&s.fillText(this.text_,u,f)}}},r.prototype.moveToLineTo_=function(t,e,n,o,a){var s=this.context_,l=ae(t,e,n,o,this.transform_,this.pixelCoordinates_);s.moveTo(l[0],l[1]);var u=l.length;a&&(u-=2);for(var f=2;f<u;f+=2)s.lineTo(l[f],l[f+1]);return a&&s.closePath(),n},r.prototype.drawRings_=function(t,e,n,o){for(var a=0,s=n.length;a<s;++a)e=this.moveToLineTo_(t,e,n[a],o,!0);return e},r.prototype.drawCircle=function(t){if(!!St(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=yl(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],o=e[3]-e[1],a=Math.sqrt(n*n+o*o),s=this.context_;s.beginPath(),s.arc(e[0],e[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}},r.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},r.prototype.setTransform=function(t){this.transform_=t},r.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case q.POINT:this.drawPoint(t);break;case q.LINE_STRING:this.drawLineString(t);break;case q.POLYGON:this.drawPolygon(t);break;case q.MULTI_POINT:this.drawMultiPoint(t);break;case q.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case q.MULTI_POLYGON:this.drawMultiPolygon(t);break;case q.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case q.CIRCLE:this.drawCircle(t);break;default:}},r.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);!n||!St(this.extent_,n.getExtent())||(this.setStyle(e),this.drawGeometry(n))},r.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,o=e.length;n<o;++n)this.drawGeometry(e[n])},r.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),this.text_!==""&&this.drawText_(e,0,e.length,n)},r.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),this.text_!==""&&this.drawText_(e,0,e.length,n)},r.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!St(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){var o=t.getFlatMidpoint();this.drawText_(o,0,2,2)}}},r.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(!!St(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,o=t.getFlatCoordinates(),a=0,s=t.getEnds(),l=t.getStride();n.beginPath();for(var u=0,f=s.length;u<f;++u)a=this.moveToLineTo_(o,a,s[u],l,!1);n.stroke()}if(this.text_!==""){var h=t.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},r.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!St(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},r.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!St(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),o=0,a=t.getEndss(),s=t.getStride();e.beginPath();for(var l=0,u=a.length;l<u;++l){var f=a[l];o=this.drawRings_(n,o,f,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){var h=t.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},r.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},r.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&($t(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},r.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,o=t.textAlign?t.textAlign:lr;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=o&&(n.textAlign=o,e.textAlign=o),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=o,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:o,textBaseline:t.textBaseline})},r.prototype.setFillStrokeStyle=function(t,e){var n=this;if(!t)this.fillState_=null;else{var o=t.getColor();this.fillState_={fillStyle:Ht(o||Jt)}}if(!e)this.strokeState_=null;else{var a=e.getColor(),s=e.getLineCap(),l=e.getLineDash(),u=e.getLineDashOffset(),f=e.getLineJoin(),h=e.getWidth(),c=e.getMiterLimit(),p=l||Be;this.strokeState_={lineCap:s!==void 0?s:Sr,lineDash:this.pixelRatio_===1?p:p.map(function(d){return d*n.pixelRatio_}),lineDashOffset:(u||Ke)*this.pixelRatio_,lineJoin:f!==void 0?f:Ie,lineWidth:(h!==void 0?h:Ze)*this.pixelRatio_,miterLimit:c!==void 0?c:Xe,strokeStyle:Ht(a||ze)}}},r.prototype.setImageStyle=function(t){var e;if(!t||!(e=t.getSize())){this.image_=null;return}var n=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_},r.prototype.setTextStyle=function(t){if(!t)this.text_="";else{var e=t.getFill();if(!e)this.textFillState_=null;else{var n=e.getColor();this.textFillState_={fillStyle:Ht(n||Jt)}}var o=t.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),l=o.getLineDash(),u=o.getLineDashOffset(),f=o.getLineJoin(),h=o.getWidth(),c=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:Sr,lineDash:l||Be,lineDashOffset:u||Ke,lineJoin:f!==void 0?f:Ie,lineWidth:h!==void 0?h:Ze,miterLimit:c!==void 0?c:Xe,strokeStyle:Ht(a||ze)}}var p=t.getFont(),d=t.getOffsetX(),x=t.getOffsetY(),v=t.getRotateWithView(),_=t.getRotation(),g=t.getScaleArray(),y=t.getText(),E=t.getTextAlign(),C=t.getTextBaseline();this.textState_={font:p!==void 0?p:Ui,textAlign:E!==void 0?E:lr,textBaseline:C!==void 0?C:Ir},this.text_=y!==void 0?Array.isArray(y)?y.reduce(function(w,I,S){return w+=S%2?" ":I},""):y:"",this.textOffsetX_=d!==void 0?this.pixelRatio_*d:0,this.textOffsetY_=x!==void 0?this.pixelRatio_*x:0,this.textRotateWithView_=v!==void 0?v:!1,this.textRotation_=_!==void 0?_:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}},r}(Ki),vu=$p;var Le={FRACTION:"fraction",PIXELS:"pixels"};var re={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};var qp=function(){function i(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return i.prototype.clear=function(){this.cache_={},this.cacheSize_=0},i.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},i.prototype.expire=function(){if(this.canExpireCache()){var r=0;for(var t in this.cache_){var e=this.cache_[t];(r++&3)===0&&!e.hasListener()&&(delete this.cache_[t],--this.cacheSize_)}}},i.prototype.get=function(r,t,e){var n=mu(r,t,e);return n in this.cache_?this.cache_[n]:null},i.prototype.set=function(r,t,e,n){var o=mu(r,t,e);this.cache_[o]=n,++this.cacheSize_},i.prototype.setSize=function(r){this.maxCacheSize_=r,this.expire()},i}();function mu(i,r,t){var e=t?bi(t):"null";return r+":"+i+":"+e}var on=new qp;var Vp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hp=function(i){Vp(r,i);function r(t,e,n,o){var a=i.call(this)||this;return a.extent=t,a.pixelRatio_=n,a.resolution=e,a.state=o,a}return r.prototype.changed=function(){this.dispatchEvent(N.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return tt()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){tt()},r}(ie),_u=Hp;var Jp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),K1=function(i){Jp(r,i);function r(t,e,n,o,a,s){var l=i.call(this,t,e,n,ht.IDLE)||this;return l.src_=o,l.image_=new Image,a!==null&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=ht.IDLE,l.imageLoadFunction_=s,l}return r.prototype.getImage=function(){return this.image_},r.prototype.handleImageError_=function(){this.state=ht.ERROR,this.unlistenImage_(),this.changed()},r.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=kt(this.extent)/this.image_.height),this.state=ht.LOADED,this.unlistenImage_(),this.changed()},r.prototype.load=function(){(this.state==ht.IDLE||this.state==ht.ERROR)&&(this.state=ht.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Xn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.setImage=function(t){this.image_=t,this.resolution=kt(this.extent)/this.image_.height},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(_u);function Xn(i,r,t){var e=i,n=!0,o=!1,a=!1,s=[jr(e,N.LOAD,function(){a=!0,o||r()})];return e.src&&bs?(o=!0,e.decode().then(function(){n&&r()}).catch(function(l){n&&(a?r():t())})):s.push(jr(e,N.ERROR,t)),function(){n=!1,s.forEach(st)}}var Qp=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zn=null,td=function(i){Qp(r,i);function r(t,e,n,o,a,s){var l=i.call(this)||this;return l.hitDetectionImage_=null,l.image_=t||new Image,o!==null&&(l.image_.crossOrigin=o),l.canvas_={},l.color_=s,l.unlisten_=null,l.imageState_=a,l.size_=n,l.src_=e,l.tainted_,l}return r.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===ht.LOADED){zn||(zn=Ot(1,1)),zn.drawImage(this.image_,0,0);try{zn.getImageData(0,0,1,1),this.tainted_=!1}catch{zn=null,this.tainted_=!0}}return this.tainted_===!0},r.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(N.CHANGE)},r.prototype.handleImageError_=function(){this.imageState_=ht.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.handleImageLoad_=function(){this.imageState_=ht.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},r.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},r.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},r.prototype.getImageState=function(){return this.imageState_},r.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Ot(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},r.prototype.getSize=function(){return this.size_},r.prototype.getSrc=function(){return this.src_},r.prototype.load=function(){if(this.imageState_==ht.IDLE){this.imageState_=ht.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Xn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},r.prototype.replaceColor_=function(t){if(!(!this.color_||this.canvas_[t]||this.imageState_!==ht.LOADED)){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply",n.globalCompositeOperation==="multiply"||this.isTainted_())n.fillStyle=bi(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var o=n.getImageData(0,0,e.width,e.height),a=o.data,s=this.color_[0]/255,l=this.color_[1]/255,u=this.color_[2]/255,f=this.color_[3],h=0,c=a.length;h<c;h+=4)a[h]*=s,a[h+1]*=l,a[h+2]*=u,a[h+3]*=f;n.putImageData(o,0,0)}}},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}(ie);function gu(i,r,t,e,n,o){var a=on.get(r,e,o);return a||(a=new td(i,r,t,e,n,o),on.set(r,e,o,a)),a}var ed=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rd=function(i){ed(r,i);function r(t){var e=this,n=t||{},o=n.opacity!==void 0?n.opacity:1,a=n.rotation!==void 0?n.rotation:0,s=n.scale!==void 0?n.scale:1,l=n.rotateWithView!==void 0?n.rotateWithView:!1;e=i.call(this,{opacity:o,rotation:a,scale:s,displacement:n.displacement!==void 0?n.displacement:[0,0],rotateWithView:l})||this,e.anchor_=n.anchor!==void 0?n.anchor:[.5,.5],e.normalizedAnchor_=null,e.anchorOrigin_=n.anchorOrigin!==void 0?n.anchorOrigin:re.TOP_LEFT,e.anchorXUnits_=n.anchorXUnits!==void 0?n.anchorXUnits:Le.FRACTION,e.anchorYUnits_=n.anchorYUnits!==void 0?n.anchorYUnits:Le.FRACTION,e.crossOrigin_=n.crossOrigin!==void 0?n.crossOrigin:null;var u=n.img!==void 0?n.img:null;e.imgSize_=n.imgSize;var f=n.src;B(!(f!==void 0&&u),4),B(!u||u&&e.imgSize_,5),(f===void 0||f.length===0)&&u&&(f=u.src||rt(u)),B(f!==void 0&&f.length>0,6);var h=n.src!==void 0?ht.IDLE:ht.LOADED;return e.color_=n.color!==void 0?wr(n.color):null,e.iconImage_=gu(u,f,e.imgSize_!==void 0?e.imgSize_:null,e.crossOrigin_,h,e.color_),e.offset_=n.offset!==void 0?n.offset:[0,0],e.offsetOrigin_=n.offsetOrigin!==void 0?n.offsetOrigin:re.TOP_LEFT,e.origin_=null,e.size_=n.size!==void 0?n.size:null,e}return r.prototype.clone=function(){var t=this.getScale();return new r({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(t)?t.slice():t,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc()})},r.prototype.getAnchor=function(){var t=this.normalizedAnchor_;if(!t){t=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==Le.FRACTION||this.anchorYUnits_==Le.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Le.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Le.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=re.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_==re.TOP_RIGHT||this.anchorOrigin_==re.BOTTOM_RIGHT)&&(t[0]=-t[0]+e[0]),(this.anchorOrigin_==re.BOTTOM_LEFT||this.anchorOrigin_==re.BOTTOM_RIGHT)&&(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}var n=this.getDisplacement();return[t[0]-n[0],t[1]+n[1]]},r.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},r.prototype.getColor=function(){return this.color_},r.prototype.getImage=function(t){return this.iconImage_.getImage(t)},r.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},r.prototype.getImageSize=function(){return this.iconImage_.getSize()},r.prototype.getImageState=function(){return this.iconImage_.getImageState()},r.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},r.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=re.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),(this.offsetOrigin_==re.TOP_RIGHT||this.offsetOrigin_==re.BOTTOM_RIGHT)&&(t[0]=n[0]-e[0]-t[0]),(this.offsetOrigin_==re.BOTTOM_LEFT||this.offsetOrigin_==re.BOTTOM_RIGHT)&&(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},r.prototype.getSrc=function(){return this.iconImage_.getSrc()},r.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},r.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(N.CHANGE,t)},r.prototype.load=function(){this.iconImage_.load()},r.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(N.CHANGE,t)},r}(Gi),Wn=rd;var me=.5;function yu(i,r,t,e,n,o,a){var s=i[0]*me,l=i[1]*me,u=Ot(s,l);u.imageSmoothingEnabled=!1;for(var f=u.canvas,h=new vu(u,me,n,null,a),c=t.length,p=Math.floor((256*256*256-1)/c),d={},x=1;x<=c;++x){var v=t[x-1],_=v.getStyleFunction()||e;if(!!e){var g=_(v,o);if(!!g){Array.isArray(g)||(g=[g]);for(var y=x*p,E="#"+("000000"+y.toString(16)).slice(-6),C=0,w=g.length;C<w;++C){var I=g[C],S=I.getGeometryFunction()(v);if(!(!S||!St(n,S.getExtent()))){var R=I.clone(),P=R.getFill();P&&P.setColor(E);var L=R.getStroke();L&&(L.setColor(E),L.setLineDash(null)),R.setText(void 0);var F=I.getImage();if(F&&F.getOpacity()!==0){var k=F.getImageSize();if(!k)continue;var K=Ot(k[0],k[1],void 0,{alpha:!1}),D=K.canvas;K.fillStyle=E,K.fillRect(0,0,D.width,D.height),R.setImage(new Wn({img:D,imgSize:k,anchor:F.getAnchor(),anchorXUnits:Le.PIXELS,anchorYUnits:Le.PIXELS,offset:F.getOrigin(),opacity:1,size:F.getSize(),scale:F.getScale(),rotation:F.getRotation(),rotateWithView:F.getRotateWithView()}))}var G=R.getZIndex()||0,b=d[G];b||(b={},d[G]=b,b[q.POLYGON]=[],b[q.CIRCLE]=[],b[q.LINE_STRING]=[],b[q.POINT]=[]),b[S.getType().replace("Multi","")].push(S,R)}}}}}for(var et=Object.keys(d).map(Number).sort(xe),x=0,Q=et.length;x<Q;++x){var b=d[et[x]];for(var X in b)for(var mt=b[X],C=0,w=mt.length;C<w;C+=2){h.setStyle(mt[C+1]);for(var O=0,Et=r.length;O<Et;++O)h.setTransform(r[O]),h.drawGeometry(mt[C])}}return u.getImageData(0,0,f.width,f.height)}function xu(i,r,t){var e=[];if(t){var n=Math.floor(Math.round(i[0])*me),o=Math.floor(Math.round(i[1])*me),a=(_t(n,0,t.width-1)+_t(o,0,t.height-1)*t.width)*4,s=t.data[a],l=t.data[a+1],u=t.data[a+2],f=u+256*(l+256*s),h=Math.floor((256*256*256-1)/r.length);f&&f%h===0&&e.push(r[f/h-1])}return e}var nd=.5,Eu={Point:fd,LineString:sd,Polygon:hd,MultiPoint:cd,MultiLineString:ld,MultiPolygon:ud,GeometryCollection:ad,Circle:id};function Tu(i,r){return parseInt(rt(i),10)-parseInt(rt(r),10)}function Cu(i,r){var t=Wi(i,r);return t*t}function Wi(i,r){return nd*i/r}function id(i,r,t,e,n){var o=t.getFill(),a=t.getStroke();if(o||a){var s=i.getBuilder(t.getZIndex(),Ct.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(r,e)}var l=t.getText();if(l&&l.getText()){var u=(n||i).getBuilder(t.getZIndex(),Ct.TEXT);u.setTextStyle(l),u.drawText(r,e)}}function fa(i,r,t,e,n,o,a){var s=!1,l=t.getImage();if(l){var u=l.getImageState();u==ht.LOADED||u==ht.ERROR?l.unlistenImageChange(n):(u==ht.IDLE&&l.load(),u=l.getImageState(),l.listenImageChange(n),s=!0)}return od(i,r,t,e,o,a),s}function od(i,r,t,e,n,o){var a=t.getGeometryFunction()(r);if(!!a){var s=a.simplifyTransformed(e,n),l=t.getRenderer();if(l)wu(i,s,t,r);else{var u=Eu[s.getType()];u(i,s,t,r,o)}}}function wu(i,r,t,e){if(r.getType()==q.GEOMETRY_COLLECTION){for(var n=r.getGeometries(),o=0,a=n.length;o<a;++o)wu(i,n[o],t,e);return}var s=i.getBuilder(t.getZIndex(),Ct.DEFAULT);s.drawCustom(r,e,t.getRenderer(),t.getHitDetectionRenderer())}function ad(i,r,t,e,n){var o=r.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var l=Eu[o[a].getType()];l(i,o[a],t,e,n)}}function sd(i,r,t,e,n){var o=t.getStroke();if(o){var a=i.getBuilder(t.getZIndex(),Ct.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(r,e)}var s=t.getText();if(s&&s.getText()){var l=(n||i).getBuilder(t.getZIndex(),Ct.TEXT);l.setTextStyle(s),l.drawText(r,e)}}function ld(i,r,t,e,n){var o=t.getStroke();if(o){var a=i.getBuilder(t.getZIndex(),Ct.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(r,e)}var s=t.getText();if(s&&s.getText()){var l=(n||i).getBuilder(t.getZIndex(),Ct.TEXT);l.setTextStyle(s),l.drawText(r,e)}}function ud(i,r,t,e,n){var o=t.getFill(),a=t.getStroke();if(a||o){var s=i.getBuilder(t.getZIndex(),Ct.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(r,e)}var l=t.getText();if(l&&l.getText()){var u=(n||i).getBuilder(t.getZIndex(),Ct.TEXT);u.setTextStyle(l),u.drawText(r,e)}}function fd(i,r,t,e,n){var o=t.getImage(),a=t.getText(),s;if(n&&(i=n,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=ht.LOADED)return;var l=i.getBuilder(t.getZIndex(),Ct.IMAGE);l.setImageStyle(o,s),l.drawPoint(r,e)}if(a&&a.getText()){var u=i.getBuilder(t.getZIndex(),Ct.TEXT);u.setTextStyle(a,s),u.drawText(r,e)}}function cd(i,r,t,e,n){var o=t.getImage(),a=t.getText(),s;if(n&&(i=n,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=ht.LOADED)return;var l=i.getBuilder(t.getZIndex(),Ct.IMAGE);l.setImageStyle(o,s),l.drawMultiPoint(r,e)}if(a&&a.getText()){var u=(n||i).getBuilder(t.getZIndex(),Ct.TEXT);u.setTextStyle(a,s),u.drawText(r,e)}}function hd(i,r,t,e,n){var o=t.getFill(),a=t.getStroke();if(o||a){var s=i.getBuilder(t.getZIndex(),Ct.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(r,e)}var l=t.getText();if(l&&l.getText()){var u=(n||i).getBuilder(t.getZIndex(),Ct.TEXT);u.setTextStyle(l),u.drawText(r,e)}}var pd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dd=function(i){pd(r,i);function r(t){var e=i.call(this,t)||this;return e.boundHandleStyleImageChange_=e.handleStyleImageChange_.bind(e),e.animatingOrInteracting_,e.dirty_=!1,e.hitDetectionImageData_=null,e.renderedFeatures_=null,e.renderedRevision_=-1,e.renderedResolution_=NaN,e.renderedExtent_=Lt(),e.wrappedRenderedExtent_=Lt(),e.renderedRotation_,e.renderedCenter_=null,e.renderedProjection_=null,e.renderedRenderOrder_=null,e.replayGroup_=null,e.replayGroupChanged=!0,e.declutterExecutorGroup=null,e.clipping=!0,e}return r.prototype.renderWorlds=function(t,e,n){var o=e.extent,a=e.viewState,s=a.center,l=a.resolution,u=a.projection,f=a.rotation,h=u.getExtent(),c=this.getLayer().getSource(),p=e.pixelRatio,d=e.viewHints,x=!(d[At.ANIMATING]||d[At.INTERACTING]),v=this.context,_=Math.round(e.size[0]*p),g=Math.round(e.size[1]*p),y=c.getWrapX()&&u.canWrapX(),E=y?dt(h):null,C=y?Math.ceil((o[2]-h[2])/E)+1:1,w=y?Math.floor((o[0]-h[0])/E):0;do{var I=this.getRenderTransform(s,l,f,p,_,g,w*E);t.execute(v,1,I,f,x,void 0,n)}while(++w<C)},r.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},r.prototype.renderFrame=function(t,e){var n=t.pixelRatio,o=t.layerStatesArray[t.layerIndex];Us(this.pixelTransform,1/n,1/n),Ur(this.inversePixelTransform,this.pixelTransform);var a=Si(this.pixelTransform);this.useContainer(e,a,o.opacity,this.getBackground(t));var s=this.context,l=s.canvas,u=this.replayGroup_,f=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!f||f.isEmpty()))return null;var h=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);l.width!=h||l.height!=c?(l.width=h,l.height=c,l.style.transform!==a&&(l.style.transform=a)):this.containerReused||s.clearRect(0,0,h,c),this.preRender(s,t);var p=t.viewState,d=p.projection,x=!1,v=!0;if(o.extent&&this.clipping){var _=de(o.extent,d);v=St(_,t.extent),x=v&&!Ge(_,t.extent),x&&this.clipUnrotated(s,t,_)}v&&this.renderWorlds(u,t),x&&s.restore(),this.postRender(s,t);var g=ji(o.opacity),y=this.container;return g!==y.style.opacity&&(y.style.opacity=g),this.renderedRotation_!==p.rotation&&(this.renderedRotation_=p.rotation,this.hitDetectionImageData_=null),this.container},r.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];Tt(this.pixelTransform,n);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,u=this.wrappedRenderedExtent_,f=this.getLayer(),h=[],c=n[0]*me,p=n[1]*me;h.push(this.getRenderTransform(o,a,s,me,c,p,0).slice());var d=f.getSource(),x=l.getExtent();if(d.getWrapX()&&l.canWrapX()&&!Ge(x,u)){for(var v=u[0],_=dt(x),g=0,y=void 0;v<x[0];)--g,y=_*g,h.push(this.getRenderTransform(o,a,s,me,c,p,y).slice()),v+=_;for(g=0,v=u[2];v>x[2];)++g,y=_*g,h.push(this.getRenderTransform(o,a,s,me,c,p,y).slice()),v-=_}this.hitDetectionImageData_=yu(n,h,this.renderedFeatures_,f.getStyleFunction(),u,a,s)}e(xu(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a){var s=this;if(!!this.replayGroup_){var l=e.viewState.resolution,u=e.viewState.rotation,f=this.getLayer(),h={},c=function(x,v,_){var g=rt(x),y=h[g];if(y){if(y!==!0&&_<y.distanceSq){if(_===0)return h[g]=!0,a.splice(a.lastIndexOf(y),1),o(x,f,v);y.geometry=v,y.distanceSq=_}}else{if(_===0)return h[g]=!0,o(x,f,v);a.push(h[g]={feature:x,layer:f,geometry:v,distanceSq:_,callback:o})}},p,d=[this.replayGroup_];return this.declutterExecutorGroup&&d.push(this.declutterExecutorGroup),d.some(function(x){return p=x.forEachFeatureAtCoordinate(t,l,u,n,c,x===s.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map(function(v){return v.value}):null)}),p}},r.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},r.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},r.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var o=t.viewHints[At.ANIMATING],a=t.viewHints[At.INTERACTING],s=e.getUpdateWhileAnimating(),l=e.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=t.extent,f=t.viewState,h=f.projection,c=f.resolution,p=t.pixelRatio,d=e.getRevision(),x=e.getRenderBuffer(),v=e.getRenderOrder();v===void 0&&(v=Tu);var _=f.center.slice(),g=Br(u,x*c),y=g.slice(),E=[g.slice()],C=h.getExtent();if(n.getWrapX()&&h.canWrapX()&&!Ge(C,t.extent)){var w=dt(C),I=Math.max(dt(g)/2,w);g[0]=C[0]-I,g[2]=C[2]+I,Mi(_,h);var S=qs(E[0],h);S[0]<C[0]&&S[2]<C[2]?E.push([S[0]+w,S[1],S[2]+w,S[3]]):S[0]>C[0]&&S[2]>C[2]&&E.push([S[0]-w,S[1],S[2]-w,S[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==v&&Ge(this.wrappedRenderedExtent_,g))return $t(this.renderedExtent_,y)||(this.hitDetectionImageData_=null,this.renderedExtent_=y),this.renderedCenter_=_,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var R=new aa(Wi(c,p),g,c,p),P;this.getLayer().getDeclutter()&&(P=new aa(Wi(c,p),g,c,p));var L=Di(),F;if(L){for(var k=0,K=E.length;k<K;++k){var D=E[k],G=Jr(D,h);n.loadFeatures(G,pl(c,h),L)}F=Dn(L,h)}else for(var k=0,K=E.length;k<K;++k)n.loadFeatures(E[k],c,h);var b=Cu(c,p),et=function(Et){var Z,xt=Et.getStyleFunction()||e.getStyleFunction();if(xt&&(Z=xt(Et,c)),Z){var pt=this.renderFeature(Et,b,Z,R,F,P);this.dirty_=this.dirty_||pt}}.bind(this),Q=Jr(g,h),X=n.getFeaturesInExtent(Q);v&&X.sort(v);for(var k=0,K=X.length;k<K;++k)et(X[k]);this.renderedFeatures_=X;var mt=R.finish(),O=new ua(g,c,p,n.getOverlaps(),mt,e.getRenderBuffer());return P&&(this.declutterExecutorGroup=new ua(g,c,p,n.getOverlaps(),P.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=d,this.renderedRenderOrder_=v,this.renderedExtent_=y,this.wrappedRenderedExtent_=g,this.renderedCenter_=_,this.renderedProjection_=h,this.replayGroup_=O,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},r.prototype.renderFeature=function(t,e,n,o,a,s){if(!n)return!1;var l=!1;if(Array.isArray(n))for(var u=0,f=n.length;u<f;++u)l=fa(o,t,n[u],e,this.boundHandleStyleImageChange_,a,s)||l;else l=fa(o,t,n,e,this.boundHandleStyleImageChange_,a,s);return l},r}(zi),Su=dd;var vd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),md=function(i){vd(r,i);function r(t){return i.call(this,t)||this}return r.prototype.createRenderer=function(){return new Su(this)},r}(ou),ca=md;var Iu=Xa(na(),1);var _d=function(){function i(r){this.rbush_=new Iu.default(r),this.items_={}}return i.prototype.insert=function(r,t){var e={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:t};this.rbush_.insert(e),this.items_[rt(t)]=e},i.prototype.load=function(r,t){for(var e=new Array(t.length),n=0,o=t.length;n<o;n++){var a=r[n],s=t[n],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};e[n]=l,this.items_[rt(s)]=l}this.rbush_.load(e)},i.prototype.remove=function(r){var t=rt(r),e=this.items_[t];return delete this.items_[t],this.rbush_.remove(e)!==null},i.prototype.update=function(r,t){var e=this.items_[rt(t)],n=[e.minX,e.minY,e.maxX,e.maxY];be(n,r)||(this.remove(t),this.insert(r,t))},i.prototype.getAll=function(){var r=this.rbush_.all();return r.map(function(t){return t.value})},i.prototype.getInExtent=function(r){var t={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]},e=this.rbush_.search(t);return e.map(function(n){return n.value})},i.prototype.forEach=function(r){return this.forEach_(this.getAll(),r)},i.prototype.forEachInExtent=function(r,t){return this.forEach_(this.getInExtent(r),t)},i.prototype.forEach_=function(r,t){for(var e,n=0,o=r.length;n<o;n++)if(e=t(r[n]),e)return e;return e},i.prototype.isEmpty=function(){return Ne(this.items_)},i.prototype.clear=function(){this.rbush_.clear(),this.items_={}},i.prototype.getExtent=function(r){var t=this.rbush_.toJSON();return Vt(t.minX,t.minY,t.maxX,t.maxY,r)},i.prototype.concat=function(r){this.rbush_.load(r.rbush_.all());for(var t in r.items_)this.items_[t]=r.items_[t]},i}(),ha=_d;var gd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),yd=function(i){gd(r,i);function r(t){var e=i.call(this)||this;e.projection=Ut(t.projection),e.attributions_=Ru(t.attributions),e.attributionsCollapsible_=t.attributionsCollapsible!==void 0?t.attributionsCollapsible:!0,e.loading=!1,e.state_=t.state!==void 0?t.state:ee.READY,e.wrapX_=t.wrapX!==void 0?t.wrapX:!1,e.interpolate_=!!t.interpolate,e.viewResolver=null,e.viewRejector=null;var n=e;return e.viewPromise_=new Promise(function(o,a){n.viewResolver=o,n.viewRejector=a}),e}return r.prototype.getAttributions=function(){return this.attributions_},r.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},r.prototype.getProjection=function(){return this.projection},r.prototype.getResolutions=function(){return tt()},r.prototype.getView=function(){return this.viewPromise_},r.prototype.getState=function(){return this.state_},r.prototype.getWrapX=function(){return this.wrapX_},r.prototype.getInterpolate=function(){return this.interpolate_},r.prototype.refresh=function(){this.changed()},r.prototype.setAttributions=function(t){this.attributions_=Ru(t),this.changed()},r.prototype.setState=function(t){this.state_=t,this.changed()},r}(It);function Ru(i){return i?Array.isArray(i)?function(r){return i}:typeof i=="function"?i:function(r){return[i]}:null}var Zi=yd;var se={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function Ou(i,r){return[[-1/0,-1/0,1/0,1/0]]}var an={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};var xd=!1;function Ed(i,r,t,e,n,o,a){var s=new XMLHttpRequest;s.open("GET",typeof i=="function"?i(t,e,n):i,!0),r.getType()==an.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=xd,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){var u=r.getType(),f=void 0;u==an.JSON||u==an.TEXT?f=s.responseText:u==an.XML?(f=s.responseXML,f||(f=new DOMParser().parseFromString(s.responseText,"application/xml"))):u==an.ARRAY_BUFFER&&(f=s.response),f?o(r.readFeatures(f,{extent:t,featureProjection:n}),r.readProjection(f)):a()}else a()},s.onerror=a,s.send()}function pa(i,r){return function(t,e,n,o,a){var s=this;Ed(i,r,t,e,n,function(l,u){s.addFeatures(l),o!==void 0&&o(l)},a||te)}}var Lu=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cr=function(i){Lu(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.feature=e,o.features=n,o}return r}(Pt);var Td=function(i){Lu(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{attributions:n.attributions,interpolate:!0,projection:void 0,state:ee.READY,wrapX:n.wrapX!==void 0?n.wrapX:!0})||this,e.on,e.once,e.un,e.loader_=te,e.format_=n.format,e.overlaps_=n.overlaps===void 0?!0:n.overlaps,e.url_=n.url,n.loader!==void 0?e.loader_=n.loader:e.url_!==void 0&&(B(e.format_,7),e.loader_=pa(e.url_,e.format_)),e.strategy_=n.strategy!==void 0?n.strategy:Ou;var o=n.useSpatialIndex!==void 0?n.useSpatialIndex:!0;e.featuresRtree_=o?new ha:null,e.loadedExtentsRtree_=new ha,e.loadingExtentsCount_=0,e.nullGeometryFeatures_={},e.idIndex_={},e.uidIndex_={},e.featureChangeKeys_={},e.featuresCollection_=null;var a,s;return Array.isArray(n.features)?s=n.features:n.features&&(a=n.features,s=a.getArray()),!o&&a===void 0&&(a=new Dt(s)),s!==void 0&&e.addFeaturesInternal(s),a!==void 0&&e.bindFeaturesCollection_(a),e}return r.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},r.prototype.addFeatureInternal=function(t){var e=rt(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var o=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new cr(se.ADDFEATURE,t))},r.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[nt(e,N.CHANGE,this.handleFeatureChange_,this),nt(e,fe.PROPERTYCHANGE,this.handleFeatureChange_,this)]},r.prototype.addToIndex_=function(t,e){var n=!0,o=e.getId();return o!==void 0&&(o.toString()in this.idIndex_?n=!1:this.idIndex_[o.toString()]=e),n&&(B(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},r.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},r.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],o=[],a=0,s=t.length;a<s;a++){var l=t[a],u=rt(l);this.addToIndex_(u,l)&&n.push(l)}for(var a=0,f=n.length;a<f;a++){var l=n[a],u=rt(l);this.setupChangeEvents_(u,l);var h=l.getGeometry();if(h){var c=h.getExtent();e.push(c),o.push(l)}else this.nullGeometryFeatures_[u]=l}if(this.featuresRtree_&&this.featuresRtree_.load(e,o),this.hasListener(se.ADDFEATURE))for(var a=0,p=n.length;a<p;a++)this.dispatchEvent(new cr(se.ADDFEATURE,n[a]))},r.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(se.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),this.addEventListener(se.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),t.addEventListener(Mt.ADD,function(n){e||(e=!0,this.addFeature(n.element),e=!1)}.bind(this)),t.addEventListener(Mt.REMOVE,function(n){e||(e=!0,this.removeFeature(n.element),e=!1)}.bind(this)),this.featuresCollection_=t},r.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var n=this.featureChangeKeys_[e];n.forEach(st)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=function(l){this.removeFeatureInternal(l)}.bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new cr(se.CLEAR);this.dispatchEvent(s),this.changed()},r.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},r.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(t))return e(o)})},r.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},r.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){var o=n.getGeometry();if(o.intersectsExtent(t)){var a=e(n);if(a)return a}})},r.prototype.getFeaturesCollection=function(){return this.featuresCollection_},r.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Ne(this.nullGeometryFeatures_)||gi(t,yi(this.nullGeometryFeatures_))),t},r.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(n){e.push(n)}),e},r.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},r.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],o=t[1],a=null,s=[NaN,NaN],l=1/0,u=[-1/0,-1/0,1/0,1/0],f=e||Ee;return this.featuresRtree_.forEachInExtent(u,function(h){if(f(h)){var c=h.getGeometry(),p=l;if(l=c.closestPointXY(n,o,s,l),l<p){a=h;var d=Math.sqrt(l);u[0]=n-d,u[1]=o-d,u[2]=n+d,u[3]=o+d}}}),a},r.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},r.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return e!==void 0?e:null},r.prototype.getFormat=function(){return this.format_},r.prototype.getOverlaps=function(){return this.overlaps_},r.prototype.getUrl=function(){return this.url_},r.prototype.handleFeatureChange_=function(t){var e=t.target,n=rt(e),o=e.getGeometry();if(!o)n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);else{var a=o.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(a,e)):this.featuresRtree_&&this.featuresRtree_.update(a,e)}var s=e.getId();if(s!==void 0){var l=s.toString();this.idIndex_[l]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[l]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new cr(se.CHANGEFEATURE,e))},r.prototype.hasFeature=function(t){var e=t.getId();return e!==void 0?e in this.idIndex_:rt(t)in this.uidIndex_},r.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Ne(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0},r.prototype.loadFeatures=function(t,e,n){for(var o=this.loadedExtentsRtree_,a=this.strategy_(t,e,n),s=function(h,c){var p=a[h],d=o.forEachInExtent(p,function(x){return Ge(x.extent,p)});d||(++l.loadingExtentsCount_,l.dispatchEvent(new cr(se.FEATURESLOADSTART)),l.loader_.call(l,p,e,n,function(x){--this.loadingExtentsCount_,this.dispatchEvent(new cr(se.FEATURESLOADEND,void 0,x))}.bind(l),function(){--this.loadingExtentsCount_,this.dispatchEvent(new cr(se.FEATURESLOADERROR))}.bind(l)),o.insert(p,{extent:p.slice()}))},l=this,u=0,f=a.length;u<f;++u)s(u,f);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},r.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),i.prototype.refresh.call(this)},r.prototype.removeLoadedExtent=function(t){var e=this.loadedExtentsRtree_,n;e.forEachInExtent(t,function(o){if(be(o.extent,t))return n=o,!0}),n&&e.remove(n)},r.prototype.removeFeature=function(t){if(!!t){var e=rt(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);var n=this.removeFeatureInternal(t);n&&this.changed()}},r.prototype.removeFeatureInternal=function(t){var e=rt(t),n=this.featureChangeKeys_[e];if(!!n){n.forEach(st),delete this.featureChangeKeys_[e];var o=t.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[e],this.dispatchEvent(new cr(se.REMOVEFEATURE,t)),t}},r.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},r.prototype.setLoader=function(t){this.loader_=t},r.prototype.setUrl=function(t){B(this.format_,7),this.url_=t,this.setLoader(pa(t,this.format_))},r}(Zi),da=Td;var Y={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function va(i){return Math.pow(i,3)}function le(i){return 1-va(1-i)}function Au(i){return 3*i*i-2*i*i*i}function Pu(i){return i}var Cd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wd=function(i){Cd(r,i);function r(t,e,n){var o=i.call(this)||this,a=n||{};return o.tileCoord=t,o.state=e,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return r.prototype.changed=function(){this.dispatchEvent(N.CHANGE)},r.prototype.release=function(){},r.prototype.getKey=function(){return this.key+"/"+this.tileCoord},r.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Y.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},r.prototype.refreshInterimChain=function(){if(!!this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Y.LOADED){t.interimTile=null;break}else t.getState()==Y.LOADING?e=t:t.getState()==Y.IDLE?e.interimTile=t.interimTile:e=t;t=e.interimTile}while(t)}},r.prototype.getTileCoord=function(){return this.tileCoord},r.prototype.getState=function(){return this.state},r.prototype.setState=function(t){if(this.state!==Y.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},r.prototype.load=function(){tt()},r.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(!n)n=e,this.transitionStarts_[t]=n;else if(n===-1)return 1;var o=e-n+1e3/60;return o>=this.transition_?1:va(o/this.transition_)},r.prototype.inTransition=function(t){return this.transition_?this.transitionStarts_[t]!==-1:!1},r.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},r}(ie),$i=wd;var Sd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Id=function(i){Sd(r,i);function r(t,e,n,o,a,s){var l=i.call(this,t,e,s)||this;return l.crossOrigin_=o,l.src_=n,l.key=n,l.image_=new Image,o!==null&&(l.image_.crossOrigin=o),l.unlisten_=null,l.tileLoadFunction_=a,l}return r.prototype.getImage=function(){return this.image_},r.prototype.setImage=function(t){this.image_=t,this.state=Y.LOADED,this.unlistenImage_(),this.changed()},r.prototype.handleImageError_=function(){this.state=Y.ERROR,this.unlistenImage_(),this.image_=Rd(),this.changed()},r.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Y.LOADED:this.state=Y.EMPTY,this.unlistenImage_(),this.changed()},r.prototype.load=function(){this.state==Y.ERROR&&(this.state=Y.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Y.IDLE&&(this.state=Y.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Xn(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},r.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},r}($i);function Rd(){var i=Ot(1,1);return i.fillStyle="rgba(0,0,0,0)",i.fillRect(0,0,1,1),i.canvas}var qi=Id;var Od=function(){function i(r,t,e){this.decay_=r,this.minVelocity_=t,this.delay_=e,this.points_=[],this.angle_=0,this.initialVelocity_=0}return i.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},i.prototype.update=function(r,t){this.points_.push(r,t,Date.now())},i.prototype.end=function(){if(this.points_.length<6)return!1;var r=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<r)return!1;for(var e=t-3;e>0&&this.points_[e+2]>r;)e-=3;var n=this.points_[t+2]-this.points_[e+2];if(n<16.666666666666668)return!1;var o=this.points_[t]-this.points_[e],a=this.points_[t+1]-this.points_[e+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/n,this.initialVelocity_>this.minVelocity_},i.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},i.prototype.getAngle=function(){return this.angle_},i}(),Mu=Od;var Ld=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ad=function(i){Ld(r,i);function r(t){var e=i.call(this)||this;return e.map_=t,e}return r.prototype.dispatchRenderEvent=function(t,e){tt()},r.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;Yt(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Ur(o,n)},r.prototype.forEachFeatureAtCoordinate=function(t,e,n,o,a,s,l,u){var f,h=e.viewState;function c(D,G,b,et){return a.call(s,G,D?b:null,et)}var p=h.projection,d=Mi(t.slice(),p),x=[[0,0]];if(p.canWrapX()&&o){var v=p.getExtent(),_=dt(v);x.push([-_,0],[_,0])}for(var g=e.layerStatesArray,y=g.length,E=[],C=[],w=0;w<x.length;w++)for(var I=y-1;I>=0;--I){var S=g[I],R=S.layer;if(R.hasRenderer()&&Rr(S,h)&&l.call(u,R)){var P=R.getRenderer(),L=R.getSource();if(P&&L){var F=L.getWrapX()?d:t,k=c.bind(null,S.managed);C[0]=F[0]+x[w][0],C[1]=F[1]+x[w][1],f=P.forEachFeatureAtCoordinate(C,e,n,k,E)}if(f)return f}}if(E.length!==0){var K=1/E.length;return E.forEach(function(D,G){return D.distanceSq+=G*K}),E.sort(function(D,G){return D.distanceSq-G.distanceSq}),E.some(function(D){return f=D.callback(D.feature,D.layer,D.geometry)}),f}},r.prototype.forEachLayerAtPixel=function(t,e,n,o,a){return tt()},r.prototype.hasFeatureAtCoordinate=function(t,e,n,o,a,s){var l=this.forEachFeatureAtCoordinate(t,e,n,o,Ee,this,a,s);return l!==void 0},r.prototype.getMap=function(){return this.map_},r.prototype.renderFrame=function(t){tt()},r.prototype.scheduleExpireIconCache=function(t){on.canExpireCache()&&t.postRenderFunctions.push(Pd)},r}(Gr);function Pd(i,r){on.expire()}var Fu=Ad;var Md=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fd=function(i){Md(r,i);function r(t){var e=i.call(this,t)||this;e.fontChangeListenerKey_=nt(Se,fe.PROPERTYCHANGE,t.redrawText.bind(t)),e.element_=document.createElement("div");var n=e.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",e.element_.className=sr+" ol-layers";var o=t.getViewport();return o.insertBefore(e.element_,o.firstChild||null),e.children_=[],e.renderedVisible_=!0,e}return r.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var o=new Xi(t,void 0,e);n.dispatchEvent(o)}},r.prototype.disposeInternal=function(){st(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),i.prototype.disposeInternal.call(this)},r.prototype.renderFrame=function(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(ve.PRECOMPOSE,t);var e=t.layerStatesArray.sort(function(p,d){return p.zIndex-d.zIndex}),n=t.viewState;this.children_.length=0;for(var o=[],a=null,s=0,l=e.length;s<l;++s){var u=e[s];t.layerIndex=s;var f=u.layer,h=f.getSourceState();if(!Rr(u,n)||h!=ee.READY&&h!=ee.UNDEFINED){f.unrender();continue}var c=f.render(t,a);!c||(c!==a&&(this.children_.push(c),a=c),"getDeclutter"in f&&o.push(f))}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(t);Xl(this.element_,this.children_),this.dispatchRenderEvent(ve.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)},r.prototype.forEachLayerAtPixel=function(t,e,n,o,a){for(var s=e.viewState,l=e.layerStatesArray,u=l.length,f=u-1;f>=0;--f){var h=l[f],c=h.layer;if(c.hasRenderer()&&Rr(h,s)&&a(c)){var p=c.getRenderer(),d=p.getDataAtPixel(t,e,n);if(d){var x=o(c,d);if(x)return x}}}},r}(Fu),Du=Fd;var ku=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),He=function(i){ku(r,i);function r(t,e){var n=i.call(this,t)||this;return n.layer=e,n}return r}(Pt);var ma={LAYERS:"layers"},Dd=function(i){ku(r,i);function r(t){var e=this,n=t||{},o=yt({},n);delete o.layers;var a=n.layers;return e=i.call(this,o)||this,e.on,e.once,e.un,e.layersListenerKeys_=[],e.listenerKeys_={},e.addChangeListener(ma.LAYERS,e.handleLayersChanged_),a?Array.isArray(a)?a=new Dt(a.slice(),{unique:!0}):B(typeof a.getArray=="function",43):a=new Dt(void 0,{unique:!0}),e.setLayers(a),e}return r.prototype.handleLayerChange_=function(){this.changed()},r.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(st),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(nt(t,Mt.ADD,this.handleLayersAdd_,this),nt(t,Mt.REMOVE,this.handleLayersRemove_,this));for(var e in this.listenerKeys_)this.listenerKeys_[e].forEach(st);Te(this.listenerKeys_);for(var n=t.getArray(),o=0,a=n.length;o<a;o++){var s=n[o];this.registerLayerListeners_(s),this.dispatchEvent(new He("addlayer",s))}this.changed()},r.prototype.registerLayerListeners_=function(t){var e=[nt(t,fe.PROPERTYCHANGE,this.handleLayerChange_,this),nt(t,N.CHANGE,this.handleLayerChange_,this)];t instanceof r&&e.push(nt(t,"addlayer",this.handleLayerGroupAdd_,this),nt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[rt(t)]=e},r.prototype.handleLayerGroupAdd_=function(t){this.dispatchEvent(new He("addlayer",t.layer))},r.prototype.handleLayerGroupRemove_=function(t){this.dispatchEvent(new He("removelayer",t.layer))},r.prototype.handleLayersAdd_=function(t){var e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new He("addlayer",e)),this.changed()},r.prototype.handleLayersRemove_=function(t){var e=t.element,n=rt(e);this.listenerKeys_[n].forEach(st),delete this.listenerKeys_[n],this.dispatchEvent(new He("removelayer",e)),this.changed()},r.prototype.getLayers=function(){return this.get(ma.LAYERS)},r.prototype.setLayers=function(t){var e=this.getLayers();if(e)for(var n=e.getArray(),o=0,a=n.length;o<a;++o)this.dispatchEvent(new He("removelayer",n[o]));this.set(ma.LAYERS,t)},r.prototype.getLayersArray=function(t){var e=t!==void 0?t:[];return this.getLayers().forEach(function(n){n.getLayersArray(e)}),e},r.prototype.getLayerStatesArray=function(t){var e=t!==void 0?t:[],n=e.length;this.getLayers().forEach(function(f){f.getLayerStatesArray(e)});var o=this.getLayerState(),a=o.zIndex;!t&&o.zIndex===void 0&&(a=0);for(var s=n,l=e.length;s<l;s++){var u=e[s];u.opacity*=o.opacity,u.visible=u.visible&&o.visible,u.maxResolution=Math.min(u.maxResolution,o.maxResolution),u.minResolution=Math.max(u.minResolution,o.minResolution),u.minZoom=Math.max(u.minZoom,o.minZoom),u.maxZoom=Math.min(u.maxZoom,o.maxZoom),o.extent!==void 0&&(u.extent!==void 0?u.extent=rr(u.extent,o.extent):u.extent=o.extent),u.zIndex===void 0&&(u.zIndex=a)}return e},r.prototype.getSourceState=function(){return ee.READY},r}(Bi),Zn=Dd;var kd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nd=function(i){kd(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.map=e,o.frameState=n!==void 0?n:null,o}return r}(Pt),sn=Nd;var Gd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bd=function(i){Gd(r,i);function r(t,e,n,o,a){var s=i.call(this,t,e,a)||this;return s.originalEvent=n,s.pixel_=null,s.coordinate_=null,s.dragging=o!==void 0?o:!1,s}return Object.defineProperty(r.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),r.prototype.preventDefault=function(){i.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){i.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},r}(sn),Ae=bd;var gt={SINGLECLICK:"singleclick",CLICK:N.CLICK,DBLCLICK:N.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var $n={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};var jd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Yd=function(i){jd(r,i);function r(t,e){var n=i.call(this,t)||this;n.map_=t,n.clickTimeoutId_,n.emulateClicks_=!1,n.dragging_=!1,n.dragListenerKeys_=[],n.moveTolerance_=e===void 0?1:e,n.down_=null;var o=n.map_.getViewport();return n.activePointers_=0,n.trackedTouches_={},n.element_=o,n.pointerdownListenerKey_=nt(o,$n.POINTERDOWN,n.handlePointerDown_,n),n.originalPointerMoveEvent_,n.relayedListenerKey_=nt(o,$n.POINTERMOVE,n.relayEvent_,n),n.boundHandleTouchMove_=n.handleTouchMove_.bind(n),n.element_.addEventListener(N.TOUCHMOVE,n.boundHandleTouchMove_,wi?{passive:!1}:!1),n}return r.prototype.emulateClick_=function(t){var e=new Ae(gt.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Ae(gt.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new Ae(gt.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},r.prototype.updateActivePointers_=function(t){var e=t;e.type==gt.POINTERUP||e.type==gt.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==gt.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},r.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Ae(gt.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(st),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},r.prototype.isMouseActionButton_=function(t){return t.button===0},r.prototype.handlePointerDown_=function(t){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(t);var e=new Ae(gt.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_={};for(var n in t){var o=t[n];this.down_[n]=typeof o=="function"?te:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(nt(a,gt.POINTERMOVE,this.handlePointerMove_,this),nt(a,gt.POINTERUP,this.handlePointerUp_,this),nt(this.element_,gt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(nt(this.element_.getRootNode(),gt.POINTERUP,this.handlePointerUp_,this))}},r.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Ae(gt.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},r.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new Ae(t.type,this.map_,t,e))},r.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()},r.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},r.prototype.disposeInternal=function(){this.relayedListenerKey_&&(st(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(N.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(st(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(st),this.dragListenerKeys_.length=0,this.element_=null,i.prototype.disposeInternal.call(this)},r}(ie),Nu=Yd;var ln={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};var Nt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};var qn=1/0,Ud=function(){function i(r,t){this.priorityFunction_=r,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return i.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Te(this.queuedElements_)},i.prototype.dequeue=function(){var r=this.elements_,t=this.priorities_,e=r[0];r.length==1?(r.length=0,t.length=0):(r[0]=r.pop(),t[0]=t.pop(),this.siftUp_(0));var n=this.keyFunction_(e);return delete this.queuedElements_[n],e},i.prototype.enqueue=function(r){B(!(this.keyFunction_(r)in this.queuedElements_),31);var t=this.priorityFunction_(r);return t!=qn?(this.elements_.push(r),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(r)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},i.prototype.getCount=function(){return this.elements_.length},i.prototype.getLeftChildIndex_=function(r){return r*2+1},i.prototype.getRightChildIndex_=function(r){return r*2+2},i.prototype.getParentIndex_=function(r){return r-1>>1},i.prototype.heapify_=function(){var r;for(r=(this.elements_.length>>1)-1;r>=0;r--)this.siftUp_(r)},i.prototype.isEmpty=function(){return this.elements_.length===0},i.prototype.isKeyQueued=function(r){return r in this.queuedElements_},i.prototype.isQueued=function(r){return this.isKeyQueued(this.keyFunction_(r))},i.prototype.siftUp_=function(r){for(var t=this.elements_,e=this.priorities_,n=t.length,o=t[r],a=e[r],s=r;r<n>>1;){var l=this.getLeftChildIndex_(r),u=this.getRightChildIndex_(r),f=u<n&&e[u]<e[l]?u:l;t[r]=t[f],e[r]=e[f],r=f}t[r]=o,e[r]=a,this.siftDown_(s,r)},i.prototype.siftDown_=function(r,t){for(var e=this.elements_,n=this.priorities_,o=e[t],a=n[t];t>r;){var s=this.getParentIndex_(t);if(n[s]>a)e[t]=e[s],n[t]=n[s],t=s;else break}e[t]=o,n[t]=a},i.prototype.reprioritize=function(){var r=this.priorityFunction_,t=this.elements_,e=this.priorities_,n=0,o=t.length,a,s,l;for(s=0;s<o;++s)a=t[s],l=r(a),l==qn?delete this.queuedElements_[this.keyFunction_(a)]:(e[n]=l,t[n++]=a);t.length=n,e.length=n,this.heapify_()},i}(),Gu=Ud;var Bd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kd=function(i){Bd(r,i);function r(t,e){var n=i.call(this,function(o){return t.apply(null,o)},function(o){return o[0].getKey()})||this;return n.boundHandleTileChange_=n.handleTileChange.bind(n),n.tileChangeCallback_=e,n.tilesLoading_=0,n.tilesLoadingKeys_={},n}return r.prototype.enqueue=function(t){var e=i.prototype.enqueue.call(this,t);if(e){var n=t[0];n.addEventListener(N.CHANGE,this.boundHandleTileChange_)}return e},r.prototype.getTilesLoading=function(){return this.tilesLoading_},r.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===Y.LOADED||n===Y.ERROR||n===Y.EMPTY){e.removeEventListener(N.CHANGE,this.boundHandleTileChange_);var o=e.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},r.prototype.loadMoreTiles=function(t,e){for(var n=0,o,a,s;this.tilesLoading_<t&&n<e&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===Y.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++n,a.load())},r}(Gu),bu=Kd;function ju(i,r,t,e,n){if(!i||!(t in i.wantedTiles))return qn;if(!i.wantedTiles[t][r.getKey()])return qn;var o=i.viewState.center,a=e[0]-o[0],s=e[1]-o[1];return 65536*Math.log(n)+Math.sqrt(a*a+s*s)/n}var ue={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};var Yu=42,un=256;function _a(i,r,t){return function(e,n,o,a,s){if(!!e){if(!n&&!r)return e;var l=r?0:o[0]*n,u=r?0:o[1]*n,f=s?s[0]:0,h=s?s[1]:0,c=i[0]+l/2+f,p=i[2]-l/2+f,d=i[1]+u/2+h,x=i[3]-u/2+h;c>p&&(c=(p+c)/2,p=c),d>x&&(d=(x+d)/2,x=d);var v=_t(e[0],c,p),_=_t(e[1],d,x);if(a&&t&&n){var g=30*n;v+=-g*Math.log(1+Math.max(0,c-e[0])/g)+g*Math.log(1+Math.max(0,e[0]-p)/g),_+=-g*Math.log(1+Math.max(0,d-e[1])/g)+g*Math.log(1+Math.max(0,e[1]-x)/g)}return[v,_]}}}function Uu(i){return i}function ga(i,r,t,e){var n=dt(r)/t[0],o=kt(r)/t[1];return e?Math.min(i,Math.max(n,o)):Math.min(i,Math.min(n,o))}function ya(i,r,t){var e=Math.min(i,r),n=50;return e*=Math.log(1+n*Math.max(0,i/r-1))/n+1,t&&(e=Math.max(e,t),e/=Math.log(1+n*Math.max(0,t/i-1))/n+1),_t(e,t/2,r*2)}function Bu(i,r,t,e){return function(n,o,a,s){if(n!==void 0){var l=i[0],u=i[i.length-1],f=t?ga(l,t,a,e):l;if(s){var h=r!==void 0?r:!0;return h?ya(n,f,u):_t(n,u,f)}var c=Math.min(f,n),p=Math.floor(br(i,c,o));return i[p]>f&&p<i.length-1?i[p+1]:i[p]}else return}}function Ku(i,r,t,e,n,o){return function(a,s,l,u){if(a!==void 0){var f=n?ga(r,n,l,o):r,h=t!==void 0?t:0;if(u){var c=e!==void 0?e:!0;return c?ya(a,f,h):_t(a,h,f)}var p=1e-9,d=Math.ceil(Math.log(r/f)/Math.log(i)-p),x=-s*(.5-p)+.5,v=Math.min(f,a),_=Math.floor(Math.log(r/v)/Math.log(i)+x),g=Math.max(d,_),y=r/Math.pow(i,g);return _t(y,h,f)}else return}}function xa(i,r,t,e,n){return function(o,a,s,l){if(o!==void 0){var u=e?ga(i,e,s,n):i,f=t!==void 0?t:!0;return!f||!l?_t(o,r,u):ya(o,u,r)}else return}}function fn(i){if(i!==void 0)return 0}function Ea(i){if(i!==void 0)return i}function Xu(i){var r=2*Math.PI/i;return function(t,e){if(e)return t;if(t!==void 0)return t=Math.floor(t/r+.5)*r,t}}function zu(i){var r=i||Zr(5);return function(t,e){if(e)return t;if(t!==void 0)return Math.abs(t)<=r?0:t}}var Xd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ta=0,zd=function(i){Xd(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=yt({},t);return e.hints_=[0,0],e.animations_=[],e.updateAnimationKey_,e.projection_=Fi(n.projection,"EPSG:3857"),e.viewportSize_=[100,100],e.targetCenter_=null,e.targetResolution_,e.targetRotation_,e.nextCenter_=null,e.nextResolution_,e.nextRotation_,e.cancelAnchor_=void 0,n.center&&(n.center=pe(n.center,e.projection_)),n.extent&&(n.extent=de(n.extent,e.projection_)),n.projection&&Fo(),e.applyOptions_(n),e}return r.prototype.applyOptions_=function(t){var e=yt({},t);for(var n in ue)delete e[n];this.setProperties(e,!0);var o=Zd(t);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=o.minZoom;var a=Wd(t),s=o.constraint,l=$d(t);this.constraints_={center:a,resolution:s,rotation:l},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)},Object.defineProperty(r.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var o=t||[0,0,0,0];e=e||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-e[3]+e[1]-o[1]),l=a/2*(o[0]-e[0]+e[2]-o[2]);this.setCenterInternal([n[0]+s,n[1]-l])}},enumerable:!1,configurable:!0}),r.prototype.getUpdatedOptions_=function(t){var e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),yt({},e,t)},r.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var o=arguments[n];o.center&&(o=yt({},o),o.center=pe(o.center,this.getProjection())),o.anchor&&(o=yt({},o),o.anchor=pe(o.anchor,this.getProjection())),e[n]=o}this.animateInternal.apply(this,e)},r.prototype.animateInternal=function(t){var e=arguments.length,n;e>1&&typeof arguments[e-1]=="function"&&(n=arguments[e-1],--e);for(var o=0;o<e&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===e){n&&Vi(n,!0);return}for(var s=Date.now(),l=this.targetCenter_.slice(),u=this.targetResolution_,f=this.targetRotation_,h=[];o<e;++o){var c=arguments[o],p={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||Au,callback:n};if(c.center&&(p.sourceCenter=l,p.targetCenter=c.center.slice(),l=p.targetCenter),c.zoom!==void 0?(p.sourceResolution=u,p.targetResolution=this.getResolutionForZoom(c.zoom),u=p.targetResolution):c.resolution&&(p.sourceResolution=u,p.targetResolution=c.resolution,u=p.targetResolution),c.rotation!==void 0){p.sourceRotation=f;var d=Ye(c.rotation-f+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=f+d,f=p.targetRotation}qd(p)?p.complete=!0:s+=p.duration,h.push(p)}this.animations_.push(h),this.setHint(At.ANIMATING,1),this.updateAnimations_()},r.prototype.getAnimating=function(){return this.hints_[At.ANIMATING]>0},r.prototype.getInteracting=function(){return this.hints_[At.INTERACTING]>0},r.prototype.cancelAnimations=function(){this.setHint(At.ANIMATING,-this.hints_[At.ANIMATING]);for(var t,e=0,n=this.animations_.length;e<n;++e){var o=this.animations_[e];if(o[0].callback&&Vi(o[0].callback,!1),!t)for(var a=0,s=o.length;a<s;++a){var l=o[a];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},r.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var o=this.animations_[n],a=!0,s=0,l=o.length;s<l;++s){var u=o[s];if(!u.complete){var f=t-u.start,h=u.duration>0?f/u.duration:1;h>=1?(u.complete=!0,h=1):a=!1;var c=u.easing(h);if(u.sourceCenter){var p=u.sourceCenter[0],d=u.sourceCenter[1],x=u.targetCenter[0],v=u.targetCenter[1];this.nextCenter_=u.targetCenter;var _=p+c*(x-p),g=d+c*(v-d);this.targetCenter_=[_,g]}if(u.sourceResolution&&u.targetResolution){var y=c===1?u.targetResolution:u.sourceResolution+c*(u.targetResolution-u.sourceResolution);if(u.anchor){var E=this.getViewportSize_(this.getRotation()),C=this.constraints_.resolution(y,0,E,!0);this.targetCenter_=this.calculateCenterZoom(C,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){var w=c===1?Ye(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+c*(u.targetRotation-u.sourceRotation);if(u.anchor){var I=this.constraints_.rotation(w,!0);this.targetCenter_=this.calculateCenterRotate(I,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=w}if(this.applyTargetState_(!0),e=!0,!u.complete)break}}if(a){this.animations_[n]=null,this.setHint(At.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var S=o[0].callback;S&&Vi(S,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},r.prototype.calculateCenterRotate=function(t,e){var n,o=this.getCenterInternal();return o!==void 0&&(n=[o[0]-e[0],o[1]-e[1]],Hr(n,t-this.getRotation()),sl(n,e)),n},r.prototype.calculateCenterZoom=function(t,e){var n,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=e[0]-t*(e[0]-o[0])/a,l=e[1]-t*(e[1]-o[1])/a;n=[s,l]}return n},r.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],o=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(o*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(o*Math.cos(t))]}else return e},r.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},r.prototype.getCenter=function(){var t=this.getCenterInternal();return t&&Nn(t,this.getProjection())},r.prototype.getCenterInternal=function(){return this.get(ue.CENTER)},r.prototype.getConstraints=function(){return this.constraints_},r.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},r.prototype.getHints=function(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},r.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return Jr(e,this.getProjection())},r.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();B(n,1);var o=this.getResolution();B(o!==void 0,2);var a=this.getRotation();return B(a!==void 0,3),On(n,o,a,e)},r.prototype.getMaxResolution=function(){return this.maxResolution_},r.prototype.getMinResolution=function(){return this.minResolution_},r.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},r.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},r.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},r.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},r.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},r.prototype.getProjection=function(){return this.projection_},r.prototype.getResolution=function(){return this.get(ue.RESOLUTION)},r.prototype.getResolutions=function(){return this.resolutions_},r.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(de(t,this.getProjection()),e)},r.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),o=dt(t)/n[0],a=kt(t)/n[1];return Math.max(o,a)},r.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(n/o)/Math.log(e);return function(s){var l=n/Math.pow(e,s*a);return l}},r.prototype.getRotation=function(){return this.get(ue.ROTATION)},r.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(n/o)/e;return function(s){var l=Math.log(n/s)/e/a;return l}},r.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},r.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=Ca(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],e,n)}return{center:o.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}},r.prototype.getZoom=function(){var t,e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t},r.prototype.getZoomForResolution=function(t){var e=this.minZoom_||0,n,o;if(this.resolutions_){var a=br(this.resolutions_,t,1);e=a,n=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=n/this.resolutions_[a+1]}else n=this.maxResolution_,o=this.zoomFactor_;return e+Math.log(n/t)/Math.log(o)},r.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=_t(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,_t(t-e,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},r.prototype.fit=function(t,e){var n;if(B(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function",24),Array.isArray(t)){B(!Ln(t),25);var o=de(t,this.getProjection());n=Xo(o)}else if(t.getType()===q.CIRCLE){var o=de(t.getExtent(),this.getProjection());n=Xo(o),n.rotate(this.getRotation(),we(o))}else{var a=Di();a?n=t.clone().transform(a,this.getProjection()):n=t}this.fitInternal(n,e)},r.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),o=Math.sin(-e),a=t.getFlatCoordinates(),s=t.getStride(),l=1/0,u=1/0,f=-1/0,h=-1/0,c=0,p=a.length;c<p;c+=s){var d=a[c]*n-a[c+1]*o,x=a[c]*o+a[c+1]*n;l=Math.min(l,d),u=Math.min(u,x),f=Math.max(f,d),h=Math.max(h,x)}return[l,u,f,h]},r.prototype.fitInternal=function(t,e){var n=e||{},o=n.size;o||(o=this.getViewportSizeMinusPadding_());var a=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1,l;n.minResolution!==void 0?l=n.minResolution:n.maxZoom!==void 0?l=this.getResolutionForZoom(n.maxZoom):l=0;var u=this.rotatedExtentForGeometry(t),f=this.getResolutionForExtentInternal(u,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);f=isNaN(f)?l:Math.max(f,l),f=this.getConstrainedResolution(f,s?0:1);var h=this.getRotation(),c=Math.sin(h),p=Math.cos(h),d=we(u);d[0]+=(a[1]-a[3])/2*f,d[1]+=(a[0]-a[2])/2*f;var x=d[0]*p-d[1]*c,v=d[1]*p+d[0]*c,_=this.getConstrainedCenter([x,v],f),g=n.callback?n.callback:te;n.duration!==void 0?this.animateInternal({resolution:f,center:_,duration:n.duration,easing:n.easing},g):(this.targetResolution_=f,this.targetCenter_=_,this.applyTargetState_(!1,!0),Vi(g,!0))},r.prototype.centerOn=function(t,e,n){this.centerOnInternal(pe(t,this.getProjection()),e,n)},r.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Ca(t,e,n,this.getResolution(),this.getRotation()))},r.prototype.calculateCenterShift=function(t,e,n,o){var a,s=this.padding_;if(s&&t){var l=this.getViewportSizeMinusPadding_(-n),u=Ca(t,o,[l[0]/2+s[3],l[1]/2+s[0]],e,n);a=[t[0]-u[0],t[1]-u[1]]}return a},r.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},r.prototype.adjustCenter=function(t){var e=Nn(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},r.prototype.adjustResolution=function(t,e){var n=e&&pe(e,this.getProjection());this.adjustResolutionInternal(t,n)},r.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*t,0,o,n);e&&(this.targetCenter_=this.calculateCenterZoom(a,e)),this.targetResolution_*=t,this.applyTargetState_()},r.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},r.prototype.adjustRotation=function(t,e){e&&(e=pe(e,this.getProjection())),this.adjustRotationInternal(t,e)},r.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(o,e)),this.targetRotation_+=t,this.applyTargetState_()},r.prototype.setCenter=function(t){this.setCenterInternal(t&&pe(t,this.getProjection()))},r.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},r.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},r.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},r.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},r.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},r.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,o=this.constraints_.rotation(this.targetRotation_,n),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,n),l=this.constraints_.center(this.targetCenter_,s,a,n,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(ue.ROTATION)!==o&&this.set(ue.ROTATION,o),this.get(ue.RESOLUTION)!==s&&(this.set(ue.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(ue.CENTER)||!Tr(this.get(ue.CENTER),l))&&this.set(ue.CENTER,l),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},r.prototype.resolveConstraints=function(t,e,n){var o=t!==void 0?t:200,a=e||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),u=this.constraints_.resolution(this.targetResolution_,a,l),f=this.constraints_.center(this.targetCenter_,u,l,!1,this.calculateCenterShift(this.targetCenter_,u,s,l));if(o===0&&!this.cancelAnchor_){this.targetResolution_=u,this.targetRotation_=s,this.targetCenter_=f,this.applyTargetState_();return}var h=n||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==s||!this.getCenterInternal()||!Tr(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:f,resolution:u,duration:o,easing:le,anchor:h}))},r.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(At.INTERACTING,1)},r.prototype.endInteraction=function(t,e,n){var o=n&&pe(n,this.getProjection());this.endInteractionInternal(t,e,o)},r.prototype.endInteractionInternal=function(t,e,n){this.setHint(At.INTERACTING,-1),this.resolveConstraints(t,e,n)},r.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},r.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},r.prototype.getConstrainedResolution=function(t,e){var n=e||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,o)},r}(It);function Vi(i,r){setTimeout(function(){i(r)},0)}function Wd(i){if(i.extent!==void 0){var r=i.smoothExtentConstraint!==void 0?i.smoothExtentConstraint:!0;return _a(i.extent,i.constrainOnlyCenter,r)}var t=Fi(i.projection,"EPSG:3857");if(i.multiWorld!==!0&&t.isGlobal()){var e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,_a(e,!1,!1)}return Uu}function Zd(i){var r,t,e,n=28,o=2,a=i.minZoom!==void 0?i.minZoom:Ta,s=i.maxZoom!==void 0?i.maxZoom:n,l=i.zoomFactor!==void 0?i.zoomFactor:o,u=i.multiWorld!==void 0?i.multiWorld:!1,f=i.smoothResolutionConstraint!==void 0?i.smoothResolutionConstraint:!0,h=i.showFullExtent!==void 0?i.showFullExtent:!1,c=Fi(i.projection,"EPSG:3857"),p=c.getExtent(),d=i.constrainOnlyCenter,x=i.extent;if(!u&&!x&&c.isGlobal()&&(d=!1,x=p),i.resolutions!==void 0){var v=i.resolutions;t=v[a],e=v[s]!==void 0?v[s]:v[v.length-1],i.constrainResolution?r=Bu(v,f,!d&&x,h):r=xa(t,e,f,!d&&x,h)}else{var _=p?Math.max(dt(p),kt(p)):360*bt[qt.DEGREES]/c.getMetersPerUnit(),g=_/un/Math.pow(o,Ta),y=g/Math.pow(o,n-Ta);t=i.maxResolution,t!==void 0?a=0:t=g/Math.pow(l,a),e=i.minResolution,e===void 0&&(i.maxZoom!==void 0?i.maxResolution!==void 0?e=t/Math.pow(l,s):e=g/Math.pow(l,s):e=y),s=a+Math.floor(Math.log(t/e)/Math.log(l)),e=t/Math.pow(l,s-a),i.constrainResolution?r=Ku(l,t,e,f,!d&&x,h):r=xa(t,e,f,!d&&x,h)}return{constraint:r,maxResolution:t,minResolution:e,minZoom:a,zoomFactor:l}}function $d(i){var r=i.enableRotation!==void 0?i.enableRotation:!0;if(r){var t=i.constrainRotation;return t===void 0||t===!0?zu():t===!1?Ea:typeof t=="number"?Xu(t):Ea}else return fn}function qd(i){return!(i.sourceCenter&&i.targetCenter&&!Tr(i.sourceCenter,i.targetCenter)||i.sourceResolution!==i.targetResolution||i.sourceRotation!==i.targetRotation)}function Ca(i,r,t,e,n){var o=Math.cos(-n),a=Math.sin(-n),s=i[0]*o-i[1]*a,l=i[1]*o+i[0]*a;s+=(r[0]/2-t[0])*e,l+=(t[1]-r[1]/2)*e,a=-a;var u=s*o-l*a,f=l*o+s*a;return[u,f]}var _e=zd;var Vd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function Wu(i){if(i instanceof Or){i.setMapInternal(null);return}i instanceof Zn&&i.getLayers().forEach(Wu)}function Zu(i,r){if(i instanceof Or){i.setMapInternal(r);return}if(i instanceof Zn)for(var t=i.getLayers().getArray(),e=0,n=t.length;e<n;++e)Zu(t[e],r)}var Hd=function(i){Vd(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=Jd(t);e.renderComplete_,e.boundHandleBrowserEvent_=e.handleBrowserEvent.bind(e),e.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,e.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:Ci,e.postRenderTimeoutHandle_,e.animationDelayKey_,e.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(e),e.coordinateToPixelTransform_=jt(),e.pixelToCoordinateTransform_=jt(),e.frameIndex_=0,e.frameState_=null,e.previousExtent_=null,e.viewPropertyListenerKey_=null,e.viewChangeListenerKey_=null,e.layerGroupPropertyListenerKeys_=null,e.viewport_=document.createElement("div"),e.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),e.viewport_.style.position="relative",e.viewport_.style.overflow="hidden",e.viewport_.style.width="100%",e.viewport_.style.height="100%",e.overlayContainer_=document.createElement("div"),e.overlayContainer_.style.position="absolute",e.overlayContainer_.style.zIndex="0",e.overlayContainer_.style.width="100%",e.overlayContainer_.style.height="100%",e.overlayContainer_.style.pointerEvents="none",e.overlayContainer_.className="ol-overlaycontainer",e.viewport_.appendChild(e.overlayContainer_),e.overlayContainerStopEvent_=document.createElement("div"),e.overlayContainerStopEvent_.style.position="absolute",e.overlayContainerStopEvent_.style.zIndex="0",e.overlayContainerStopEvent_.style.width="100%",e.overlayContainerStopEvent_.style.height="100%",e.overlayContainerStopEvent_.style.pointerEvents="none",e.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",e.viewport_.appendChild(e.overlayContainerStopEvent_),e.mapBrowserEventHandler_=null,e.moveTolerance_=t.moveTolerance,e.keyboardEventTarget_=n.keyboardEventTarget,e.targetChangeHandlerKeys_=null,e.controls=n.controls||new Dt,e.interactions=n.interactions||new Dt,e.overlays_=n.overlays,e.overlayIdIndex_={},e.renderer_=null,e.postRenderFunctions_=[],e.tileQueue_=new bu(e.getTilePriority.bind(e),e.handleTileChange_.bind(e)),e.addChangeListener(Nt.LAYERGROUP,e.handleLayerGroupChanged_),e.addChangeListener(Nt.VIEW,e.handleViewChanged_),e.addChangeListener(Nt.SIZE,e.handleSizeChanged_),e.addChangeListener(Nt.TARGET,e.handleTargetChanged_),e.setProperties(n.values);var o=e;return t.view&&!(t.view instanceof _e)&&t.view.then(function(a){o.setView(new _e(a))}),e.controls.addEventListener(Mt.ADD,function(a){a.element.setMap(this)}.bind(e)),e.controls.addEventListener(Mt.REMOVE,function(a){a.element.setMap(null)}.bind(e)),e.interactions.addEventListener(Mt.ADD,function(a){a.element.setMap(this)}.bind(e)),e.interactions.addEventListener(Mt.REMOVE,function(a){a.element.setMap(null)}.bind(e)),e.overlays_.addEventListener(Mt.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(e)),e.overlays_.addEventListener(Mt.REMOVE,function(a){var s=a.element,l=s.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],a.element.setMap(null)}.bind(e)),e.controls.forEach(function(a){a.setMap(this)}.bind(e)),e.interactions.forEach(function(a){a.setMap(this)}.bind(e)),e.overlays_.forEach(e.addOverlayInternal_.bind(e)),e}return r.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},r.prototype.addControl=function(t){this.getControls().push(t)},r.prototype.addInteraction=function(t){this.getInteractions().push(t)},r.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},r.prototype.handleLayerAdd_=function(t){Zu(t.layer,this)},r.prototype.addOverlay=function(t){this.getOverlays().push(t)},r.prototype.addOverlayInternal_=function(t){var e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},r.prototype.disposeInternal=function(){this.setTarget(null),i.prototype.disposeInternal.call(this)},r.prototype.forEachFeatureAtPixel=function(t,e,n){if(!!this.frameState_){var o=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};var a=n.hitTolerance!==void 0?n.hitTolerance:0,s=n.layerFilter!==void 0?n.layerFilter:Ee,l=n.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,l,e,null,s,null)}},r.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,function(o){n.push(o)},e),n},r.prototype.getAllLayers=function(){var t=[];function e(n){n.forEach(function(o){o instanceof Zn?e(o.getLayers()):t.push(o)})}return e(this.getLayers()),t},r.prototype.forEachLayerAtPixel=function(t,e,n){if(!!this.frameState_){var o=n||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||Ee;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,a,e,s)}},r.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};var o=e.layerFilter!==void 0?e.layerFilter:Ee,a=e.hitTolerance!==void 0?e.hitTolerance:0,s=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,a,s,o,null)},r.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},r.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},r.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},r.prototype.getTarget=function(){return this.get(Nt.TARGET)},r.prototype.getTargetElement=function(){var t=this.getTarget();return t!==void 0?typeof t=="string"?document.getElementById(t):t:null},r.prototype.getCoordinateFromPixel=function(t){return Nn(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},r.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?Tt(e.pixelToCoordinateTransform,t.slice()):null},r.prototype.getControls=function(){return this.controls},r.prototype.getOverlays=function(){return this.overlays_},r.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null},r.prototype.getInteractions=function(){return this.interactions},r.prototype.getLayerGroup=function(){return this.get(Nt.LAYERGROUP)},r.prototype.setLayers=function(t){var e=this.getLayerGroup();if(t instanceof Dt){e.setLayers(t);return}var n=e.getLayers();n.clear(),n.extend(t)},r.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},r.prototype.getLoadingOrNotReady=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer;if(!o.getRenderer().ready)return!0;var a=o.getSource();if(a&&a.loading)return!0}return!1},r.prototype.getPixelFromCoordinate=function(t){var e=pe(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},r.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?Tt(e.coordinateToPixelTransform,t.slice(0,2)):null},r.prototype.getRenderer=function(){return this.renderer_},r.prototype.getSize=function(){return this.get(Nt.SIZE)},r.prototype.getView=function(){return this.get(Nt.VIEW)},r.prototype.getViewport=function(){return this.viewport_},r.prototype.getOverlayContainer=function(){return this.overlayContainer_},r.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},r.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},r.prototype.getTilePriority=function(t,e,n,o){return ju(this.frameState_,t,e,n,o)},r.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,o=new Ae(n,this,t);this.handleMapBrowserEvent(o)},r.prototype.handleMapBrowserEvent=function(t){if(!!this.frameState_){var e=t.originalEvent,n=e.type;if(n===$n.POINTERDOWN||n===N.WHEEL||n===N.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=e.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1)for(var l=this.getInteractions().getArray().slice(),u=l.length-1;u>=0;u--){var f=l[u];if(!(f.getMap()!==this||!f.getActive()||!this.getTargetElement())){var h=f.handleEvent(t);if(!h||t.propagationStopped)break}}}},r.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,o=n;if(t){var a=t.viewHints;if(a[At.ANIMATING]||a[At.INTERACTING]){var s=Date.now()-t.time>8;n=s?0:8,o=s?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,o))}t&&this.hasListener(ve.RENDERCOMPLETE)&&!t.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(ve.RENDERCOMPLETE,t);for(var l=this.postRenderFunctions_,u=0,f=l.length;u<f;++u)l[u](this,t);l.length=0},r.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},r.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var t=0,e=this.targetChangeHandlerKeys_.length;t<e;++t)st(this.targetChangeHandlerKeys_[t]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(N.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(N.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,bn(this.viewport_)}var n=this.getTargetElement();if(!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Nu(this,this.moveTolerance_);for(var o in gt)this.mapBrowserEventHandler_.addEventListener(gt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(N.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(N.WHEEL,this.boundHandleBrowserEvent_,wi?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[nt(s,N.KEYDOWN,this.handleBrowserEvent,this),nt(s,N.KEYPRESS,this.handleBrowserEvent,this),nt(a,N.RESIZE,this.updateSize,this)]}this.updateSize()},r.prototype.handleTileChange_=function(){this.render()},r.prototype.handleViewPropertyChanged_=function(){this.render()},r.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(st(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(st(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=nt(t,fe.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=nt(t,N.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},r.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(st),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new He("addlayer",t)),this.layerGroupPropertyListenerKeys_=[nt(t,fe.PROPERTYCHANGE,this.render,this),nt(t,N.CHANGE,this.render,this),nt(t,"addlayer",this.handleLayerAdd_,this),nt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()},r.prototype.isRendered=function(){return!!this.frameState_},r.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},r.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var o=t[e].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},r.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},r.prototype.removeControl=function(t){return this.getControls().remove(t)},r.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},r.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},r.prototype.handleLayerRemove_=function(t){Wu(t.layer)},r.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},r.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(n!==void 0&&zo(n)&&o&&o.isDef()){var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:On(u.center,u.resolution,u.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{},mapId:rt(this),renderTargets:{}},u.nextCenter&&u.nextResolution){var f=isNaN(u.nextRotation)?u.rotation:u.nextRotation;s.nextExtent=On(u.nextCenter,u.nextResolution,f,n)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var h=!this.previousExtent_||!Ln(this.previousExtent_)&&!be(s.extent,this.previousExtent_);h&&(this.dispatchEvent(new sn(ln.MOVESTART,this,a)),this.previousExtent_=Kr(this.previousExtent_))}var c=this.previousExtent_&&!s.viewHints[At.ANIMATING]&&!s.viewHints[At.INTERACTING]&&!be(s.extent,this.previousExtent_);c&&(this.dispatchEvent(new sn(ln.MOVEEND,this,s)),Ri(s.extent,this.previousExtent_))}this.dispatchEvent(new sn(ln.POSTRENDER,this,s)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()},0))},r.prototype.setLayerGroup=function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new He("removelayer",e)),this.set(Nt.LAYERGROUP,t)},r.prototype.setSize=function(t){this.set(Nt.SIZE,t)},r.prototype.setTarget=function(t){this.set(Nt.TARGET,t)},r.prototype.setView=function(t){if(!t||t instanceof _e){this.set(Nt.VIEW,t);return}this.set(Nt.VIEW,new _e);var e=this;t.then(function(n){e.setView(new _e(n))})},r.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),o=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),a=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(e=[o,a],!zo(e)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},r.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},r}(It);function Jd(i){var r=null;i.keyboardEventTarget!==void 0&&(r=typeof i.keyboardEventTarget=="string"?document.getElementById(i.keyboardEventTarget):i.keyboardEventTarget);var t={},e=i.layers&&typeof i.layers.getLayers=="function"?i.layers:new Zn({layers:i.layers});t[Nt.LAYERGROUP]=e,t[Nt.TARGET]=i.target,t[Nt.VIEW]=i.view instanceof _e?i.view:new _e;var n;i.controls!==void 0&&(Array.isArray(i.controls)?n=new Dt(i.controls.slice()):(B(typeof i.controls.getArray=="function",47),n=i.controls));var o;i.interactions!==void 0&&(Array.isArray(i.interactions)?o=new Dt(i.interactions.slice()):(B(typeof i.interactions.getArray=="function",48),o=i.interactions));var a;return i.overlays!==void 0?Array.isArray(i.overlays)?a=new Dt(i.overlays.slice()):(B(typeof i.overlays.getArray=="function",49),a=i.overlays):a=new Dt,{controls:n,interactions:o,keyboardEventTarget:r,overlays:a,values:t}}var $u=Hd;var Qd=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tv=function(i){Qd(r,i);function r(t){var e=i.call(this)||this,n=t.element;return n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),e.element=n||null,e.target_=null,e.map_=null,e.listenerKeys=[],t.render&&(e.render=t.render),t.target&&e.setTarget(t.target),e}return r.prototype.disposeInternal=function(){bn(this.element),i.prototype.disposeInternal.call(this)},r.prototype.getMap=function(){return this.map_},r.prototype.setMap=function(t){this.map_&&bn(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)st(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,t){var o=this.target_?this.target_:t.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==te&&this.listenerKeys.push(nt(t,ln.POSTRENDER,this.render,this)),t.render()}},r.prototype.render=function(t){},r.prototype.setTarget=function(t){this.target_=typeof t=="string"?document.getElementById(t):t},r}(It),cn=tv;var ev=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rv=function(i){ev(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this,e.ulElement_=document.createElement("ul"),e.collapsed_=n.collapsed!==void 0?n.collapsed:!0,e.userCollapsed_=e.collapsed_,e.overrideCollapsible_=n.collapsible!==void 0,e.collapsible_=n.collapsible!==void 0?n.collapsible:!0,e.collapsible_||(e.collapsed_=!1);var o=n.className!==void 0?n.className:"ol-attribution",a=n.tipLabel!==void 0?n.tipLabel:"Attributions",s=n.expandClassName!==void 0?n.expandClassName:o+"-expand",l=n.collapseLabel!==void 0?n.collapseLabel:"\u203A",u=n.collapseClassName!==void 0?n.collapseClassName:o+"-collapse";typeof l=="string"?(e.collapseLabel_=document.createElement("span"),e.collapseLabel_.textContent=l,e.collapseLabel_.className=u):e.collapseLabel_=l;var f=n.label!==void 0?n.label:"i";typeof f=="string"?(e.label_=document.createElement("span"),e.label_.textContent=f,e.label_.className=s):e.label_=f;var h=e.collapsible_&&!e.collapsed_?e.collapseLabel_:e.label_;e.toggleButton_=document.createElement("button"),e.toggleButton_.setAttribute("type","button"),e.toggleButton_.setAttribute("aria-expanded",String(!e.collapsed_)),e.toggleButton_.title=a,e.toggleButton_.appendChild(h),e.toggleButton_.addEventListener(N.CLICK,e.handleClick_.bind(e),!1);var c=o+" "+sr+" "+en+(e.collapsed_&&e.collapsible_?" "+$o:"")+(e.collapsible_?"":" ol-uncollapsible"),p=e.element;return p.className=c,p.appendChild(e.toggleButton_),p.appendChild(e.ulElement_),e.renderedAttributions_=[],e.renderedVisible_=!0,e}return r.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],o=!0,a=t.layerStatesArray,s=0,l=a.length;s<l;++s){var u=a[s];if(!!Rr(u,t.viewState)){var f=u.layer.getSource();if(!!f){var h=f.getAttributions();if(!!h){var c=h(t);if(!!c)if(o=o&&f.getAttributionsCollapsible()!==!1,Array.isArray(c))for(var p=0,d=c.length;p<d;++p)c[p]in e||(n.push(c[p]),e[c[p]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),n},r.prototype.updateElement_=function(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!$t(e,this.renderedAttributions_)){Kl(this.ulElement_);for(var o=0,a=e.length;o<a;++o){var s=document.createElement("li");s.innerHTML=e[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=e}},r.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},r.prototype.handleToggle_=function(){this.element.classList.toggle($o),this.collapsed_?Zo(this.collapseLabel_,this.label_):Zo(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},r.prototype.getCollapsible=function(){return this.collapsible_},r.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},r.prototype.setCollapsed=function(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()},r.prototype.getCollapsed=function(){return this.collapsed_},r.prototype.render=function(t){this.updateElement_(t.frameState)},r}(cn),qu=rv;var nv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),iv=function(i){nv(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),render:n.render,target:n.target})||this;var o=n.className!==void 0?n.className:"ol-rotate",a=n.label!==void 0?n.label:"\u21E7",s=n.compassClassName!==void 0?n.compassClassName:"ol-compass";e.label_=null,typeof a=="string"?(e.label_=document.createElement("span"),e.label_.className=s,e.label_.textContent=a):(e.label_=a,e.label_.classList.add(s));var l=n.tipLabel?n.tipLabel:"Reset rotation",u=document.createElement("button");u.className=o+"-reset",u.setAttribute("type","button"),u.title=l,u.appendChild(e.label_),u.addEventListener(N.CLICK,e.handleClick_.bind(e),!1);var f=o+" "+sr+" "+en,h=e.element;return h.className=f,h.appendChild(u),e.callResetNorth_=n.resetNorth?n.resetNorth:void 0,e.duration_=n.duration!==void 0?n.duration:250,e.autoHide_=n.autoHide!==void 0?n.autoHide:!0,e.rotation_=void 0,e.autoHide_&&e.element.classList.add(jn),e}return r.prototype.handleClick_=function(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();if(!!e){var n=e.getRotation();n!==void 0&&(this.duration_>0&&n%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:le}):e.setRotation(0))}},r.prototype.render=function(t){var e=t.frameState;if(!!e){var n=e.viewState.rotation;if(n!=this.rotation_){var o="rotate("+n+"rad)";if(this.autoHide_){var a=this.element.classList.contains(jn);!a&&n===0?this.element.classList.add(jn):a&&n!==0&&this.element.classList.remove(jn)}this.label_.style.transform=o}this.rotation_=n}},r}(cn),Vu=iv;var ov=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),av=function(i){ov(r,i);function r(t){var e=this,n=t||{};e=i.call(this,{element:document.createElement("div"),target:n.target})||this;var o=n.className!==void 0?n.className:"ol-zoom",a=n.delta!==void 0?n.delta:1,s=n.zoomInClassName!==void 0?n.zoomInClassName:o+"-in",l=n.zoomOutClassName!==void 0?n.zoomOutClassName:o+"-out",u=n.zoomInLabel!==void 0?n.zoomInLabel:"+",f=n.zoomOutLabel!==void 0?n.zoomOutLabel:"\u2013",h=n.zoomInTipLabel!==void 0?n.zoomInTipLabel:"Zoom in",c=n.zoomOutTipLabel!==void 0?n.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=s,p.setAttribute("type","button"),p.title=h,p.appendChild(typeof u=="string"?document.createTextNode(u):u),p.addEventListener(N.CLICK,e.handleClick_.bind(e,a),!1);var d=document.createElement("button");d.className=l,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof f=="string"?document.createTextNode(f):f),d.addEventListener(N.CLICK,e.handleClick_.bind(e,-a),!1);var x=o+" "+sr+" "+en,v=e.element;return v.className=x,v.appendChild(p),v.appendChild(d),e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},r.prototype.zoomByDelta_=function(t){var e=this.getMap(),n=e.getView();if(!!n){var o=n.getZoom();if(o!==void 0){var a=n.getConstrainedZoom(o+t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:a,duration:this.duration_,easing:le})):n.setZoom(a)}}},r}(cn),Hu=av;function Ju(i){var r=i||{},t=new Dt,e=r.zoom!==void 0?r.zoom:!0;e&&t.push(new Hu(r.zoomOptions));var n=r.rotate!==void 0?r.rotate:!0;n&&t.push(new Vu(r.rotateOptions));var o=r.attribution!==void 0?r.attribution:!0;return o&&t.push(new qu(r.attributionOptions)),t}var wa={ACTIVE:"active"};var sv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lv=function(i){sv(r,i);function r(t){var e=i.call(this)||this;return e.on,e.once,e.un,t&&t.handleEvent&&(e.handleEvent=t.handleEvent),e.map_=null,e.setActive(!0),e}return r.prototype.getActive=function(){return this.get(wa.ACTIVE)},r.prototype.getMap=function(){return this.map_},r.prototype.handleEvent=function(t){return!0},r.prototype.setActive=function(t){this.set(wa.ACTIVE,t)},r.prototype.setMap=function(t){this.map_=t},r}(It);function Qu(i,r,t){var e=i.getCenterInternal();if(e){var n=[e[0]+r[0],e[1]+r[1]];i.animateInternal({duration:t!==void 0?t:250,easing:Pu,center:i.getConstrainedCenter(n)})}}function hn(i,r,t,e){var n=i.getZoom();if(n!==void 0){var o=i.getConstrainedZoom(n+r),a=i.getResolutionForZoom(o);i.getAnimating()&&i.cancelAnimations(),i.animate({resolution:a,anchor:t,duration:e!==void 0?e:250,easing:le})}}var Pe=lv;var uv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fv=function(i){uv(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.delta_=n.delta?n.delta:1,e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==gt.DBLCLICK){var n=t.originalEvent,o=t.map,a=t.coordinate,s=n.shiftKey?-this.delta_:this.delta_,l=o.getView();hn(l,s,a,this.duration_),n.preventDefault(),e=!0}return!e},r}(Pe),tf=fv;var cv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),hv=function(i){cv(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,n)||this,n.handleDownEvent&&(e.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(e.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(e.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(e.handleUpEvent=n.handleUpEvent),n.stopDown&&(e.stopDown=n.stopDown),e.handlingDownUpSequence=!1,e.trackedPointers_={},e.targetPointers=[],e}return r.prototype.getPointerCount=function(){return this.targetPointers.length},r.prototype.handleDownEvent=function(t){return!1},r.prototype.handleDragEvent=function(t){},r.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==gt.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==gt.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==gt.POINTERDOWN){var o=this.handleDownEvent(t);this.handlingDownUpSequence=o,e=this.stopDown(o)}else t.type==gt.POINTERMOVE&&this.handleMoveEvent(t);return!e},r.prototype.handleMoveEvent=function(t){},r.prototype.handleUpEvent=function(t){return!1},r.prototype.stopDown=function(t){return t},r.prototype.updateTrackedPointers_=function(t){if(pv(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==gt.POINTERUP?delete this.trackedPointers_[n]:t.type==gt.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=yi(this.trackedPointers_)}},r}(Pe);function pn(i){for(var r=i.length,t=0,e=0,n=0;n<r;n++)t+=i[n].clientX,e+=i[n].clientY;return[t/r,e/r]}function pv(i){var r=i.type;return r===gt.POINTERDOWN||r===gt.POINTERDRAG||r===gt.POINTERUP}var Me=hv;function Vn(i){var r=arguments;return function(t){for(var e=!0,n=0,o=r.length;n<o&&(e=e&&r[n](t),!!e);++n);return e}}var ef=function(i){var r=i.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},dv=function(i){var r=i.map.getTargetElement(),t=i.map.getOwnerDocument().activeElement;return r.contains(t)},Hi=function(i){return i.map.getTargetElement().hasAttribute("tabindex")?dv(i):!0},rf=Ee;var Ji=function(i){var r=i.originalEvent;return r.button==0&&!(Gs&&wo&&r.ctrlKey)};var Qi=function(i){var r=i.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey},Sa=function(i){var r=i.originalEvent;return!r.altKey&&(wo?r.metaKey:r.ctrlKey)&&!r.shiftKey},nf=function(i){var r=i.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey},to=function(i){var r=i.originalEvent,t=r.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"},eo=function(i){var r=i.originalEvent;return B(r!==void 0,56),r.pointerType=="mouse"};var of=function(i){var r=i.originalEvent;return B(r!==void 0,56),r.isPrimary&&r.button===0};var vv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mv=function(i){vv(r,i);function r(t){var e=i.call(this,{stopDown:ke})||this,n=t||{};e.kinetic_=n.kinetic,e.lastCentroid=null,e.lastPointersCount_,e.panning_=!1;var o=n.condition?n.condition:Vn(Qi,of);return e.condition_=n.onFocusOnly?Vn(Hi,o):o,e.noKinetic_=!1,e}return r.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=pn(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var o=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],a=t.map,s=a.getView();ll(o,s.getResolution()),Hr(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},r.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=n.getCenterInternal(),l=e.getPixelFromCoordinateInternal(s),u=e.getCoordinateFromPixelInternal([l[0]-o*Math.cos(a),l[1]-o*Math.sin(a)]);n.animateInternal({center:n.getConstrainedCenter(u),duration:500,easing:le})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,n=e.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},r}(Me),Hn=mv;var _v=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gv=function(i){_v(r,i);function r(t){var e=this,n=t||{};return e=i.call(this,{stopDown:ke})||this,e.condition_=n.condition?n.condition:ef,e.lastAngle_=void 0,e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleDragEvent=function(t){if(!!eo(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==fn){var o=e.getSize(),a=t.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;n.adjustRotationInternal(-l)}this.lastAngle_=s}}},r.prototype.handleUpEvent=function(t){if(!eo(t))return!0;var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1},r.prototype.handleDownEvent=function(t){if(!eo(t))return!1;if(Ji(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},r}(Me),af=gv;var yv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xv=function(i){yv(r,i);function r(t){var e=i.call(this)||this;return e.geometry_=null,e.element_=document.createElement("div"),e.element_.style.position="absolute",e.element_.style.pointerEvents="auto",e.element_.className="ol-box "+t,e.map_=null,e.startPixel_=null,e.endPixel_=null,e}return r.prototype.disposeInternal=function(){this.setMap(null)},r.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",o=this.element_.style;o.left=Math.min(t[0],e[0])+n,o.top=Math.min(t[1],e[1])+n,o.width=Math.abs(e[0]-t[0])+n,o.height=Math.abs(e[1]-t[1])+n},r.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},r.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},r.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]],o=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new Gl([o])},r.prototype.getGeometry=function(){return this.geometry_},r}(Gr),sf=xv;var lf=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ro={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},Ia=function(i){lf(r,i);function r(t,e,n){var o=i.call(this,t)||this;return o.coordinate=e,o.mapBrowserEvent=n,o}return r}(Pt);var Ev=function(i){lf(r,i);function r(t){var e=i.call(this)||this;e.on,e.once,e.un;var n=t||{};return e.box_=new sf(n.className||"ol-dragbox"),e.minArea_=n.minArea!==void 0?n.minArea:64,n.onBoxEnd&&(e.onBoxEnd=n.onBoxEnd),e.startPixel_=null,e.condition_=n.condition?n.condition:Ji,e.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:e.defaultBoxEndCondition,e}return r.prototype.defaultBoxEndCondition=function(t,e,n){var o=n[0]-e[0],a=n[1]-e[1];return o*o+a*a>=this.minArea_},r.prototype.getGeometry=function(){return this.box_.getGeometry()},r.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Ia(ro.BOXDRAG,t.coordinate,t))},r.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Ia(e?ro.BOXEND:ro.BOXCANCEL,t.coordinate,t)),!1},r.prototype.handleDownEvent=function(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ia(ro.BOXSTART,t.coordinate,t)),!0):!1},r.prototype.onBoxEnd=function(t){},r}(Me),uf=Ev;var Tv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Cv=function(i){Tv(r,i);function r(t){var e=this,n=t||{},o=n.condition?n.condition:nf;return e=i.call(this,{condition:o,className:n.className||"ol-dragzoom",minArea:n.minArea})||this,e.duration_=n.duration!==void 0?n.duration:200,e.out_=n.out!==void 0?n.out:!1,e}return r.prototype.onBoxEnd=function(t){var e=this.getMap(),n=e.getView(),o=this.getGeometry();if(this.out_){var a=n.rotatedExtentForGeometry(o),s=n.getResolutionForExtentInternal(a),l=n.getResolution()/s;o=o.clone(),o.scale(l*l)}n.fitInternal(o,{duration:this.duration_,easing:le})},r}(uf),ff=Cv;var hr={LEFT:37,UP:38,RIGHT:39,DOWN:40};var wv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sv=function(i){wv(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.defaultCondition_=function(o){return Qi(o)&&to(o)},e.condition_=n.condition!==void 0?n.condition:e.defaultCondition_,e.duration_=n.duration!==void 0?n.duration:100,e.pixelDelta_=n.pixelDelta!==void 0?n.pixelDelta:128,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==N.KEYDOWN){var n=t.originalEvent,o=n.keyCode;if(this.condition_(t)&&(o==hr.DOWN||o==hr.LEFT||o==hr.RIGHT||o==hr.UP)){var a=t.map,s=a.getView(),l=s.getResolution()*this.pixelDelta_,u=0,f=0;o==hr.DOWN?f=-l:o==hr.LEFT?u=-l:o==hr.RIGHT?u=l:f=l;var h=[u,f];Hr(h,s.getRotation()),Qu(s,h,this.duration_),n.preventDefault(),e=!0}}return!e},r}(Pe),cf=Sv;var Iv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rv=function(i){Iv(r,i);function r(t){var e=i.call(this)||this,n=t||{};return e.condition_=n.condition?n.condition:to,e.delta_=n.delta?n.delta:1,e.duration_=n.duration!==void 0?n.duration:100,e}return r.prototype.handleEvent=function(t){var e=!1;if(t.type==N.KEYDOWN||t.type==N.KEYPRESS){var n=t.originalEvent,o=n.charCode;if(this.condition_(t)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=t.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,l=a.getView();hn(l,s,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},r}(Pe),hf=Rv;var Ov=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ra={TRACKPAD:"trackpad",WHEEL:"wheel"},Lv=function(i){Ov(r,i);function r(t){var e=this,n=t||{};e=i.call(this,n)||this,e.totalDelta_=0,e.lastDelta_=0,e.maxDelta_=n.maxDelta!==void 0?n.maxDelta:1,e.duration_=n.duration!==void 0?n.duration:250,e.timeout_=n.timeout!==void 0?n.timeout:80,e.useAnchor_=n.useAnchor!==void 0?n.useAnchor:!0,e.constrainResolution_=n.constrainResolution!==void 0?n.constrainResolution:!1;var o=n.condition?n.condition:rf;return e.condition_=n.onFocusOnly?Vn(Hi,o):o,e.lastAnchor_=null,e.startTime_=void 0,e.timeoutId_,e.mode_=void 0,e.trackpadEventGap_=400,e.trackpadTimeoutId_,e.deltaPerZoom_=300,e}return r.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},r.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==N.WHEEL)return!0;var n=t.map,o=t.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);var a;if(t.type==N.WHEEL&&(a=o.deltaY,Ns&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=Ci),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?Ra.TRACKPAD:Ra.WHEEL);var l=n.getView();if(this.mode_===Ra.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var u=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),u),!1},r.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-_t(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),hn(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},r.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},r}(Pe),Jn=Lv;var Av=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pv=function(i){Av(r,i);function r(t){var e=this,n=t||{},o=n;return o.stopDown||(o.stopDown=ke),e=i.call(this,o)||this,e.anchor_=null,e.lastAngle_=void 0,e.rotating_=!1,e.rotationDelta_=0,e.threshold_=n.threshold!==void 0?n.threshold:.3,e.duration_=n.duration!==void 0?n.duration:250,e}return r.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=s}this.lastAngle_=a;var l=t.map,u=l.getView();if(u.getConstraints().rotation!==fn){var f=l.getViewport().getBoundingClientRect(),h=pn(this.targetPointers);h[0]-=f.left,h[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(h),this.rotating_&&(l.render(),u.adjustRotationInternal(e,this.anchor_))}},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Me),pf=Pv;var Mv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fv=function(i){Mv(r,i);function r(t){var e=this,n=t||{},o=n;return o.stopDown||(o.stopDown=ke),e=i.call(this,o)||this,e.anchor_=null,e.duration_=n.duration!==void 0?n.duration:400,e.lastDistance_=void 0,e.lastScaleDelta_=1,e}return r.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],o=this.targetPointers[1],a=n.clientX-o.clientX,s=n.clientY-o.clientY,l=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(e=this.lastDistance_/l),this.lastDistance_=l;var u=t.map,f=u.getView();e!=1&&(this.lastScaleDelta_=e);var h=u.getViewport().getBoundingClientRect(),c=pn(this.targetPointers);c[0]-=h.left,c[1]-=h.top,this.anchor_=u.getCoordinateFromPixelInternal(c),u.render(),f.adjustResolutionInternal(e,this.anchor_)},r.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView(),o=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,o),!1}else return!0},r.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}else return!1},r}(Me),df=Fv;function no(i){var r=i||{},t=new Dt,e=new Mu(-.005,.05,100),n=r.altShiftDragRotate!==void 0?r.altShiftDragRotate:!0;n&&t.push(new af);var o=r.doubleClickZoom!==void 0?r.doubleClickZoom:!0;o&&t.push(new tf({delta:r.zoomDelta,duration:r.zoomDuration}));var a=r.dragPan!==void 0?r.dragPan:!0;a&&t.push(new Hn({onFocusOnly:r.onFocusOnly,kinetic:e}));var s=r.pinchRotate!==void 0?r.pinchRotate:!0;s&&t.push(new pf);var l=r.pinchZoom!==void 0?r.pinchZoom:!0;l&&t.push(new df({duration:r.zoomDuration}));var u=r.keyboard!==void 0?r.keyboard:!0;u&&(t.push(new cf),t.push(new hf({delta:r.zoomDelta,duration:r.zoomDuration})));var f=r.mouseWheelZoom!==void 0?r.mouseWheelZoom:!0;f&&t.push(new Jn({onFocusOnly:r.onFocusOnly,duration:r.zoomDuration}));var h=r.shiftDragZoom!==void 0?r.shiftDragZoom:!0;return h&&t.push(new ff({duration:r.zoomDuration})),t}var Dv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kv=function(i){Dv(r,i);function r(t){return t=yt({},t),t.controls||(t.controls=Ju()),t.interactions||(t.interactions=no({onFocusOnly:!0})),i.call(this,t)||this}return r.prototype.createRenderer=function(){return new Du(this)},r}($u),Oa=kv;var Nv=function(){function i(r){this.highWaterMark=r!==void 0?r:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return i.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},i.prototype.expireCache=function(r){for(;this.canExpireCache();)this.pop()},i.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},i.prototype.containsKey=function(r){return this.entries_.hasOwnProperty(r)},i.prototype.forEach=function(r){for(var t=this.oldest_;t;)r(t.value_,t.key_,this),t=t.newer},i.prototype.get=function(r,t){var e=this.entries_[r];return B(e!==void 0,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},i.prototype.remove=function(r){var t=this.entries_[r];return B(t!==void 0,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[r],--this.count_,t.value_},i.prototype.getCount=function(){return this.count_},i.prototype.getKeys=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.key_;return r},i.prototype.getValues=function(){var r=new Array(this.count_),t=0,e;for(e=this.newest_;e;e=e.older)r[t++]=e.value_;return r},i.prototype.peekLast=function(){return this.oldest_.value_},i.prototype.peekLastKey=function(){return this.oldest_.key_},i.prototype.peekFirstKey=function(){return this.newest_.key_},i.prototype.pop=function(){var r=this.oldest_;return delete this.entries_[r.key_],r.newer&&(r.newer.older=null),this.oldest_=r.newer,this.oldest_||(this.newest_=null),--this.count_,r.value_},i.prototype.replace=function(r,t){this.get(r),this.entries_[r].value_=t},i.prototype.set=function(r,t){B(!(r in this.entries_),16);var e={key_:r,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=e:this.oldest_=e,this.newest_=e,this.entries_[r]=e,++this.count_},i.prototype.setSize=function(r){this.highWaterMark=r},i}(),vf=Nv;function La(i,r,t,e){return e!==void 0?(e[0]=i,e[1]=r,e[2]=t,e):[i,r,t]}function Lr(i,r,t){return i+"/"+r+"/"+t}function io(i){return Lr(i[0],i[1],i[2])}function mf(i){return i.split("/").map(Number)}function _f(i){return(i[1]<<i[0])+i[2]}function gf(i,r){var t=i[0],e=i[1],n=i[2];if(r.getMinZoom()>t||t>r.getMaxZoom())return!1;var o=r.getFullTileRange(t);return o?o.containsXY(e,n):!0}var Gv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bv=function(i){Gv(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},r.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var t=this.peekFirstKey(),e=mf(t),n=e[0];this.forEach(function(o){o.tileCoord[0]!==n&&(this.remove(io(o.tileCoord)),o.release())}.bind(this))}},r}(vf),oo=bv;var yf=function(){function i(r,t,e,n){this.minX=r,this.maxX=t,this.minY=e,this.maxY=n}return i.prototype.contains=function(r){return this.containsXY(r[1],r[2])},i.prototype.containsTileRange=function(r){return this.minX<=r.minX&&r.maxX<=this.maxX&&this.minY<=r.minY&&r.maxY<=this.maxY},i.prototype.containsXY=function(r,t){return this.minX<=r&&r<=this.maxX&&this.minY<=t&&t<=this.maxY},i.prototype.equals=function(r){return this.minX==r.minX&&this.minY==r.minY&&this.maxX==r.maxX&&this.maxY==r.maxY},i.prototype.extend=function(r){r.minX<this.minX&&(this.minX=r.minX),r.maxX>this.maxX&&(this.maxX=r.maxX),r.minY<this.minY&&(this.minY=r.minY),r.maxY>this.maxY&&(this.maxY=r.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(r){return this.minX<=r.maxX&&this.maxX>=r.minX&&this.minY<=r.maxY&&this.maxY>=r.minY},i}();function Ar(i,r,t,e,n){return n!==void 0?(n.minX=i,n.maxX=r,n.minY=t,n.maxY=e,n):new yf(i,r,t,e)}var ao=yf;var xf=.5,Fe=!0;var Qn={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},Ef={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0};var jv=10,Tf=.25,Yv=function(){function i(r,t,e,n,o,a){this.sourceProj_=r,this.targetProj_=t;var s={},l=Cr(this.targetProj_,this.sourceProj_);this.transformInv_=function(y){var E=y[0]+"/"+y[1];return s[E]||(s[E]=l(y)),s[E]},this.maxSourceExtent_=n,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&dt(n)==dt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?dt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?dt(this.targetProj_.getExtent()):null;var u=oe(e),f=Wr(e),h=zr(e),c=Xr(e),p=this.transformInv_(u),d=this.transformInv_(f),x=this.transformInv_(h),v=this.transformInv_(c),_=jv+(a?Math.max(0,Math.ceil(Hs(Rn(e)/(a*a*256*256)))):0);if(this.addQuad_(u,f,h,c,p,d,x,v,_),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(y,E,C){g=Math.min(g,y.source[0][0],y.source[1][0],y.source[2][0])}),this.triangles_.forEach(function(y){if(Math.max(y.source[0][0],y.source[1][0],y.source[2][0])-g>this.sourceWorldWidth_/2){var E=[[y.source[0][0],y.source[0][1]],[y.source[1][0],y.source[1][1]],[y.source[2][0],y.source[2][1]]];E[0][0]-g>this.sourceWorldWidth_/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-g>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-g>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);var C=Math.min(E[0][0],E[1][0],E[2][0]),w=Math.max(E[0][0],E[1][0],E[2][0]);w-C<this.sourceWorldWidth_/2&&(y.source=E)}}.bind(this))}s={}}return i.prototype.addTriangle_=function(r,t,e,n,o,a){this.triangles_.push({source:[n,o,a],target:[r,t,e]})},i.prototype.addQuad_=function(r,t,e,n,o,a,s,l,u){var f=So([o,a,s,l]),h=this.sourceWorldWidth_?dt(f)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1,d=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var x=So([r,t,e,n]),v=dt(x)/this.targetWorldWidth_;d=v>Tf||d}!p&&this.sourceProj_.isGlobal()&&h&&(d=h>Tf||d)}if(!(!d&&this.maxSourceExtent_&&isFinite(f[0])&&isFinite(f[1])&&isFinite(f[2])&&isFinite(f[3])&&!St(f,this.maxSourceExtent_))){var _=0;if(!d&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)d=!0;else if(_=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),_!=1&&_!=2&&_!=4&&_!=8)return}if(u>0){if(!d){var g=[(r[0]+e[0])/2,(r[1]+e[1])/2],y=this.transformInv_(g),E=void 0;if(p){var C=(Ye(o[0],c)+Ye(s[0],c))/2;E=C-Ye(y[0],c)}else E=(o[0]+s[0])/2-y[0];var w=(o[1]+s[1])/2-y[1],I=E*E+w*w;d=I>this.errorThresholdSquared_}if(d){if(Math.abs(r[0]-e[0])<=Math.abs(r[1]-e[1])){var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],R=this.transformInv_(S),P=[(n[0]+r[0])/2,(n[1]+r[1])/2],L=this.transformInv_(P);this.addQuad_(r,t,S,P,o,a,R,L,u-1),this.addQuad_(P,S,e,n,L,R,s,l,u-1)}else{var F=[(r[0]+t[0])/2,(r[1]+t[1])/2],k=this.transformInv_(F),K=[(e[0]+n[0])/2,(e[1]+n[1])/2],D=this.transformInv_(K);this.addQuad_(r,F,K,n,o,k,D,l,u-1),this.addQuad_(F,t,e,K,k,a,s,D,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(_&11)==0&&this.addTriangle_(r,e,n,o,s,l),(_&14)==0&&this.addTriangle_(r,e,t,o,s,a),_&&((_&13)==0&&this.addTriangle_(t,n,r,a,l,o),(_&7)==0&&this.addTriangle_(t,n,e,a,l,s))}},i.prototype.calculateSourceExtent=function(){var r=Lt();return this.triangles_.forEach(function(t,e,n){var o=t.source;xr(r,o[0]),xr(r,o[1]),xr(r,o[2])}),r},i.prototype.getTriangles=function(){return this.triangles_},i}(),Cf=Yv;var Aa;function wf(i,r,t,e,n){i.beginPath(),i.moveTo(0,0),i.lineTo(r,t),i.lineTo(e,n),i.closePath(),i.save(),i.clip(),i.fillRect(0,0,Math.max(r,e)+1,Math.max(t,n)),i.restore()}function Pa(i,r){return Math.abs(i[r*4]-210)>2||Math.abs(i[r*4+3]-.75*255)>2}function Uv(){if(Aa===void 0){var i=document.createElement("canvas").getContext("2d");i.globalCompositeOperation="lighter",i.fillStyle="rgba(210, 0, 0, 0.75)",wf(i,4,5,4,0),wf(i,4,5,0,5);var r=i.getImageData(0,0,3,3).data;Aa=Pa(r,0)||Pa(r,4)||Pa(r,8)}return Aa}function Sf(i,r,t,e){var n=kn(t,r,i),o=ko(r,e,t),a=r.getMetersPerUnit();a!==void 0&&(o*=a);var s=i.getMetersPerUnit();s!==void 0&&(o/=s);var l=i.getExtent();if(!l||Ce(l,n)){var u=ko(i,o,n)/o;isFinite(u)&&u>0&&(o/=u)}return o}function If(i,r,t,e){var n=we(t),o=Sf(i,r,n,e);return(!isFinite(o)||o<=0)&&Li(t,function(a){return o=Sf(i,r,a,e),isFinite(o)&&o>0}),o}function Rf(i,r,t,e,n,o,a,s,l,u,f,h){var c=Ot(Math.round(t*i),Math.round(t*r));if(h||yt(c,Qn),l.length===0)return c.canvas;c.scale(t,t);function p(E){return Math.round(E*t)/t}c.globalCompositeOperation="lighter";var d=Lt();l.forEach(function(E,C,w){Xs(d,E.extent)});var x=dt(d),v=kt(d),_=Ot(Math.round(t*x/e),Math.round(t*v/e));h||yt(_,Qn);var g=t/e;l.forEach(function(E,C,w){var I=E.extent[0]-d[0],S=-(E.extent[3]-d[3]),R=dt(E.extent),P=kt(E.extent);E.image.width>0&&E.image.height>0&&_.drawImage(E.image,u,u,E.image.width-2*u,E.image.height-2*u,I*g,S*g,R*g,P*g)});var y=oe(a);return s.getTriangles().forEach(function(E,C,w){var I=E.source,S=E.target,R=I[0][0],P=I[0][1],L=I[1][0],F=I[1][1],k=I[2][0],K=I[2][1],D=p((S[0][0]-y[0])/o),G=p(-(S[0][1]-y[1])/o),b=p((S[1][0]-y[0])/o),et=p(-(S[1][1]-y[1])/o),Q=p((S[2][0]-y[0])/o),X=p(-(S[2][1]-y[1])/o),mt=R,O=P;R=0,P=0,L-=mt,F-=O,k-=mt,K-=O;var Et=[[L,F,0,0,b-D],[k,K,0,0,Q-D],[0,0,L,F,et-G],[0,0,k,K,X-G]],Z=Qs(Et);if(!!Z){if(c.save(),c.beginPath(),Uv()||!h){c.moveTo(b,et);for(var xt=4,pt=D-b,Kt=G-et,Xt=0;Xt<xt;Xt++)c.lineTo(b+p((Xt+1)*pt/xt),et+p(Xt*Kt/(xt-1))),Xt!=xt-1&&c.lineTo(b+p((Xt+1)*pt/xt),et+p((Xt+1)*Kt/(xt-1)));c.lineTo(Q,X)}else c.moveTo(b,et),c.lineTo(D,G),c.lineTo(Q,X);c.clip(),c.transform(Z[0],Z[2],Z[1],Z[3],D,G),c.translate(d[0]-mt,d[3]-O),c.scale(e/t,-e/t),c.drawImage(_.canvas,0,0),c.restore()}}),f&&(c.save(),c.globalCompositeOperation="source-over",c.strokeStyle="black",c.lineWidth=1,s.getTriangles().forEach(function(E,C,w){var I=E.target,S=(I[0][0]-y[0])/o,R=-(I[0][1]-y[1])/o,P=(I[1][0]-y[0])/o,L=-(I[1][1]-y[1])/o,F=(I[2][0]-y[0])/o,k=-(I[2][1]-y[1])/o;c.beginPath(),c.moveTo(P,L),c.lineTo(S,R),c.lineTo(F,k),c.closePath(),c.stroke()}),c.restore()),c.canvas}var Bv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kv=function(i){Bv(r,i);function r(t,e,n,o,a,s,l,u,f,h,c,p){var d=i.call(this,a,Y.IDLE,{interpolate:!!p})||this;d.renderEdges_=c!==void 0?c:!1,d.pixelRatio_=l,d.gutter_=u,d.canvas_=null,d.sourceTileGrid_=e,d.targetTileGrid_=o,d.wrappedTileCoord_=s||a,d.sourceTiles_=[],d.sourcesListenerKeys_=null,d.sourceZ_=0;var x=o.getTileCoordExtent(d.wrappedTileCoord_),v=d.targetTileGrid_.getExtent(),_=d.sourceTileGrid_.getExtent(),g=v?rr(x,v):x;if(Rn(g)===0)return d.state=Y.EMPTY,d;var y=t.getExtent();y&&(_?_=rr(_,y):_=y);var E=o.getResolution(d.wrappedTileCoord_[0]),C=If(t,n,g,E);if(!isFinite(C)||C<=0)return d.state=Y.EMPTY,d;var w=h!==void 0?h:xf;if(d.triangulation_=new Cf(t,n,g,_,C*w,E),d.triangulation_.getTriangles().length===0)return d.state=Y.EMPTY,d;d.sourceZ_=e.getZForResolution(C);var I=d.triangulation_.calculateSourceExtent();if(_&&(t.canWrapX()?(I[1]=_t(I[1],_[1],_[3]),I[3]=_t(I[3],_[1],_[3])):I=rr(I,_)),!Rn(I))d.state=Y.EMPTY;else{for(var S=e.getTileRangeForExtentAndZ(I,d.sourceZ_),R=S.minX;R<=S.maxX;R++)for(var P=S.minY;P<=S.maxY;P++){var L=f(d.sourceZ_,R,P,l);L&&d.sourceTiles_.push(L)}d.sourceTiles_.length===0&&(d.state=Y.EMPTY)}return d}return r.prototype.getImage=function(){return this.canvas_},r.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(f,h,c){f&&f.getState()==Y.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(f.tileCoord),image:f.getImage()})}.bind(this)),this.sourceTiles_.length=0,t.length===0)this.state=Y.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),o=typeof n=="number"?n:n[0],a=typeof n=="number"?n:n[1],s=this.targetTileGrid_.getResolution(e),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Rf(o,a,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,u,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=Y.LOADED}this.changed()},r.prototype.load=function(){if(this.state==Y.IDLE){this.state=Y.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,o){var a=e.getState();if(a==Y.IDLE||a==Y.LOADING){t++;var s=nt(e,N.CHANGE,function(l){var u=e.getState();(u==Y.LOADED||u==Y.ERROR||u==Y.EMPTY)&&(st(s),t--,t===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,n,o){var a=e.getState();a==Y.IDLE&&e.load()})}},r.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(st),this.sourcesListenerKeys_=null},r}($i),so=Kv;var Xv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zv=function(i){Xv(r,i);function r(t){var e=i.call(this,t)||this;return e.extentChanged=!0,e.renderedExtent_=null,e.renderedPixelRatio,e.renderedProjection=null,e.renderedRevision,e.renderedTiles=[],e.newTiles_=!1,e.tmpExtent=Lt(),e.tmpTileRange_=new ao(0,0,0,0),e}return r.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),o=e.getUseInterimTilesOnError();return n==Y.LOADED||n==Y.EMPTY||n==Y.ERROR&&!o},r.prototype.getTile=function(t,e,n,o){var a=o.pixelRatio,s=o.viewState.projection,l=this.getLayer(),u=l.getSource(),f=u.getTile(t,e,n,a,s);return f.getState()==Y.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):f.setState(Y.LOADED)),this.isDrawableTile(f)||(f=f.getInterimTile()),f},r.prototype.getData=function(t){var e=this.frameState;if(!e)return null;var n=this.getLayer(),o=Tt(e.pixelToCoordinateTransform,t.slice()),a=n.getExtent();if(a&&!Ce(a,o))return null;for(var s=e.pixelRatio,l=e.viewState.projection,u=e.viewState,f=n.getRenderSource(),h=f.getTileGridForProjection(u.projection),c=f.getTilePixelRatio(e.pixelRatio),p=h.getZForResolution(u.resolution);p>=h.getMinZoom();--p){var d=h.getTileCoordForCoordAndZ(o,p),x=f.getTile(p,d[1],d[2],s,l);if(!(x instanceof qi||x instanceof so))return null;if(x.getState()===Y.LOADED){var v=h.getOrigin(p),_=Bt(h.getTileSize(p)),g=h.getResolution(p),y=Math.floor(c*((o[0]-v[0])/g-d[1]*_[0])),E=Math.floor(c*((v[1]-o[1])/g-d[2]*_[1]));return this.getImageData(x.getImage(),y,E)}}return null},r.prototype.loadedTileCallback=function(t,e,n){return this.isDrawableTile(n)?i.prototype.loadedTileCallback.call(this,t,e,n):!1},r.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},r.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],o=t.viewState,a=o.projection,s=o.resolution,l=o.center,u=o.rotation,f=t.pixelRatio,h=this.getLayer(),c=h.getSource(),p=c.getRevision(),d=c.getTileGridForProjection(a),x=d.getZForResolution(s,c.zDirection),v=d.getResolution(x),_=t.extent,g=n.extent&&de(n.extent,a);g&&(_=rr(_,de(n.extent,a)));var y=c.getTilePixelRatio(f),E=Math.round(t.size[0]*y),C=Math.round(t.size[1]*y);if(u){var w=Math.round(Math.sqrt(E*E+C*C));E=w,C=w}var I=v*E/2/y,S=v*C/2/y,R=[l[0]-I,l[1]-S,l[0]+I,l[1]+S],P=d.getTileRangeForExtentAndZ(_,x),L={};L[x]={};var F=this.createLoadedTileFinder(c,a,L),k=this.tmpExtent,K=this.tmpTileRange_;this.newTiles_=!1;for(var D=P.minX;D<=P.maxX;++D)for(var G=P.minY;G<=P.maxY;++G){var b=this.getTile(x,D,G,t);if(this.isDrawableTile(b)){var et=rt(this);if(b.getState()==Y.LOADED){L[x][b.tileCoord.toString()]=b;var Q=b.inTransition(et);!this.newTiles_&&(Q||this.renderedTiles.indexOf(b)===-1)&&(this.newTiles_=!0)}if(b.getAlpha(et,t.time)===1)continue}var X=d.getTileCoordChildTileRange(b.tileCoord,K,k),mt=!1;X&&(mt=F(x+1,X)),mt||d.forEachTileCoordParentTileRange(b.tileCoord,F,K,k)}var O=v/s;Yt(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/y,1/y,u,-E/2,-C/2);var Et=Si(this.pixelTransform);this.useContainer(e,Et,n.opacity,this.getBackground(t));var Z=this.context,xt=Z.canvas;Ur(this.inversePixelTransform,this.pixelTransform),Yt(this.tempTransform,E/2,C/2,O,O,0,-E/2,-C/2),xt.width!=E||xt.height!=C?(xt.width=E,xt.height=C):this.containerReused||Z.clearRect(0,0,E,C),g&&this.clipUnrotated(Z,t,g),c.getInterpolate()||yt(Z,Qn),this.preRender(Z,t),this.renderedTiles.length=0;var pt=Object.keys(L).map(Number);pt.sort(xe);var Kt,Xt,Qt;n.opacity===1&&(!this.containerReused||c.getOpaque(t.viewState.projection))?pt=pt.reverse():(Kt=[],Xt=[]);for(var Pr=pt.length-1;Pr>=0;--Pr){var ge=pt[Pr],ei=c.getTilePixelSize(ge,f,a),ri=d.getResolution(ge),Je=ri/v,Mr=ei[0]*Je*O,ni=ei[1]*Je*O,dn=d.getTileCoordForCoordAndZ(oe(R),ge),ii=d.getTileCoordExtent(dn),dr=Tt(this.tempTransform,[y*(ii[0]-R[0])/v,y*(R[3]-ii[3])/v]),vn=y*c.getGutterForProjection(a),oi=L[ge];for(var Fr in oi){var b=oi[Fr],Qe=b.tileCoord,Dr=dn[1]-Qe[1],co=Math.round(dr[0]-(Dr-1)*Mr),ai=dn[2]-Qe[2],mn=Math.round(dr[1]-(ai-1)*ni),D=Math.round(dr[0]-Dr*Mr),G=Math.round(dr[1]-ai*ni),De=co-D,ye=mn-G,vr=x===ge,Q=vr&&b.getAlpha(rt(this),t.time)!==1,_n=!1;if(!Q)if(Kt){Qt=[D,G,D+De,G,D+De,G+ye,D,G+ye];for(var zt=0,si=Kt.length;zt<si;++zt)if(x!==ge&&ge<Xt[zt]){var Ft=Kt[zt];St([D,G,D+De,G+ye],[Ft[0],Ft[3],Ft[4],Ft[7]])&&(_n||(Z.save(),_n=!0),Z.beginPath(),Z.moveTo(Qt[0],Qt[1]),Z.lineTo(Qt[2],Qt[3]),Z.lineTo(Qt[4],Qt[5]),Z.lineTo(Qt[6],Qt[7]),Z.moveTo(Ft[6],Ft[7]),Z.lineTo(Ft[4],Ft[5]),Z.lineTo(Ft[2],Ft[3]),Z.lineTo(Ft[0],Ft[1]),Z.clip())}Kt.push(Qt),Xt.push(ge)}else Z.clearRect(D,G,De,ye);this.drawTileImage(b,t,D,G,De,ye,vn,vr),Kt&&!Q?(_n&&Z.restore(),this.renderedTiles.unshift(b)):this.renderedTiles.push(b),this.updateUsedTiles(t.usedTiles,c,b)}}this.renderedRevision=p,this.renderedResolution=v,this.extentChanged=!this.renderedExtent_||!be(this.renderedExtent_,R),this.renderedExtent_=R,this.renderedPixelRatio=f,this.renderedProjection=a,this.manageTilePyramid(t,c,d,f,a,_,x,h.getPreload()),this.scheduleExpireCache(t,c),this.postRender(Z,t),n.extent&&Z.restore(),yt(Z,Ef),Et!==xt.style.transform&&(xt.style.transform=Et);var kr=ji(n.opacity),mr=this.container;return kr!==mr.style.opacity&&(mr.style.opacity=kr),this.container},r.prototype.drawTileImage=function(t,e,n,o,a,s,l,u){var f=this.getTileImage(t);if(!!f){var h=rt(this),c=u?t.getAlpha(h,e.time):1,p=c!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(f,l,l,f.width-2*l,f.height-2*l,n,o,a,s),p&&this.context.restore(),c!==1?e.animate=!0:u&&t.endTransition(h)}},r.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},r.prototype.getTileImage=function(t){return t.getImage()},r.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(o,a,s){var l=rt(o);l in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[l])}.bind(null,e);t.postRenderFunctions.push(n)}},r.prototype.updateUsedTiles=function(t,e,n){var o=rt(e);o in t||(t[o]={}),t[o][n.getKey()]=!0},r.prototype.manageTilePyramid=function(t,e,n,o,a,s,l,u,f){var h=rt(e);h in t.wantedTiles||(t.wantedTiles[h]={});var c=t.wantedTiles[h],p=t.tileQueue,d=n.getMinZoom(),x=0,v,_,g,y,E,C;for(C=d;C<=l;++C)for(_=n.getTileRangeForExtentAndZ(s,C,_),g=n.getResolution(C),y=_.minX;y<=_.maxX;++y)for(E=_.minY;E<=_.maxY;++E)l-C<=u?(++x,v=e.getTile(C,y,E,o,a),v.getState()==Y.IDLE&&(c[v.getKey()]=!0,p.isKeyQueued(v.getKey())||p.enqueue([v,h,n.getTileCoordCenter(v.tileCoord),g])),f!==void 0&&f(v)):e.useTile(C,y,E,a);e.updateCacheSize(x,a)},r}(zi),Of=zv;var ti={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};var lo={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};var Wv=[0,0,0],pr=5,Zv=function(){function i(r){this.minZoom=r.minZoom!==void 0?r.minZoom:0,this.resolutions_=r.resolutions,B(As(this.resolutions_,function(a,s){return s-a},!0),17);var t;if(!r.origins){for(var e=0,n=this.resolutions_.length-1;e<n;++e)if(!t)t=this.resolutions_[e]/this.resolutions_[e+1];else if(this.resolutions_[e]/this.resolutions_[e+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=r.origin!==void 0?r.origin:null,this.origins_=null,r.origins!==void 0&&(this.origins_=r.origins,B(this.origins_.length==this.resolutions_.length,20));var o=r.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=oe(o)),B(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,r.tileSizes!==void 0&&(this.tileSizes_=r.tileSizes,B(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=r.tileSize!==void 0?r.tileSize:this.tileSizes_?null:un,B(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],r.sizes!==void 0?this.fullTileRanges_=r.sizes.map(function(a,s){var l=new ao(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var u=this.getTileRangeForExtentAndZ(o,s);l.minX=Math.max(u.minX,l.minX),l.maxX=Math.min(u.maxX,l.maxX),l.minY=Math.max(u.minY,l.minY),l.maxY=Math.min(u.maxY,l.maxY)}return l},this):o&&this.calculateTileRanges_(o)}return i.prototype.forEachTileCoord=function(r,t,e){for(var n=this.getTileRangeForExtentAndZ(r,t),o=n.minX,a=n.maxX;o<=a;++o)for(var s=n.minY,l=n.maxY;s<=l;++s)e([t,o,s])},i.prototype.forEachTileCoordParentTileRange=function(r,t,e,n){var o,a,s,l=null,u=r[0]-1;for(this.zoomFactor_===2?(a=r[1],s=r[2]):l=this.getTileCoordExtent(r,n);u>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=Ar(a,a,s,s,e)):o=this.getTileRangeForExtentAndZ(l,u,e),t(u,o))return!0;--u}return!1},i.prototype.getExtent=function(){return this.extent_},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.getMinZoom=function(){return this.minZoom},i.prototype.getOrigin=function(r){return this.origin_?this.origin_:this.origins_[r]},i.prototype.getResolution=function(r){return this.resolutions_[r]},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getTileCoordChildTileRange=function(r,t,e){if(r[0]<this.maxZoom){if(this.zoomFactor_===2){var n=r[1]*2,o=r[2]*2;return Ar(n,n+1,o,o+1,t)}var a=this.getTileCoordExtent(r,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,r[0]+1,t)}return null},i.prototype.getTileRangeForTileCoordAndZ=function(r,t,e){if(t>this.maxZoom||t<this.minZoom)return null;var n=r[0],o=r[1],a=r[2];if(t===n)return Ar(o,a,o,a,e);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,t-n),l=Math.floor(o*s),u=Math.floor(a*s);if(t<n)return Ar(l,l,u,u,e);var f=Math.floor(s*(o+1))-1,h=Math.floor(s*(a+1))-1;return Ar(l,f,u,h,e)}var c=this.getTileCoordExtent(r,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,t,e)},i.prototype.getTileRangeExtent=function(r,t,e){var n=this.getOrigin(r),o=this.getResolution(r),a=Bt(this.getTileSize(r),this.tmpSize_),s=n[0]+t.minX*a[0]*o,l=n[0]+(t.maxX+1)*a[0]*o,u=n[1]+t.minY*a[1]*o,f=n[1]+(t.maxY+1)*a[1]*o;return Vt(s,u,l,f,e)},i.prototype.getTileRangeForExtentAndZ=function(r,t,e){var n=Wv;this.getTileCoordForXYAndZ_(r[0],r[3],t,!1,n);var o=n[1],a=n[2];return this.getTileCoordForXYAndZ_(r[2],r[1],t,!0,n),Ar(o,n[1],a,n[2],e)},i.prototype.getTileCoordCenter=function(r){var t=this.getOrigin(r[0]),e=this.getResolution(r[0]),n=Bt(this.getTileSize(r[0]),this.tmpSize_);return[t[0]+(r[1]+.5)*n[0]*e,t[1]-(r[2]+.5)*n[1]*e]},i.prototype.getTileCoordExtent=function(r,t){var e=this.getOrigin(r[0]),n=this.getResolution(r[0]),o=Bt(this.getTileSize(r[0]),this.tmpSize_),a=e[0]+r[1]*o[0]*n,s=e[1]-(r[2]+1)*o[1]*n,l=a+o[0]*n,u=s+o[1]*n;return Vt(a,s,l,u,t)},i.prototype.getTileCoordForCoordAndResolution=function(r,t,e){return this.getTileCoordForXYAndResolution_(r[0],r[1],t,!1,e)},i.prototype.getTileCoordForXYAndResolution_=function(r,t,e,n,o){var a=this.getZForResolution(e),s=e/this.getResolution(a),l=this.getOrigin(a),u=Bt(this.getTileSize(a),this.tmpSize_),f=s*(r-l[0])/e/u[0],h=s*(l[1]-t)/e/u[1];return n?(f=Pn(f,pr)-1,h=Pn(h,pr)-1):(f=An(f,pr),h=An(h,pr)),La(a,f,h,o)},i.prototype.getTileCoordForXYAndZ_=function(r,t,e,n,o){var a=this.getOrigin(e),s=this.getResolution(e),l=Bt(this.getTileSize(e),this.tmpSize_),u=(r-a[0])/s/l[0],f=(a[1]-t)/s/l[1];return n?(u=Pn(u,pr)-1,f=Pn(f,pr)-1):(u=An(u,pr),f=An(f,pr)),La(e,u,f,o)},i.prototype.getTileCoordForCoordAndZ=function(r,t,e){return this.getTileCoordForXYAndZ_(r[0],r[1],t,!1,e)},i.prototype.getTileCoordResolution=function(r){return this.resolutions_[r[0]]},i.prototype.getTileSize=function(r){return this.tileSize_?this.tileSize_:this.tileSizes_[r]},i.prototype.getFullTileRange=function(r){return this.fullTileRanges_?this.fullTileRanges_[r]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,r):null},i.prototype.getZForResolution=function(r,t){var e=br(this.resolutions_,r,t||0);return _t(e,this.minZoom,this.maxZoom)},i.prototype.calculateTileRanges_=function(r){for(var t=this.resolutions_.length,e=new Array(t),n=this.minZoom;n<t;++n)e[n]=this.getTileRangeForExtentAndZ(r,n);this.fullTileRanges_=e},i}(),Ma=Zv;function uo(i){var r=i.getDefaultTileGrid();return r||(r=qv(i),i.setDefaultTileGrid(r)),r}function Lf(i,r,t){var e=r[0],n=i.getTileCoordCenter(r),o=fo(t);if(Ce(o,n))return r;var a=dt(o),s=Math.ceil((o[0]-n[0])/a);return n[0]+=a*s,i.getTileCoordForCoordAndZ(n,e)}function $v(i,r,t,e){var n=e!==void 0?e:yr.TOP_LEFT,o=Pf(i,r,t);return new Ma({extent:i,origin:zs(i,n),resolutions:o,tileSize:t})}function Af(i){var r=i||{},t=r.extent||Ut("EPSG:3857").getExtent(),e={extent:t,minZoom:r.minZoom,tileSize:r.tileSize,resolutions:Pf(t,r.maxZoom,r.tileSize,r.maxResolution)};return new Ma(e)}function Pf(i,r,t,e){for(var n=r!==void 0?r:Yu,o=kt(i),a=dt(i),s=Bt(t!==void 0?t:un),l=e>0?e:Math.max(a/s[0],o/s[1]),u=n+1,f=new Array(u),h=0;h<u;++h)f[h]=l/Math.pow(2,h);return f}function qv(i,r,t,e){var n=fo(i);return $v(n,r,t,e)}function fo(i){i=Ut(i);var r=i.getExtent();if(!r){var t=180*bt[qt.DEGREES]/i.getMetersPerUnit();r=Vt(-t,-t,t,t)}return r}var Mf=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vv=function(i){Mf(r,i);function r(t){var e=i.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate})||this;e.on,e.once,e.un,e.opaque_=t.opaque!==void 0?t.opaque:!1,e.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,e.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;var n=[256,256];return e.tileGrid&&Bt(e.tileGrid.getTileSize(e.tileGrid.getMinZoom()),n),e.tileCache=new oo(t.cacheSize||0),e.tmpSize=[0,0],e.key_=t.key||"",e.tileOptions={transition:t.transition,interpolate:t.interpolate},e.zDirection=t.zDirection?t.zDirection:0,e}return r.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},r.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},r.prototype.forEachLoadedTile=function(t,e,n,o){var a=this.getTileCacheForProjection(t);if(!a)return!1;for(var s=!0,l,u,f,h=n.minX;h<=n.maxX;++h)for(var c=n.minY;c<=n.maxY;++c)u=Lr(e,h,c),f=!1,a.containsKey(u)&&(l=a.get(u),f=l.getState()===Y.LOADED,f&&(f=o(l)!==!1)),f||(s=!1);return s},r.prototype.getGutterForProjection=function(t){return 0},r.prototype.getKey=function(){return this.key_},r.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},r.prototype.getOpaque=function(t){return this.opaque_},r.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null},r.prototype.getTile=function(t,e,n,o,a){return tt()},r.prototype.getTileGrid=function(){return this.tileGrid},r.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:uo(t)},r.prototype.getTileCacheForProjection=function(t){return B(nr(this.getProjection(),t),68),this.tileCache},r.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},r.prototype.getTilePixelSize=function(t,e,n){var o=this.getTileGridForProjection(n),a=this.getTilePixelRatio(e),s=Bt(o.getTileSize(t),this.tmpSize);return a==1?s:Ul(s,a,this.tmpSize)},r.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=e!==void 0?e:this.getProjection(),o=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=Lf(o,t,n)),gf(t,o)?t:null},r.prototype.clear=function(){this.tileCache.clear()},r.prototype.refresh=function(){this.clear(),i.prototype.refresh.call(this)},r.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},r.prototype.useTile=function(t,e,n,o){},r}(Zi),Ff=function(i){Mf(r,i);function r(t,e){var n=i.call(this,t)||this;return n.tile=e,n}return r}(Pt);var Df=Vv;function Hv(i,r){var t=/\{z\}/g,e=/\{x\}/g,n=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){if(a)return i.replace(t,a[0].toString()).replace(e,a[1].toString()).replace(n,a[2].toString()).replace(o,function(){var u=a[0],f=r.getFullTileRange(u);B(f,55);var h=f.getHeight()-a[2]-1;return h.toString()})}}function kf(i,r){for(var t=i.length,e=new Array(t),n=0;n<t;++n)e[n]=Hv(i[n],r);return Jv(e)}function Jv(i){return i.length===1?i[0]:function(r,t,e){if(r){var n=_f(r),o=Ye(n,i.length);return i[o](r,t,e)}else return}}function Nf(i){var r=[],t=/\{([a-z])-([a-z])\}/.exec(i);if(t){var e=t[1].charCodeAt(0),n=t[2].charCodeAt(0),o=void 0;for(o=e;o<=n;++o)r.push(i.replace(t[0],String.fromCharCode(o)));return r}if(t=/\{(\d+)-(\d+)\}/.exec(i),t){for(var a=parseInt(t[2],10),s=parseInt(t[1],10);s<=a;s++)r.push(i.replace(t[0],s.toString()));return r}return r.push(i),r}var Qv=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tm=function(i){Qv(r,i);function r(t){var e=i.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this;return e.generateTileUrlFunction_=e.tileUrlFunction===r.prototype.tileUrlFunction,e.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(e.tileUrlFunction=t.tileUrlFunction),e.urls=null,t.urls?e.setUrls(t.urls):t.url&&e.setUrl(t.url),e.tileLoadingKeys_={},e}return r.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},r.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},r.prototype.getUrls=function(){return this.urls},r.prototype.handleTileChange=function(t){var e=t.target,n=rt(e),o=e.getState(),a;o==Y.LOADING?(this.tileLoadingKeys_[n]=!0,a=lo.TILELOADSTART):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],a=o==Y.ERROR?lo.TILELOADERROR:o==Y.LOADED?lo.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new Ff(a,e))},r.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},r.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),typeof e<"u"?this.setKey(e):this.changed()},r.prototype.setUrl=function(t){var e=Nf(t);this.urls=e,this.setUrls(e)},r.prototype.setUrls=function(t){this.urls=t;var e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(kf(t,this.tileGrid),e):this.setKey(e)},r.prototype.tileUrlFunction=function(t,e,n){},r.prototype.useTile=function(t,e,n){var o=Lr(t,e,n);this.tileCache.containsKey(o)&&this.tileCache.get(o)},r}(Df),Gf=tm;var em=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rm=function(i){em(r,i);function r(t){var e=this,n=t.imageSmoothing!==void 0?t.imageSmoothing:!0;return t.interpolate!==void 0&&(n=t.interpolate),e=i.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:nm,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:n,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection})||this,e.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,e.tileClass=t.tileClass!==void 0?t.tileClass:qi,e.tileCacheForProjection={},e.tileGridForProjection={},e.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,e.renderReprojectionEdges_=!1,e}return r.prototype.canExpireCache=function(){if(!Fe)return i.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},r.prototype.expireCache=function(t,e){if(!Fe){i.prototype.expireCache.call(this,t,e);return}var n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==n?e:{})}},r.prototype.getGutterForProjection=function(t){return Fe&&this.getProjection()&&t&&!nr(this.getProjection(),t)?0:this.getGutter()},r.prototype.getGutter=function(){return 0},r.prototype.getKey=function(){var t=i.prototype.getKey.call(this);return this.getInterpolate()||(t+=":disable-interpolation"),t},r.prototype.getOpaque=function(t){return Fe&&this.getProjection()&&t&&!nr(this.getProjection(),t)?!1:i.prototype.getOpaque.call(this,t)},r.prototype.getTileGridForProjection=function(t){if(!Fe)return i.prototype.getTileGridForProjection.call(this,t);var e=this.getProjection();if(this.tileGrid&&(!e||nr(e,t)))return this.tileGrid;var n=rt(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=uo(t)),this.tileGridForProjection[n]},r.prototype.getTileCacheForProjection=function(t){if(!Fe)return i.prototype.getTileCacheForProjection.call(this,t);var e=this.getProjection();if(!e||nr(e,t))return this.tileCache;var n=rt(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new oo(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},r.prototype.createTile_=function(t,e,n,o,a,s){var l=[t,e,n],u=this.getTileCoordForTileUrlFunction(l,a),f=u?this.tileUrlFunction(u,o,a):void 0,h=new this.tileClass(l,f!==void 0?Y.IDLE:Y.EMPTY,f!==void 0?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=s,h.addEventListener(N.CHANGE,this.handleTileChange.bind(this)),h},r.prototype.getTile=function(t,e,n,o,a){var s=this.getProjection();if(!Fe||!s||!a||nr(s,a))return this.getTileInternal(t,e,n,o,s||a);var l=this.getTileCacheForProjection(a),u=[t,e,n],f=void 0,h=io(u);l.containsKey(h)&&(f=l.get(h));var c=this.getKey();if(f&&f.key==c)return f;var p=this.getTileGridForProjection(s),d=this.getTileGridForProjection(a),x=this.getTileCoordForTileUrlFunction(u,a),v=new so(s,p,a,d,u,x,this.getTilePixelRatio(o),this.getGutter(),function(_,g,y,E){return this.getTileInternal(_,g,y,E,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return v.key=c,f?(v.interimTile=f,v.refreshInterimChain(),l.replace(h,v)):l.set(h,v),v},r.prototype.getTileInternal=function(t,e,n,o,a){var s=null,l=Lr(t,e,n),u=this.getKey();if(!this.tileCache.containsKey(l))s=this.createTile_(t,e,n,o,a,u),this.tileCache.set(l,s);else if(s=this.tileCache.get(l),s.key!=u){var f=s;s=this.createTile_(t,e,n,o,a,u),f.getState()==Y.IDLE?s.interimTile=f.interimTile:s.interimTile=f,s.refreshInterimChain(),this.tileCache.replace(l,s)}return s},r.prototype.setRenderReprojectionEdges=function(t){if(!(!Fe||this.renderReprojectionEdges_==t)){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},r.prototype.setTileGridForProjection=function(t,e){if(Fe){var n=Ut(t);if(n){var o=rt(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},r}(Gf);function nm(i,r){i.getImage().src=r}var bf=rm;var im=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),om=function(i){im(r,i);function r(t){var e=this,n=t||{},o=yt({},n);return delete o.preload,delete o.useInterimTilesOnError,e=i.call(this,o)||this,e.on,e.once,e.un,e.setPreload(n.preload!==void 0?n.preload:0),e.setUseInterimTilesOnError(n.useInterimTilesOnError!==void 0?n.useInterimTilesOnError:!0),e}return r.prototype.getPreload=function(){return this.get(ti.PRELOAD)},r.prototype.setPreload=function(t){this.set(ti.PRELOAD,t)},r.prototype.getUseInterimTilesOnError=function(){return this.get(ti.USE_INTERIM_TILES_ON_ERROR)},r.prototype.setUseInterimTilesOnError=function(t){this.set(ti.USE_INTERIM_TILES_ON_ERROR,t)},r.prototype.getData=function(t){return i.prototype.getData.call(this,t)},r}(Or),jf=om;var am=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sm=function(i){am(r,i);function r(t){return i.call(this,t)||this}return r.prototype.createRenderer=function(){return new Of(this)},r}(jf),Fa=sm;var lm=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),um=function(i){lm(r,i);function r(t){var e=t||{},n=e.imageSmoothing!==void 0?e.imageSmoothing:!0;e.interpolate!==void 0&&(n=e.interpolate);var o=e.projection!==void 0?e.projection:"EPSG:3857",a=e.tileGrid!==void 0?e.tileGrid:Af({extent:fo(o),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});return i.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:n,opaque:e.opaque,projection:o,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:a,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this}return r}(bf),Yf=um;var fm=function(){var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])},i(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cm='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',hm=function(i){fm(r,i);function r(t){var e=t||{},n=e.imageSmoothing!==void 0?e.imageSmoothing:!0;e.interpolate!==void 0&&(n=e.interpolate);var o;e.attributions!==void 0?o=e.attributions:o=[cm];var a=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",s=e.url!==void 0?e.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return i.call(this,{attributions:o,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:a,interpolate:n,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,opaque:e.opaque!==void 0?e.opaque:!0,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:s,wrapX:e.wrapX,zDirection:e.zDirection})||this}return r}(Yf),Da=hm;function pm(i){let r,t,e,n,o,a,s,l,u;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("line"),a=M("path"),s=M("polyline"),l=M("line"),u=M("line"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"x1","18"),m(o,"y1","6"),m(o,"x2","18"),m(o,"y2","6.01"),m(a,"d","M18 13l-3.5 -5a4 4 0 1 1 7 0l-3.5 5"),m(s,"points","10.5 4.75 9 4 3 7 3 20 9 17 15 20 21 17 21 15"),m(l,"x1","9"),m(l,"y1","4"),m(l,"x2","9"),m(l,"y2","17"),m(u,"x1","15"),m(u,"y1","15"),m(u,"x2","15"),m(u,"y2","20"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(f,h){H(f,r,h),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a),T(r,s),T(r,l),T(r,u)},p(f,[h]){h&1&&ct(e,f[0])},i:j,o:j,d(f){f&&W(r)}}}function dm(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var Uf=class extends ${constructor(r){super();J(this,r,dm,pm,V,{tooltip:0})}},Bf=Uf;function vm(i){wt(i,"svelte-1smgti8",".wrapper.svelte-1smgti8{display:flex;flex-direction:column;align-items:center}.map.svelte-1smgti8{height:400px;width:100%;border-top:1px solid white;border-bottom:1px solid white;box-shadow:0 0 10px black}p.svelte-1smgti8{text-align:center;color:#666}.address.svelte-1smgti8{display:flex;align-items:center;gap:16px;color:#252e3e;padding:0 10px;margin:20px 0;text-align:center}.icon.svelte-1smgti8{width:48px;height:48px}@media(max-width: 600px){}")}function mm(i){let r,t,e,n,o,a,s,l,u,f,h,c,p;return n=new Bf({props:{tooltip:"ASM Adres"}}),{c(){r=A("div"),t=A("div"),e=A("div"),ft(n.$$.fragment),o=z(),a=A("div"),a.textContent="\xC7ayl\u0131o\u011Flu K\xF6y\xFC Merkez Mahallesi Sa\u011Fl\u0131k Sokak No:12 Ere\u011Fli / ZONGULDAK",s=z(),l=A("div"),u=z(),f=A("p"),f.textContent="Haritay\u0131 hareket ettirmek i\xE7in Ctrl bas\u0131l\u0131 tutup hareket ettiriniz.",h=z(),c=A("p"),c.textContent="Telefonda iseniz iki parma\u011F\u0131n\u0131z ile hareket ettiriniz.",m(e,"class","icon svelte-1smgti8"),m(a,"class","text"),m(t,"class","address svelte-1smgti8"),m(l,"id","map"),m(l,"class","map svelte-1smgti8"),m(f,"class","svelte-1smgti8"),m(c,"class","svelte-1smgti8"),m(r,"class","wrapper svelte-1smgti8")},m(d,x){H(d,r,x),T(r,t),T(t,e),ut(n,e,null),T(t,o),T(t,a),T(r,s),T(r,l),T(r,u),T(r,f),T(r,h),T(r,c),p=!0},p:j,i(d){p||(it(n.$$.fragment,d),p=!0)},o(d){ot(n.$$.fragment,d),p=!1},d(d){d&&W(r),at(n)}}}var _m="./assets/images/marker.png";function gm(i){return In(()=>{let r=new Co({geometry:new Gn(No([31.685861,41.228228]))});r.setStyle(new ta({image:new Wn({crossOrigin:"anonymous",src:_m,scale:1})}));let t=new da({features:[r]}),e=new ca({source:t}),n=new Oa({target:"map",interactions:no({dragPan:!1,mouseWheelZoom:!1}).extend([new Hn({condition(o){return this.getPointerCount()===2||Sa(o)}}),new Jn({condition:Sa})]),layers:[new Fa({source:new Da}),e],view:new _e({center:No([31.685861,41.228228]),zoom:15})})}),[]}var Kf=class extends ${constructor(r){super();J(this,r,gm,mm,V,{},vm)}},Xf=Kf;function ym(i){let r,t,e,n,o,a;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("circle"),a=M("path"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"cx","12"),m(o,"cy","12"),m(o,"r","4"),m(a,"d","M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(s,l){H(s,r,l),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a)},p(s,[l]){l&1&&ct(e,s[0])},i:j,o:j,d(s){s&&W(r)}}}function xm(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var zf=class extends ${constructor(r){super();J(this,r,xm,ym,V,{tooltip:0})}},Wf=zf;function Em(i){let r,t,e,n,o,a,s,l,u,f;return{c(){r=M("svg"),t=M("title"),e=lt(i[0]),n=M("path"),o=M("path"),a=M("path"),s=M("path"),l=M("path"),u=M("path"),f=M("path"),m(n,"stroke","none"),m(n,"d","M0 0h24v24H0z"),m(n,"fill","none"),m(o,"d","M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"),m(a,"d","M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"),m(a,"transform","rotate(60 12 12)"),m(s,"d","M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"),m(s,"transform","rotate(120 12 12)"),m(l,"d","M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"),m(l,"transform","rotate(180 12 12)"),m(u,"d","M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"),m(u,"transform","rotate(240 12 12)"),m(f,"d","M10 4l2 1l2 -1m-2 -2v6.5l3 1.72"),m(f,"transform","rotate(300 12 12)"),m(r,"width","100%"),m(r,"height","100%"),m(r,"viewBox","0 0 24 24"),m(r,"fill","none"),m(r,"stroke","currentColor"),m(r,"stroke-width","2"),m(r,"stroke-linecap","round"),m(r,"stroke-linejoin","round"),m(r,"xmlns","http://www.w3.org/2000/svg")},m(h,c){H(h,r,c),T(r,t),T(t,e),T(r,n),T(r,o),T(r,a),T(r,s),T(r,l),T(r,u),T(r,f)},p(h,[c]){c&1&&ct(e,h[0])},i:j,o:j,d(h){h&&W(r)}}}function Tm(i,r,t){let{tooltip:e=""}=r;return i.$$set=n=>{"tooltip"in n&&t(0,e=n.tooltip)},[e]}var Zf=class extends ${constructor(r){super();J(this,r,Tm,Em,V,{tooltip:0})}},$f=Zf;function Cm(i){wt(i,"svelte-130dpcp",".wrapper.svelte-130dpcp.svelte-130dpcp{display:flex;flex-direction:column;gap:40px}.work-hours.svelte-130dpcp.svelte-130dpcp{display:grid;grid-template-columns:repeat(4, 1fr);grid-template-rows:repeat(6, 1fr);justify-content:center;padding:0 40px;font-size:16px;text-align:center;gap:4px}.work-hours.svelte-130dpcp>div.svelte-130dpcp{display:flex;align-items:center;justify-content:center;border-radius:4px;padding:4px;color:white;transition:font-size 200ms ease}.work-winter.svelte-130dpcp>div.svelte-130dpcp{background:dodgerblue}.work-summer.svelte-130dpcp>div.svelte-130dpcp{background:#ff7700}.work-hours.svelte-130dpcp>div.svelte-130dpcp:nth-child(4n-3){font-size:12px;font-weight:700;background-color:crimson}.work-hours.svelte-130dpcp>div.svelte-130dpcp:nth-child(2){font-size:12px;font-weight:700;background-color:rgb(64, 68, 87)}.work-hours.svelte-130dpcp>div.svelte-130dpcp:nth-child(3){font-size:12px;font-weight:700;background-color:rgb(64, 68, 87)}.work-hours.svelte-130dpcp>div.svelte-130dpcp:nth-child(4){font-size:12px;font-weight:700;background-color:rgb(64, 68, 87)}.title.svelte-130dpcp.svelte-130dpcp{display:flex;justify-content:center;align-items:center;margin-bottom:12px}.icon.svelte-130dpcp.svelte-130dpcp{width:64px;height:64px;animation:svelte-130dpcp-rot360 48s infinite linear}@keyframes svelte-130dpcp-rot360{from{transform:rotate(0deg)}to{transform:rotate(359deg)}}.text.svelte-130dpcp.svelte-130dpcp{font-size:24px;font-weight:700;padding-left:10px}.icon-winter.svelte-130dpcp.svelte-130dpcp{color:dodgerblue}.text-winter.svelte-130dpcp.svelte-130dpcp{color:dodgerblue}.icon-summer.svelte-130dpcp.svelte-130dpcp{color:#ff7700}.text-summer.svelte-130dpcp.svelte-130dpcp{color:#ff7700}@media(max-width: 600px){.work-hours.svelte-130dpcp.svelte-130dpcp{padding:0px 4px}.work-hours.svelte-130dpcp>div.svelte-130dpcp{font-size:10px}}")}function wm(i){let r,t,e,n,o,a,s,l,u,f,h,c,p,d,x,v,_,g,y;return o=new $f({props:{tooltip:"K\u0131\u015F Saati Uygulamas\u0131 \xC7al\u0131\u015Fma Saatleri"}}),d=new Wf({props:{tooltip:"Yaz Saati Uygulamas\u0131 \xC7al\u0131\u015Fma Saatleri"}}),{c(){r=A("div"),t=A("div"),e=A("div"),n=A("div"),ft(o.$$.fragment),a=z(),s=A("div"),s.textContent="KI\u015E SAAT\u0130 UYGULAMASI",l=z(),u=A("div"),u.innerHTML=`<div class="svelte-130dpcp">G\xDCNLER</div> 
      <div class="svelte-130dpcp">08:00-12:00</div> 
      <div class="svelte-130dpcp">12:00-13:00</div> 
      <div class="svelte-130dpcp">13:00-17:00</div> 
      <div class="svelte-130dpcp">PAZARTES\u0130</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (4. hafta poliklinik)</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (1. hafta 14:50 sonras\u0131 poliklinik)(4. hafta
        poliklinik)</div> 
      <div class="svelte-130dpcp">SALI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xC7AR\u015EAMBA</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">PER\u015EEMBE</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">CUMA</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (4. hafta poliklinik)</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (3. hafta 14:55 sonras\u0131 poliklinik)(4. hafta
        poliklinik)</div>`,f=z(),h=A("div"),c=A("div"),p=A("div"),ft(d.$$.fragment),x=z(),v=A("div"),v.textContent="YAZ SAAT\u0130 UYGULAMASI",_=z(),g=A("div"),g.innerHTML=`<div class="svelte-130dpcp">G\xDCNLER</div> 
      <div class="svelte-130dpcp">08:30-12:30</div> 
      <div class="svelte-130dpcp">12:30-13:30</div> 
      <div class="svelte-130dpcp">13:30-17:30</div> 
      <div class="svelte-130dpcp">PAZARTES\u0130</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (4. hafta poliklinik)</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (1. hafta 15:20 sonras\u0131 poliklinik)(4. hafta
        poliklinik)</div> 
      <div class="svelte-130dpcp">SALI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xC7AR\u015EAMBA</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">PER\u015EEMBE</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">POL\u0130KL\u0130N\u0130K</div> 
      <div class="svelte-130dpcp">CUMA</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (4. hafta poliklinik)</div> 
      <div class="svelte-130dpcp">\xD6\u011ELE ARASI</div> 
      <div class="svelte-130dpcp">GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130 (3. hafta 15:25 sonras\u0131 poliklinik)(4. hafta
        poliklinik)</div>`,m(n,"class","icon icon-winter svelte-130dpcp"),m(s,"class","text text-winter svelte-130dpcp"),m(e,"class","title svelte-130dpcp"),m(u,"class","work-hours work-winter svelte-130dpcp"),m(t,"class","season"),m(p,"class","icon icon-summer svelte-130dpcp"),m(v,"class","text text-summer svelte-130dpcp"),m(c,"class","title svelte-130dpcp"),m(g,"class","work-hours work-summer svelte-130dpcp"),m(h,"class","season"),m(r,"class","wrapper svelte-130dpcp")},m(E,C){H(E,r,C),T(r,t),T(t,e),T(e,n),ut(o,n,null),T(e,a),T(e,s),T(t,l),T(t,u),T(r,f),T(r,h),T(h,c),T(c,p),ut(d,p,null),T(c,x),T(c,v),T(h,_),T(h,g),y=!0},p:j,i(E){y||(it(o.$$.fragment,E),it(d.$$.fragment,E),y=!0)},o(E){ot(o.$$.fragment,E),ot(d.$$.fragment,E),y=!1},d(E){E&&W(r),at(o),at(d)}}}var qf=class extends ${constructor(r){super();J(this,r,null,wm,V,{},Cm)}},Vf=qf;function Sm(i){wt(i,"svelte-1npj7dl",".villages.svelte-1npj7dl{display:flex;justify-content:center;font-size:24px;font-weight:300;line-height:44px}")}function Im(i){let r;return{c(){r=A("div"),r.innerHTML=`<div class="villages svelte-1npj7dl"><ul><li>ASARLI K\xD6Y\xDC</li> 
      <li>AKKAYA K\xD6Y\xDC</li> 
      <li>ALACAB\xDCK K\xD6Y\xDC</li> 
      <li>A\u015EA\u011EI KAYALIDERE K\xD6Y\xDC</li> 
      <li>\xC7AYLIO\u011ELU K\xD6Y\xDC</li> 
      <li>\xC7EVL\u0130K K\xD6Y\xDC</li> 
      <li>DAVUTLAR K\xD6Y\xDC</li> 
      <li>D\xDCZPEL\u0130T K\xD6Y\xDC</li> 
      <li>G\xDCLL\xDCK K\xD6Y\xDC</li> 
      <li>G\xDCNE\u015EL\u0130 K\xD6Y\xDC</li> 
      <li>HASBEYLER K\xD6Y\xDC</li> 
      <li>ORTAK\xD6Y K\xD6Y\xDC</li> 
      <li>S\xDCTL\xDCCE K\xD6Y\xDC</li> 
      <li>VEL\u0130DA\u011E K\xD6Y\xDC</li> 
      <li>YEN\u0130DO\u011EANCILAR K\xD6Y\xDC</li></ul></div>`,m(r,"class","wrapper")},m(t,e){H(t,r,e)},p:j,i:j,o:j,d(t){t&&W(r)}}}var Hf=class extends ${constructor(r){super();J(this,r,null,Im,V,{},Sm)}},Jf=Hf;function Rm(i){wt(i,"svelte-1khuq3f",".wrapper.svelte-1khuq3f.svelte-1khuq3f{display:grid;grid-template-columns:repeat(4, 1fr);justify-content:center;align-items:center;text-align:center;color:white;gap:4px}.wrapper.svelte-1khuq3f>div.svelte-1khuq3f{height:100%;display:flex;align-items:center;justify-content:center;border-radius:4px;padding:8px 0;transition:font-size 200ms ease}.title.svelte-1khuq3f.svelte-1khuq3f{font-size:12px;font-weight:700;background-color:rgb(64, 68, 87)}.village.svelte-1khuq3f.svelte-1khuq3f{background:gray}.vlg-pts.svelte-1khuq3f.svelte-1khuq3f{background-color:lightcoral}.vlg-cuma.svelte-1khuq3f.svelte-1khuq3f{background-color:lightslategray}.pazartesi.svelte-1khuq3f.svelte-1khuq3f{grid-row:span 2 / auto;font-size:32px;font-weight:700;background-color:crimson}.cuma.svelte-1khuq3f.svelte-1khuq3f{grid-row:span 2 / auto;font-size:32px;font-weight:700;background-color:dodgerblue}.c1.svelte-1khuq3f.svelte-1khuq3f{grid-row:span 3 / auto}.column-span.svelte-1khuq3f.svelte-1khuq3f{grid-column:span 2 / auto}.row-span.svelte-1khuq3f.svelte-1khuq3f{grid-row:span 2 / auto}.summer.svelte-1khuq3f.svelte-1khuq3f{color:rgb(64, 68, 87);background-color:rgb(250, 214, 9);font-weight:700}.winter.svelte-1khuq3f.svelte-1khuq3f{color:rgb(64, 68, 87);background-color:lightsteelblue;font-weight:700}.time-sum.svelte-1khuq3f.svelte-1khuq3f{color:#333;background-color:moccasin}.time-win.svelte-1khuq3f.svelte-1khuq3f{color:#333;background-color:lavender}@media(max-width: 600px){.pazartesi.svelte-1khuq3f.svelte-1khuq3f,.cuma.svelte-1khuq3f.svelte-1khuq3f,.village.svelte-1khuq3f.svelte-1khuq3f,.summer.svelte-1khuq3f.svelte-1khuq3f,.winter.svelte-1khuq3f.svelte-1khuq3f,.time-sum.svelte-1khuq3f.svelte-1khuq3f,.time-win.svelte-1khuq3f.svelte-1khuq3f{font-size:12px}}")}function Om(i){let r;return{c(){r=A("div"),r.innerHTML=`<div class="row-span title svelte-1khuq3f">G\xDCNLER</div> 
  <div class="row-span title svelte-1khuq3f">YERLE\u015EKE</div> 
  <div class="column-span title svelte-1khuq3f">SAATLER</div> 
  <div class="summer svelte-1khuq3f">YAZ SAAT\u0130</div> 
  <div class="winter svelte-1khuq3f">KI\u015E SAAT\u0130</div> 

  <div class="pazartesi svelte-1khuq3f">PAZARTES\u0130 1</div> 
  <div class="village vlg-pts svelte-1khuq3f">DAVUTLAR</div> 
  <div class="time-sum svelte-1khuq3f">09:00-12:20</div> 
  <div class="time-win svelte-1khuq3f">08:30-11:50</div> 
  <div class="village vlg-pts svelte-1khuq3f">VEL\u0130DA\u011E</div> 
  <div class="time-sum svelte-1khuq3f">13:30-15:20</div> 
  <div class="time-win svelte-1khuq3f">13:00-14:50</div> 
  <div class="pazartesi svelte-1khuq3f">PAZARTES\u0130 2</div> 
  <div class="village vlg-pts svelte-1khuq3f">AKKAYA</div> 
  <div class="time-sum svelte-1khuq3f">09:00-11:15</div> 
  <div class="time-win svelte-1khuq3f">08:30-10:45</div> 
  <div class="village vlg-pts svelte-1khuq3f">G\xDCLL\xDCK</div> 
  <div class="time-sum svelte-1khuq3f">11:30-16:50</div> 
  <div class="time-win svelte-1khuq3f">11:00-16:20</div> 
  <div class="pazartesi svelte-1khuq3f">PAZARTES\u0130 3</div> 
  <div class="village vlg-pts svelte-1khuq3f">YEN\u0130DO\u011EANCILAR</div> 
  <div class="time-sum svelte-1khuq3f">08:50-12:10</div> 
  <div class="time-win svelte-1khuq3f">08:20-11:40</div> 
  <div class="village vlg-pts svelte-1khuq3f">S\xDCTL\xDCCE</div> 
  <div class="time-sum svelte-1khuq3f">13:30-16:50</div> 
  <div class="time-win svelte-1khuq3f">13:00-16:20</div> 
  <div class="cuma c1 svelte-1khuq3f">CUMA 1</div> 
  <div class="village vlg-cuma svelte-1khuq3f">A\u015EA\u011EIKAYALIDERE</div> 
  <div class="time-sum svelte-1khuq3f">09:00-11:20</div> 
  <div class="time-win svelte-1khuq3f">08:30-10:50</div> 
  <div class="village vlg-cuma svelte-1khuq3f">D\xDCZPEL\u0130T</div> 
  <div class="time-sum svelte-1khuq3f">11:30-14:15</div> 
  <div class="time-win svelte-1khuq3f">11:00-13:45</div> 
  <div class="village vlg-cuma svelte-1khuq3f">HASBEYLER</div> 
  <div class="time-sum svelte-1khuq3f">14:20-17:00</div> 
  <div class="time-win svelte-1khuq3f">13:50-16:30</div> 
  <div class="cuma svelte-1khuq3f">CUMA 2</div> 
  <div class="village vlg-cuma svelte-1khuq3f">ALACAB\xDCK</div> 
  <div class="time-sum svelte-1khuq3f">09:00-13:50</div> 
  <div class="time-win svelte-1khuq3f">08:30-13:20</div> 
  <div class="village vlg-cuma svelte-1khuq3f">ORTAK\xD6Y</div> 
  <div class="time-sum svelte-1khuq3f">14:00-16:45</div> 
  <div class="time-win svelte-1khuq3f">13:30-16:15</div> 
  <div class="cuma c1 svelte-1khuq3f">CUMA 3</div> 
  <div class="village vlg-cuma svelte-1khuq3f">DAVUTLAR</div> 
  <div class="time-sum svelte-1khuq3f">09:00-12:20</div> 
  <div class="time-win svelte-1khuq3f">08:30-11:50</div> 
  <div class="village vlg-cuma svelte-1khuq3f">\xC7EVL\u0130K</div> 
  <div class="time-sum svelte-1khuq3f">13:30-15:25</div> 
  <div class="time-win svelte-1khuq3f">13:00-14:45</div>`,m(r,"class","wrapper svelte-1khuq3f")},m(t,e){H(t,r,e)},p:j,i:j,o:j,d(t){t&&W(r)}}}var Qf=class extends ${constructor(r){super();J(this,r,null,Om,V,{},Rm)}},tc=Qf;function Lm(i){wt(i,"svelte-ef5uyn","main.svelte-ef5uyn{grid-area:main;display:flex;flex-direction:column;gap:80px}")}function Am(i){let r,t;return r=new Os({props:{data:i[0]}}),{c(){ft(r.$$.fragment)},m(e,n){ut(r,e,n),t=!0},p(e,n){let o={};n&1&&(o.data=e[0]),r.$set(o)},i(e){t||(it(r.$$.fragment,e),t=!0)},o(e){ot(r.$$.fragment,e),t=!1},d(e){at(r,e)}}}function Pm(i){let r,t;return r=new Xf({}),{c(){ft(r.$$.fragment)},m(e,n){ut(r,e,n),t=!0},i(e){t||(it(r.$$.fragment,e),t=!0)},o(e){ot(r.$$.fragment,e),t=!1},d(e){at(r,e)}}}function Mm(i){let r,t;return r=new Vf({}),{c(){ft(r.$$.fragment)},m(e,n){ut(r,e,n),t=!0},i(e){t||(it(r.$$.fragment,e),t=!0)},o(e){ot(r.$$.fragment,e),t=!1},d(e){at(r,e)}}}function Fm(i){let r,t;return r=new Jf({}),{c(){ft(r.$$.fragment)},m(e,n){ut(r,e,n),t=!0},i(e){t||(it(r.$$.fragment,e),t=!0)},o(e){ot(r.$$.fragment,e),t=!1},d(e){at(r,e)}}}function Dm(i){let r,t;return r=new tc({}),{c(){ft(r.$$.fragment)},m(e,n){ut(r,e,n),t=!0},i(e){t||(it(r.$$.fragment,e),t=!0)},o(e){ot(r.$$.fragment,e),t=!1},d(e){at(r,e)}}}function km(i){let r,t,e,n,o,a,s,l,u,f,h;return t=new Nr({props:{id:"asm",title:"",$$slots:{default:[Am]},$$scope:{ctx:i}}}),n=new Nr({props:{id:"harita",title:"HAR\u0130TA",$$slots:{default:[Pm]},$$scope:{ctx:i}}}),a=new Nr({props:{id:"calisma-saatleri",title:"\xC7ALI\u015EMA SAATLER\u0130",$$slots:{default:[Mm]},$$scope:{ctx:i}}}),l=new Nr({props:{id:"bagli-koyler",title:"BA\u011ELI K\xD6YLER",$$slots:{default:[Fm]},$$scope:{ctx:i}}}),f=new Nr({props:{id:"gezici-saglik-hizmeti",title:"GEZ\u0130C\u0130 SA\u011ELIK H\u0130ZMET\u0130",$$slots:{default:[Dm]},$$scope:{ctx:i}}}),{c(){r=A("main"),ft(t.$$.fragment),e=z(),ft(n.$$.fragment),o=z(),ft(a.$$.fragment),s=z(),ft(l.$$.fragment),u=z(),ft(f.$$.fragment),m(r,"class","svelte-ef5uyn")},m(c,p){H(c,r,p),ut(t,r,null),T(r,e),ut(n,r,null),T(r,o),ut(a,r,null),T(r,s),ut(l,r,null),T(r,u),ut(f,r,null),h=!0},p(c,[p]){let d={};p&3&&(d.$$scope={dirty:p,ctx:c}),t.$set(d);let x={};p&2&&(x.$$scope={dirty:p,ctx:c}),n.$set(x);let v={};p&2&&(v.$$scope={dirty:p,ctx:c}),a.$set(v);let _={};p&2&&(_.$$scope={dirty:p,ctx:c}),l.$set(_);let g={};p&2&&(g.$$scope={dirty:p,ctx:c}),f.$set(g)},i(c){h||(it(t.$$.fragment,c),it(n.$$.fragment,c),it(a.$$.fragment,c),it(l.$$.fragment,c),it(f.$$.fragment,c),h=!0)},o(c){ot(t.$$.fragment,c),ot(n.$$.fragment,c),ot(a.$$.fragment,c),ot(l.$$.fragment,c),ot(f.$$.fragment,c),h=!1},d(c){c&&W(r),at(t),at(n),at(a),at(l),at(f)}}}function Nm(i,r,t){let{data:e}=r;return i.$$set=n=>{"data"in n&&t(0,e=n.data)},[e]}var ec=class extends ${constructor(r){super();J(this,r,Nm,km,V,{data:0},Lm)}},rc=ec;function Gm(i){wt(i,"svelte-srjwc0","footer.svelte-srjwc0{grid-area:footer;padding:40px 0}")}function bm(i){let r;return{c(){r=A("footer"),m(r,"class","svelte-srjwc0")},m(t,e){H(t,r,e)},p:j,i:j,o:j,d(t){t&&W(r)}}}var nc=class extends ${constructor(r){super();J(this,r,null,bm,V,{},Gm)}},ic=nc;function jm(i){wt(i,"svelte-1nlwhzv",`.wrapper.svelte-1nlwhzv{height:100vh;display:grid;grid-template-areas:"nav"
      "main"
      "footer";gap:72px}.backdrop.svelte-1nlwhzv{position:fixed;top:0;right:0;width:40%;z-index:-1}img.svelte-1nlwhzv{width:100%}@media(max-width: 600px){}`)}function Ym(i){let r=!1,t=()=>{r=!1},e,n,o,a,s,l,u,f,h,c,p,d,x,v;return _r(i[2]),o=new ss({props:{asm_name:i[1].asm_name}}),s=new rc({props:{data:i[1]}}),u=new ic({}),{c(){n=A("div"),ft(o.$$.fragment),a=z(),ft(s.$$.fragment),l=z(),ft(u.$$.fragment),f=z(),h=A("div"),c=A("img"),vi(c.src,p=Um)||m(c,"src",p),m(c,"alt","Atat\xFCrk"),m(c,"class","svelte-1nlwhzv"),m(h,"class","backdrop svelte-1nlwhzv"),xo(h,"opacity",1-Math.max(0,i[0]/400)),m(n,"class","wrapper no-copy svelte-1nlwhzv")},m(_,g){H(_,n,g),ut(o,n,null),T(n,a),ut(s,n,null),T(n,l),ut(u,n,null),T(n,f),T(n,h),T(h,c),d=!0,x||(v=Zt(window,"scroll",()=>{r=!0,clearTimeout(e),e=setTimeout(t,100),i[2]()}),x=!0)},p(_,[g]){g&1&&!r&&(r=!0,clearTimeout(e),scrollTo(window.pageXOffset,_[0]),e=setTimeout(t,100)),(!d||g&1)&&xo(h,"opacity",1-Math.max(0,_[0]/400))},i(_){d||(it(o.$$.fragment,_),it(s.$$.fragment,_),it(u.$$.fragment,_),d=!0)},o(_){ot(o.$$.fragment,_),ot(s.$$.fragment,_),ot(u.$$.fragment,_),d=!1},d(_){_&&W(n),at(o),at(s),at(u),x=!1,v()}}}var Um="./assets/images/ata.png";function Bm(i,r,t){let e={asm_name:"G\xDCNE\u015EL\u0130",tel:"(0372) 325 1393",social_urls:{twitter:"#",facebook:"#",instagram:"#",youtube:"#"}};In(()=>{document.title=`${e?.asm_name.charAt(0).toLocaleUpperCase("TR")}${e?.asm_name.slice(1).toLocaleLowerCase("TR")} Aile Sa\u011Fl\u0131\u011F\u0131 Merkezi`});let n;function o(){t(0,n=window.pageYOffset)}return[n,e,o]}var oc=class extends ${constructor(r){super();J(this,r,Bm,Ym,V,{},jm)}},ac=oc;var Km=new ac({target:document.getElementById("app")}),tP=Km;export{tP as default};
